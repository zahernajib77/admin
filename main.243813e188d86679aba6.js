(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u}),n.d(e,"c",function(){return a});var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(d){e={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t=s),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,o=void 0===i?{}:i,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var u=Object(r.g)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=Object(r.e)(c.value,2),h=l[1];s===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(d){e={error:d}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return a},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,o=this.onInitCallbacks.get(e);if(o)try{for(var s=Object(r.g)(o),a=s.next();!a.done;a=s.next()){var u=a.value;try{u(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===s?void 0:e),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=s),this.component?this.component.multipleInstances?t:s:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"6Uf2":function(t,e,n){"use strict";(function(t){var e=n("zIRd"),r=n("/6Yf"),i=n("qOnz"),o=n("mrSG"),s=n("q/0M"),a="";function u(t){a=t}var c,l=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Object(i.J)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:Object(i.D)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),h=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return Object(i.i)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),d=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new l(e)}}catch(n){}return new h},f=d("localStorage"),p=d("sessionStorage"),g=new s.b("@firebase/database"),m=(c=1,function(){return c++}),y=function(t){var e=Object(i.I)(t),n=new i.d;n.update(e);var r=n.digest();return i.g.encodeByteArray(r)},b=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var o=t[r];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?n+=b.apply(null,o):n+="object"==typeof o?Object(i.J)(o):o,n+=" "}return n},v=null,_=!0,w=function(t,e){Object(i.e)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(g.logLevel=s.a.VERBOSE,v=g.log.bind(g),e&&p.set("logging_enabled",!0)):"function"==typeof t?v=t:(v=null,p.remove("logging_enabled"))},C=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===_&&(_=!1,null===v&&!0===p.get("logging_enabled")&&w(!0)),v){var n=b.apply(null,t);v(n)}},O=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];C.apply(void 0,Object(o.f)([t],Object(o.e)(e)))}},x=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+b.apply(void 0,Object(o.f)([],Object(o.e)(t)));g.error(n)},S=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+b.apply(void 0,Object(o.f)([],Object(o.e)(t)));throw g.error(n),new Error(n)},T=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+b.apply(void 0,Object(o.f)([],Object(o.e)(t)));g.warn(n)},E=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},k="[MIN_NAME]",I="[MAX_NAME]",N=function(t,e){if(t===e)return 0;if(t===k||e===I)return-1;if(e===k||t===I)return 1;var n=F(t),r=F(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},j=function(t,e){return t===e?0:t<e?-1:1},A=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Object(i.J)(e))},M=function(t){if("object"!=typeof t||null===t)return Object(i.J)(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",o=0;o<e.length;o++)0!==o&&(r+=","),r+=Object(i.J)(e[o]),r+=":",r+=M(t[e[o]]);return r+"}"},P=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function R(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var D=function(t){var e,n,r,o,s;Object(i.e)(!E(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(o=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-o)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var a=[];for(s=52;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;s-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse();var u=a.join(""),c="";for(s=0;s<64;s+=8){var l=parseInt(u.substr(s,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},L=new RegExp("^-?(0*)\\d{1,10}$"),F=function(t){if(L.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},U=function(t){try{t()}catch(e){setTimeout(function(){throw T("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},V=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},q=function(){function t(t,e){var n=this;this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(function(t){return n.appCheck=t})}return t.prototype.getToken=function(t){var e=this;return this.appCheck?this.appCheck.getToken(t):new Promise(function(n,r){setTimeout(function(){e.appCheck?e.getToken(t).then(n,r):n(null)},0)})},t.prototype.addTokenChangeListener=function(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(function(e){return e.addTokenListener(t)})},t.prototype.notifyForInvalidToken=function(){T('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},t}(),B=function(){function t(t,e,n){var r=this;this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(function(t){return r.auth_=t})}return t.prototype.getToken=function(t){var e=this;return this.auth_?this.auth_.getToken(t).catch(function(t){return t&&"auth/token-not-initialized"===t.code?(C("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)}):new Promise(function(n,r){setTimeout(function(){e.auth_?e.getToken(t).then(n,r):n(null)},0)})},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(function(e){return e.addAuthTokenListener(t)})},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(e){return e.removeAuthTokenListener(t)})},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';T(t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),z=function(){function t(t){this.accessToken=t}return t.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},t.prototype.addTokenChangeListener=function(t){t(this.accessToken)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.OWNER="owner",t}(),H=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,W="websocket",K="long_polling",G=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===s&&(s=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=f.get("host:"+t)||this._host}return t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&f.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},t}();function $(t,e,n){var r;if(Object(i.e)("string"==typeof e,"typeof type must == string"),Object(i.e)("object"==typeof n,"typeof params must == object"),e===W)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==K)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);var o=[];return R(n,function(t,e){o.push(t+"="+e)}),r+o.join("&")}var Q=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Object(i.i)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return Object(i.l)(this.counters_)},t}(),Y={},Z={};function X(t){var e=t.toString();return Y[e]||(Y[e]=new Q),Y[e]}var J=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&U(function(){n.onMessage_(t[e])})},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),tt="start",et="close",nt=function(){function t(t,e,n,r,i,o,s){var a=this;this.connId=t,this.repoInfo=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=O(t),this.stats_=X(e),this.urlFn=function(t){return a.appCheckToken&&(t.ac=a.appCheckToken),$(e,K,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new J(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if(Object(i.y)()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new rt(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(o.e)(t,5),i=r[0],s=r[1],a=r[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===tt)n.id=s,n.password=a;else{if(i!==et)throw new Error("Unrecognized command received: "+i);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(o.e)(t,2),i=r[0],s=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,s)},function(){n.onClosed_()},n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),n.appCheckToken&&(t.ac=n.appCheckToken),"undefined"!=typeof location&&location.hostname&&H.test(location.hostname)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(Object(i.y)()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=Object(i.J)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=Object(i.h)(e),r=P(n,1840),o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!Object(i.y)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=Object(i.J)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),rt=function(){function t(e,n,r,o){if(this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(i.y)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=m(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(s='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(u){C("frame writing exception"),u.stack&&C(u.stack),C(u)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||C("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,function(){clearTimeout(i),r()})},t.prototype.addTag=function(t,e){var n=this;Object(i.y)()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){C("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}},Math.floor(1))},t}(),it=null;"undefined"!=typeof MozWebSocket?it=MozWebSocket:"undefined"!=typeof WebSocket&&(it=WebSocket);var ot=function(){function t(e,n,r,i,o,s,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=O(this.connId),this.stats_=X(n),this.connURL=t.connectionURL_(n,s,a,i),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n,r){var o={v:"5"};return!Object(i.y)()&&"undefined"!=typeof location&&location.hostname&&H.test(location.hostname)&&(o.r="f"),e&&(o.s=e),n&&(o.ls=n),r&&(o.ac=r),$(t,W,o)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,f.set("previous_websocket_failure",!0);try{if(Object(i.y)()){var r={headers:{"User-Agent":"Firebase/5/"+a+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(r.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var o=process.env,s=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;s&&(r.proxy={origin:s}),this.mySock=new it(this.connURL,[],r)}else this.mySock=new it(this.connURL,[],r={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(c){this.log_("Error instantiating WebSocket.");var u=c.message||c.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==it&&!t.forceDisallow_},t.previouslyFailed=function(){return f.isInMemoryStorage||!0===f.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){f.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=Object(i.D)(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(Object(i.e)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=Object(i.J)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=P(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),st=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[nt,ot]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=ot&&ot.isAvailable(),s=i&&!ot.previouslyFailed();if(e.webSocketOnly&&(i||T("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[ot];else{var a=this.transports_=[];try{for(var u=Object(o.g)(t.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&a.push(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),at=function(){function t(t,e,n,r,i,o,s,a,u,c){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=O("c:"+this.id+":"),this.transportManager_=new st(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,r)},Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=V(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=A("t",t),n=A("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=A("t",t),n=A("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=A("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?x("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):x("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&T("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),V(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):V(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(f.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),ut=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.refreshAppCheckToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),ct=function(){function t(t){this.allowedEvents_=t,this.listeners_={},Object(i.e)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=Object(o.f)([],Object(o.e)(this.listeners_[t])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){Object(i.e)(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),lt=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Object(i.w)()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return Object(o.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(i.e)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(ct),ht=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t}();function dt(){return new ht("")}function ft(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function pt(t){return t.pieces_.length-t.pieceNum_}function gt(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new ht(t.pieces_,e)}function mt(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function yt(t,e){return void 0===e&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function bt(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ht(e,0)}function vt(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ht)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new ht(n,0)}function _t(t){return t.pieceNum_>=t.pieces_.length}function wt(t,e){var n=ft(t),r=ft(e);if(null===n)return e;if(n===r)return wt(gt(t),gt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Ct(t,e){for(var n=yt(t,0),r=yt(e,0),i=0;i<n.length&&i<r.length;i++){var o=N(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Ot(t,e){if(pt(t)!==pt(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function xt(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(pt(t)>pt(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var St=function(){return function(t,e){this.errorPrefix_=e,this.parts_=yt(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(i.H)(this.parts_[n]);Tt(this)}}();function Tt(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Et(t))}function Et(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}var kt,It,Nt=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))},!1),r}return Object(o.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(i.e)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(ct),jt=1e3,At=function(t){function e(n,r,o,s,a,u,c,l){var h=t.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=o,h.onConnectStatus_=s,h.onServerInfoUpdate_=a,h.authTokenProvider_=u,h.appCheckTokenProvider_=c,h.authOverride_=l,h.id=e.nextPersistentConnectionId_++,h.log_=O("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=jt,h.maxReconnectDelay_=3e5,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,l&&!Object(i.y)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Nt.getInstance().on("visible",h.onVisible_,h),-1===n.host.indexOf("fblocal")&&lt.getInstance().on("online",h.onOnline_,h),h}return Object(o.c)(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,o={r:r,a:t,b:e};this.log_(Object(i.J)(o)),Object(i.e)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this;this.initConnection_();var n=new i.a,r={p:t._path.toString(),q:t._queryObject},o={action:"g",request:r,onComplete:function(t){var i=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;var s=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var t=e.outstandingGets_[s];void 0!==t&&o===t&&(delete e.outstandingGets_[s],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+s+" timed out on connection"),n.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(s),n.promise},e.prototype.listen=function(t,e,n,r){this.initConnection_();var o=t._queryIdentifier,s=t._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),Object(i.e)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(i.e)(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(s).set(o,a),this.connected_&&this.sendListen_(a)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var s={p:i};t.tag&&(s.q=r._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,function(s){var a=s.d,u=s.s;e.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",s),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,a))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&Object(i.i)(t,"w")){var n=Object(i.G)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e._queryParams.getIndex().toString()+'"',o=e._path.toString();T("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+o+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||Object(i.q)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.refreshAppCheckToken=function(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=Object(i.C)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))})}},e.prototype.tryAppCheck=function(){var t=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(e){var n=e.s,r=e.d||"error";"ok"===n?t.invalidAppCheckTokenCount_=0:t.onAppCheckRevoked_(n,r)})},e.prototype.unlisten=function(t,e){var n=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Object(i.e)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t._queryObject,e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){this.initConnection_();var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Object(i.J)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"apc"===t?this.onAppCheckRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):x("Unrecognized action received from server: "+Object(i.J)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;Object(i.e)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=jt,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=jt,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=jt),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){return Object(o.b)(this,void 0,void 0,function(){var t,n,r,s,a,u,c,l,h,d,f,p,g,m=this;return Object(o.d)(this,function(y){switch(y.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+e.nextConnectionId_++,a=this.lastSessionId,u=!1,c=null,this.realtime_={close:l=function(){c?c.close():(u=!0,r())},sendRequest:function(t){Object(i.e)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(t)}},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)])];case 2:return d=o.e.apply(void 0,[y.sent(),2]),f=d[0],p=d[1],u?C("getToken() completed but was canceled"):(C("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=p&&p.token,c=new at(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,function(t){T(t+" ("+m.repoInfo_.toString()+")"),m.interrupt("server_kill")},a)),[3,4];case 3:return g=y.sent(),this.log_("Failed to get token: "+g),u||(this.repoInfo_.nodeAdmin&&T(g),l()),[3,4];case 4:return[2]}})})},e.prototype.interrupt=function(t){C("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){C("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Object(i.u)(this.interruptReasons_)&&(this.reconnectDelay_=jt,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return M(t)}).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new ht(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){C("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onAppCheckRevoked_=function(t,e){C("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=Object(o.g)(this.listens.values()),s=i.next();!s.done;s=i.next()){var a=s.value;try{for(var u=(n=void 0,Object(o.g)(a.values())),c=u.next();!c.done;c=u.next())this.sendListen_(c.value)}catch(d){n={error:d}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(f){t={error:f}}finally{try{s&&!s.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},e.prototype.sendConnectStats_=function(){var t={},e="js";Object(i.y)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+a.replace(/\./g,"-")]=1,Object(i.w)()?t["framework.cordova"]=1:Object(i.z)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=lt.getInstance().currentlyOnline();return Object(i.u)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(ut),Mt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Pt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Mt(k,t),r=new Mt(k,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return Mt.MIN},t}(),Rt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return kt},set:function(t){kt=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return N(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw Object(i.f)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Mt.MIN},e.prototype.maxPost=function(){return new Mt(I,kt)},e.prototype.makePost=function(t,e){return Object(i.e)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Mt(t,kt)},e.prototype.toString=function(){return".key"},e}(Pt),Dt=new Rt,Lt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Ft=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Vt.EMPTY_NODE,this.right=null!=o?o:Vt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Vt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Vt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Ut=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Ft(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Vt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ft.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ft.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Lt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Lt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Lt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Lt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Ut,t}();function qt(t,e){return N(t.name,e.name)}function Bt(t,e){return N(t,e)}var zt,Ht,Wt,Kt,Gt,$t=function(t){return"number"==typeof t?"number:"+D(t):"string:"+t},Qt=function(t){if(t.isLeafNode()){var e=t.val();Object(i.e)("string"==typeof e||"number"==typeof e||"object"==typeof e&&Object(i.i)(e,".sv"),"Priority must be a string or number.")}else Object(i.e)(t===It||t.isEmpty(),"priority of unexpected type.");Object(i.e)(t===It||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Yt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Object(i.e)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Qt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return zt},set:function(t){zt=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return _t(e)?this:".priority"===ft(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=ft(e);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(i.e)(".priority"!==r||1===pt(e),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(gt(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+$t(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?D(this.value_):this.value_,this.lazyHash_=y(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(Object(i.e)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(n),s=t.VALUE_TYPE_ORDER.indexOf(r);return Object(i.e)(o>=0,"Unknown leaf type: "+n),Object(i.e)(s>=0,"Unknown leaf type: "+r),o===s?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-o},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Zt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?N(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Mt.MIN},e.prototype.maxPost=function(){return new Mt(I,new Yt("[PRIORITY-POST]",Wt))},e.prototype.makePost=function(t,e){var n=Ht(t);return new Mt(e,new Yt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Pt)),Xt=Math.log(2),Jt=function(){function t(t){this.count=parseInt(Math.log(t+1)/Xt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),te=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,s,a=r-e;if(0===a)return null;if(1===a)return o=t[e],s=n?n(o):o,new Ft(s,o.node,Ft.BLACK,null,null);var u=parseInt(a/2,10)+e,c=i(e,u),l=i(u+1,r);return o=t[u],s=n?n(o):o,new Ft(s,o.node,Ft.BLACK,c,l)},o=function(e){for(var r=null,o=null,s=t.length,a=function(e,r){var o=s-e,a=s;s-=e;var c=i(o+1,a),l=t[o],h=n?n(l):l;u(new Ft(h,l.node,r,null,c))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},c=0;c<e.count;++c){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));l?a(h,Ft.BLACK):(a(h,Ft.BLACK),a(h,Ft.RED))}return o}(new Jt(t.length));return new Vt(r||e,o)},ee={},ne=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return Object(i.e)(ee&&Zt,"ChildrenNode.ts has not been loaded"),Kt=Kt||new t({".priority":ee},{".priority":Zt})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=Object(i.G)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Vt?e:null},t.prototype.hasIndex=function(t){return Object(i.i)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){Object(i.e)(e!==Dt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,s=[],a=!1,u=n.getIterator(Mt.Wrap),c=u.getNext();c;)a=a||e.isDefinedOn(c.node),s.push(c),c=u.getNext();r=a?te(s,e.getCompare()):ee;var l=e.toString(),h=Object(o.a)({},this.indexSet_);h[l]=e;var d=Object(o.a)({},this.indexes_);return d[l]=r,new t(d,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(Object(i.E)(this.indexes_,function(t,o){var s=Object(i.G)(r.indexSet_,o);if(Object(i.e)(s,"Missing index implementation for "+o),t===ee){if(s.isDefinedOn(e.node)){for(var a=[],u=n.getIterator(Mt.Wrap),c=u.getNext();c;)c.name!==e.name&&a.push(c),c=u.getNext();return a.push(e),te(a,s.getCompare())}return ee}var l=n.get(e.name),h=t;return l&&(h=h.remove(new Mt(e.name,l))),h.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(Object(i.E)(this.indexes_,function(t){if(t===ee)return t;var r=n.get(e.name);return r?t.remove(new Mt(e.name,r)):t}),this.indexSet_)},t}(),re=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Qt(this.priorityNode_),this.children_.isEmpty()&&Object(i.e)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return Gt||(Gt=new t(new Vt(Bt),null,ne.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Gt},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?Gt:e},t.prototype.getChild=function(t){var e=ft(t);return null===e?this:this.getImmediateChild(e).getChild(gt(t))},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(Object(i.e)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new Mt(e,n),o=void 0,s=void 0;n.isEmpty()?(o=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=o.isEmpty()?Gt:this.priorityNode_;return new t(o,a,s)},t.prototype.updateChild=function(t,e){var n=ft(t);if(null===n)return e;Object(i.e)(".priority"!==ft(t)||1===pt(t),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(gt(t),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Zt,function(s,a){n[s]=a.val(e),r++,o&&t.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!e&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+$t(this.getPriority().val())+":"),this.forEachChild(Zt,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.lazyHash_=""===t?"":y(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Mt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Mt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Mt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var r=this.children_.getIteratorFrom(t.name,Mt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var r=this.children_.getReverseIteratorFrom(t.name,Mt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ie?-1:0},t.prototype.withIndex=function(e){if(e===Dt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Dt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Zt),r=e.getIterator(Zt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Dt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),ie=new(function(t){function e(){return t.call(this,new Vt(Bt),re.EMPTY_NODE,ne.Default)||this}return Object(o.c)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return re.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(re));function oe(t,e){if(void 0===e&&(e=null),null===t)return re.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),Object(i.e)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Yt(t,oe(e));if(t instanceof Array){var n=re.EMPTY_NODE;return R(t,function(e,r){if(Object(i.i)(t,e)&&"."!==e.substring(0,1)){var o=oe(r);!o.isLeafNode()&&o.isEmpty()||(n=n.updateImmediateChild(e,o))}}),n.updatePriority(oe(e))}var r=[],o=!1;if(R(t,function(t,e){if("."!==t.substring(0,1)){var n=oe(e);n.isEmpty()||(o=o||!n.getPriority().isEmpty(),r.push(new Mt(t,n)))}}),0===r.length)return re.EMPTY_NODE;var s=te(r,qt,function(t){return t.name},Bt);if(o){var a=te(r,Zt.getCompare());return new re(s,oe(e),new ne({".priority":a},{".priority":Zt}))}return new re(s,oe(e),ne.Default)}Object.defineProperties(Mt,{MIN:{value:new Mt(k,re.EMPTY_NODE)},MAX:{value:new Mt(I,ie)}}),Rt.__EMPTY_NODE=re.EMPTY_NODE,Yt.__childrenNodeConstructor=re,It=ie,Wt=ie,Ht=oe;var se,ae,ue=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,Object(i.e)(!_t(e)&&".priority"!==ft(e),"Can't create PathIndex with empty path or .priority key"),n}return Object(o.c)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?N(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=oe(t),r=re.EMPTY_NODE.updateChild(this.indexPath_,n);return new Mt(e,r)},e.prototype.maxPost=function(){var t=re.EMPTY_NODE.updateChild(this.indexPath_,ie);return new Mt(I,t)},e.prototype.toString=function(){return yt(this.indexPath_,0).join("/")},e}(Pt),ce=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?N(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Mt.MIN},e.prototype.maxPost=function(){return Mt.MAX},e.prototype.makePost=function(t,e){var n=oe(t);return new Mt(e,n)},e.prototype.toString=function(){return".value"},e}(Pt)),le="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",he=(se=0,ae=[],function(t){var e,n=t===se;se=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=le.charAt(t%64),t=Math.floor(t/64);Object(i.e)(0===t,"Cannot push at time == 0");var o=r.join("");if(n){for(e=11;e>=0&&63===ae[e];e--)ae[e]=0;ae[e]++}else for(e=0;e<12;e++)ae[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)o+=le.charAt(ae[e]);return Object(i.e)(20===o.length,"nextPushId: Length should be 20."),o}),de=function(t){if("2147483647"===t)return"-";var e=F(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return I;var o=le.charAt(le.indexOf(n[i])+1);return n[i]=o,n.slice(0,i+1).join("")},fe=function(t){if("-2147483648"===t)return k;var e=F(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=le.charAt(le.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function pe(t){return{type:"value",snapshotNode:t}}function ge(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function me(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ye(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}var be=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,o,s){Object(i.e)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?t:(null!=s&&(n.isEmpty()?t.hasChild(e)?s.trackChildChange(me(e,a)):Object(i.e)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(ge(e,n)):s.trackChildChange(ye(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Zt,function(t,r){e.hasChild(t)||n.trackChildChange(me(t,r))}),e.isLeafNode()||e.forEachChild(Zt,function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(ye(e,r,i))}else n.trackChildChange(ge(e,r))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?re.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),ve=function(){function t(e){this.indexedFilter_=new be(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new Mt(e,n))||(n=re.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=re.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(re.EMPTY_NODE);var i=this;return e.forEachChild(Zt,function(t,e){i.matches(new Mt(t,e))||(r=r.updateImmediateChild(t,re.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),_e=function(){function t(t){this.rangedFilter_=new ve(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new Mt(e,n))||(n=re.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=re.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=re.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(re.EMPTY_NODE);var a=void 0,u=void 0,c=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)s=i.getNext(),!h&&c(a,s)<=0&&(h=!0),h&&o<this.limit_&&c(s,u)<=0?o++:r=r.updateImmediateChild(s.name,re.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,o){var s;if(this.reverse_){var a=this.index_.getCompare();s=function(t,e){return a(e,t)}}else s=this.index_.getCompare();var u=t;Object(i.e)(u.numChildren()===this.limit_,"");var c=new Mt(e,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(e)){for(var d=u.getImmediateChild(e),f=r.getChildAfterChild(this.index_,l,this.reverse_);null!=f&&(f.name===e||u.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var p=null==f?1:s(f,c);if(h&&!n.isEmpty()&&p>=0)return null!=o&&o.trackChildChange(ye(e,n,d)),u.updateImmediateChild(e,n);null!=o&&o.trackChildChange(me(e,d));var g=u.updateImmediateChild(e,re.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=o&&o.trackChildChange(ge(f.name,f.node)),g.updateImmediateChild(f.name,f.node)):g}return n.isEmpty()?t:h&&s(l,c)>=0?(null!=o&&(o.trackChildChange(me(l.name,l.node)),o.trackChildChange(ge(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(l.name,re.EMPTY_NODE)):t},t}(),we=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Zt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},t.prototype.getIndexStartValue=function(){return Object(i.e)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return Object(i.e)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:k},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return Object(i.e)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return Object(i.e)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:I},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return Object(i.e)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Zt},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function Ce(t,e,n){var r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Oe(t,e,n){var r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function xe(t,e){var n=t.copy();return n.index_=e,n}function Se(t){var e,n={};return t.isDefault()||(t.index_===Zt?e="$priority":t.index_===ce?e="$value":t.index_===Dt?e="$key":(Object(i.e)(t.index_ instanceof ue,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=Object(i.J)(e),t.startSet_&&(n.startAt=Object(i.J)(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+Object(i.J)(t.indexStartName_))),t.endSet_&&(n.endAt=Object(i.J)(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+Object(i.J)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_)),n}function Te(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==Zt&&(e.i=t.index_.toString()),e}var Ee=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.repoInfo_=e,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=O("p:rest:"),o.listens_={},o}return Object(o.c)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Object(i.e)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())},e.prototype.listen=function(t,n,r,o){var s=this,a=t._path.toString();this.log_("Listen called for "+a+" "+t._queryIdentifier);var u=e.getListenId_(t,r),c={};this.listens_[u]=c;var l=Se(t._queryParams);this.restRequest_(a+".json",l,function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&s.onDataUpdate_(a,n,!1,r),Object(i.G)(s.listens_,u)===c&&o(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)})},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=Se(t._queryParams),r=t._path.toString(),o=new i.a;return this.restRequest_(r+".json",n,function(t,n){var i=n;404===t&&(i=null,t=null),null===t?(e.onDataUpdate_(r,i,!1,null),o.resolve(i)):o.reject(new Error(i))}),o.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;return void 0===e&&(e={}),e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(s){var a=Object(o.e)(s,2),u=a[0],c=a[1];u&&u.accessToken&&(e.auth=u.accessToken),c&&c.token&&(e.ac=c.token);var l=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+Object(i.F)(e);r.log_("Sending REST request for "+l);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(n&&4===h.readyState){r.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);var t=null;if(h.status>=200&&h.status<300){try{t=Object(i.D)(h.responseText)}catch(e){T("Failed to parse JSON response for "+l+": "+h.responseText)}n(null,t)}else 401!==h.status&&404!==h.status&&T("Got unsuccessful REST response for "+l+" Status: "+h.status),n(h.status);n=null}},h.open("GET",l,!0),h.send()})},e}(ut),ke=function(){function t(){this.rootNode_=re.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}();function Ie(){return{value:null,children:new Map}}function Ne(t,e,n){if(_t(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{var r=ft(e);t.children.has(r)||t.children.set(r,Ie()),Ne(t.children.get(r),e=gt(e),n)}}function je(t,e){if(_t(e))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var n=t.value;return t.value=null,n.forEachChild(Zt,function(e,n){Ne(t,new ht(e),n)}),je(t,e)}if(t.children.size>0){var r=ft(e);return e=gt(e),t.children.has(r)&&je(t.children.get(r),e)&&t.children.delete(r),0===t.children.size}return!0}function Ae(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach(function(t,n){e(n,t)})}(t,function(t,r){Ae(r,new ht(e.toString()+"/"+t),n)})}var Me=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=Object(o.a)({},t);return this.last_&&R(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}(),Pe=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Me(t);var n=1e4+2e4*Math.random();V(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;R(e,function(e,o){o>0&&Object(i.i)(t.statsToReport_,e)&&(n[e]=o,r=!0)}),r&&this.server_.reportStats(n),V(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Re=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({});function De(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Le,Fe=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Re.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return t.prototype.operationForChild=function(e){if(_t(this.path)){if(null!=this.affectedTree.value)return Object(i.e)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new ht(e));return new t(dt(),n,this.revert)}return Object(i.e)(ft(this.path)===e,"operationForChild called for unrelated child."),new t(gt(this.path),this.affectedTree,this.revert)},t}(),Ue=function(){function t(t,e){this.source=t,this.path=e,this.type=Re.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return _t(this.path)?new t(this.source,dt()):new t(this.source,gt(this.path))},t}(),Ve=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Re.OVERWRITE}return t.prototype.operationForChild=function(e){return _t(this.path)?new t(this.source,dt(),this.snap.getImmediateChild(e)):new t(this.source,gt(this.path),this.snap)},t}(),qe=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Re.MERGE}return t.prototype.operationForChild=function(e){if(_t(this.path)){var n=this.children.subtree(new ht(e));return n.isEmpty()?null:n.value?new Ve(this.source,dt(),n.value):new t(this.source,dt(),n)}return Object(i.e)(ft(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,gt(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),Be=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(_t(t))return this.isFullyInitialized()&&!this.filtered_;var e=ft(t);return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),ze=function(){return function(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}();function He(t,e,n,r,o,s){var a=r.filter(function(t){return t.type===n});a.sort(function(e,n){return function(t,e,n){if(null==e.childName||null==n.childName)throw Object(i.f)("Should only compare child_ events.");var r=new Mt(e.childName,e.snapshotNode),o=new Mt(n.childName,n.snapshotNode);return t.index_.compare(r,o)}(t,e,n)}),a.forEach(function(n){var r=function(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,n,s);o.forEach(function(i){i.respondsTo(n.type)&&e.push(i.createEvent(r,t.query_))})})}function We(t,e){return{eventCache:t,serverCache:e}}function Ke(t,e,n,r){return We(new Be(e,n,r),t.serverCache)}function Ge(t,e,n,r){return We(t.eventCache,new Be(e,n,r))}function $e(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Qe(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Ye=function(){function t(t,e){void 0===e&&(Le||(Le=new Vt(j)),e=Le),this.value=t,this.children=e}return t.fromObject=function(e){var n=new t(null);return R(e,function(t,e){n=n.set(new ht(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:dt(),value:this.value};if(_t(t))return null;var n=ft(t),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(gt(t),e);return null!=i?{path:vt(new ht(n),i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(_t(e))return this;var n=ft(e),r=this.children.get(n);return null!==r?r.subtree(gt(e)):new t(null)},t.prototype.set=function(e,n){if(_t(e))return new t(n,this.children);var r=ft(e),i=(this.children.get(r)||new t(null)).set(gt(e),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(_t(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=ft(e),r=this.children.get(n);if(r){var i=r.remove(gt(e)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new t(null):new t(this.value,o)}return this},t.prototype.get=function(t){if(_t(t))return this.value;var e=ft(t),n=this.children.get(e);return n?n.get(gt(t)):null},t.prototype.setTree=function(e,n){if(_t(e))return n;var r,i=ft(e),o=(this.children.get(i)||new t(null)).setTree(gt(e),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(dt(),t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(vt(t,r),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,dt(),e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(_t(t))return null;var i=ft(t),o=this.children.get(i);return o?o.findOnPath_(gt(t),vt(e,i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,dt(),e)},t.prototype.foreachOnPath_=function(e,n,r){if(_t(e))return this;this.value&&r(n,this.value);var i=ft(e),o=this.children.get(i);return o?o.foreachOnPath_(gt(e),vt(n,i),r):new t(null)},t.prototype.foreach=function(t){this.foreach_(dt(),t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,r){r.foreach_(vt(t,n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t}(),Ze=function(){function t(t){this.writeTree_=t}return t.empty=function(){return new t(new Ye(null))},t}();function Xe(t,e,n){if(_t(e))return new Ze(new Ye(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,s=wt(i,e);return o=o.updateChild(s,n),new Ze(t.writeTree_.set(i,o))}var a=new Ye(n),u=t.writeTree_.setTree(e,a);return new Ze(u)}function Je(t,e,n){var r=t;return R(n,function(t,n){r=Xe(r,vt(e,t),n)}),r}function tn(t,e){if(_t(e))return Ze.empty();var n=t.writeTree_.setTree(e,new Ye(null));return new Ze(n)}function en(t,e){return null!=nn(t,e)}function nn(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(wt(n.path,e)):null}function rn(t){var e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Zt,function(t,n){e.push(new Mt(t,n))}):t.writeTree_.children.inorderTraversal(function(t,n){null!=n.value&&e.push(new Mt(t,n.value))}),e}function on(t,e){if(_t(e))return t;var n=nn(t,e);return new Ze(null!=n?new Ye(n):t.writeTree_.subtree(e))}function sn(t){return t.writeTree_.isEmpty()}function an(t,e){return un(dt(),t.writeTree_,e)}function un(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal(function(e,o){".priority"===e?(Object(i.e)(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=un(vt(t,e),o,n)}),n.getChild(t).isEmpty()||null===r||(n=n.updateChild(vt(t,".priority"),r)),n}function cn(t,e){return _n(e,t)}function ln(t,e){if(t.snap)return xt(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&xt(vt(t.path,n),e))return!0;return!1}function hn(t){return t.visible}function dn(t,e,n){for(var r=Ze.empty(),o=0;o<t.length;++o){var s=t[o];if(e(s)){var a=s.path,u=void 0;if(s.snap)xt(n,a)?r=Xe(r,u=wt(n,a),s.snap):xt(a,n)&&(u=wt(a,n),r=Xe(r,dt(),s.snap.getChild(u)));else{if(!s.children)throw Object(i.f)("WriteRecord should have .snap or .children");if(xt(n,a))r=Je(r,u=wt(n,a),s.children);else if(xt(a,n))if(_t(u=wt(a,n)))r=Je(r,dt(),s.children);else{var c=Object(i.G)(s.children,ft(u));if(c){var l=c.getChild(gt(u));r=Xe(r,dt(),l)}}}}}return r}function fn(t,e,n,r,i){if(r||i){var o=on(t.visibleWrites,e);return!i&&sn(o)?n:i||null!=n||en(o,dt())?an(dn(t.allWrites,function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(xt(t.path,e)||xt(e,t.path))},e),n||re.EMPTY_NODE):null}var s=nn(t.visibleWrites,e);if(null!=s)return s;var a=on(t.visibleWrites,e);return sn(a)?n:null!=n||en(a,dt())?an(a,n||re.EMPTY_NODE):null}function pn(t,e,n,r){return fn(t.writeTree,t.treePath,e,n,r)}function gn(t,e){return function(t,e,n){var r=re.EMPTY_NODE,i=nn(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Zt,function(t,e){r=r.updateImmediateChild(t,e)}),r;if(n){var o=on(t.visibleWrites,e);return n.forEachChild(Zt,function(t,e){var n=an(on(o,new ht(t)),e);r=r.updateImmediateChild(t,n)}),rn(o).forEach(function(t){r=r.updateImmediateChild(t.name,t.node)}),r}return rn(on(t.visibleWrites,e)).forEach(function(t){r=r.updateImmediateChild(t.name,t.node)}),r}(t.writeTree,t.treePath,e)}function mn(t,e,n,r){return function(t,e,n,r,o){Object(i.e)(r||o,"Either existingEventSnap or existingServerSnap must exist");var s=vt(e,n);if(en(t.visibleWrites,s))return null;var a=on(t.visibleWrites,s);return sn(a)?o.getChild(n):an(a,o.getChild(n))}(t.writeTree,t.treePath,e,n,r)}function yn(t,e){return function(t,e){return nn(t.visibleWrites,e)}(t.writeTree,vt(t.treePath,e))}function bn(t,e,n){return function(t,e,n,r){var i=vt(e,n),o=nn(t.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?an(on(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function vn(t,e){return _n(vt(t.treePath,e),t.writeTree)}function _n(t,e){return{treePath:t,writeTree:e}}var wn=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Object(i.e)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),Object(i.e)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(n,ye(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(n,me(n,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(n,ge(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw Object(i.f)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,ye(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),Cn=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),On=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new Be(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return bn(this.writes_,t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Qe(this.viewCache_),i=function(t,e,n,r,i,o){return function(t,e,n,r,i,o,s){var a,u=on(t.visibleWrites,e),c=nn(u,dt());if(null!=c)a=c;else{if(null==n)return[];a=an(u,n)}if((a=a.withIndex(s)).isEmpty()||a.isLeafNode())return[];for(var l=[],h=s.getCompare(),d=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),f=d.getNext();f&&l.length<1;)0!==h(f,r)&&l.push(f),f=d.getNext();return l}(t.writeTree,t.treePath,e,n,0,i,o)}(this.writes_,r,e,0,n,t);return 0===i.length?null:i[0]},t}();function xn(t,e,n,r,o,s){var a=e.eventCache;if(null!=yn(r,n))return e;var u=void 0,c=void 0;if(_t(n))if(Object(i.e)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var l=Qe(e),h=gn(r,l instanceof re?l:re.EMPTY_NODE);u=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{var d=pn(r,Qe(e));u=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{var f=ft(n);if(".priority"===f){Object(i.e)(1===pt(n),"Can't have a priority with additional path components");var p=a.getNode(),g=mn(r,n,p,c=e.serverCache.getNode());u=null!=g?t.filter.updatePriority(p,g):a.getNode()}else{var m=gt(n),y=void 0;if(a.isCompleteForChild(f)){c=e.serverCache.getNode();var b=mn(r,n,a.getNode(),c);y=null!=b?a.getNode().getImmediateChild(f).updateChild(m,b):a.getNode().getImmediateChild(f)}else y=bn(r,f,e.serverCache);u=null!=y?t.filter.updateChild(a.getNode(),f,y,m,o,s):a.getNode()}}return Ke(e,u,a.isFullyInitialized()||_t(n),t.filter.filtersNodes())}function Sn(t,e,n,r,i,o,s,a){var u,c=e.serverCache,l=s?t.filter:t.filter.getIndexedFilter();if(_t(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var d=ft(n);if(!c.isCompleteForPath(n)&&pt(n)>1)return e;var f=gt(n),p=c.getNode().getImmediateChild(d).updateChild(f,r);u=".priority"===d?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),d,p,f,Cn,null)}var g=Ge(e,u,c.isFullyInitialized()||_t(n),l.filtersNodes());return xn(t,g,n,i,new On(i,g,o),a)}function Tn(t,e,n,r,i,o,s){var a,u,c=e.eventCache,l=new On(i,e,o);if(_t(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,s),a=Ke(e,u,!0,t.filter.filtersNodes());else{var h=ft(n);if(".priority"===h)u=t.filter.updatePriority(e.eventCache.getNode(),r),a=Ke(e,u,c.isFullyInitialized(),c.isFiltered());else{var d=gt(n),f=c.getNode().getImmediateChild(h),p=void 0;if(_t(d))p=r;else{var g=l.getCompleteChild(h);p=null!=g?".priority"===mt(d)&&g.getChild(bt(d)).isEmpty()?g:g.updateChild(d,r):re.EMPTY_NODE}a=f.equals(p)?e:Ke(e,t.filter.updateChild(c.getNode(),h,p,d,l,s),c.isFullyInitialized(),t.filter.filtersNodes())}}return a}function En(t,e){return t.eventCache.isCompleteForChild(e)}function kn(t,e,n){return n.foreach(function(t,n){e=e.updateChild(t,n)}),e}function In(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var u,c=e;u=_t(n)?r:new Ye(null).setTree(n,r);var l=e.serverCache.getNode();return u.children.inorderTraversal(function(n,r){if(l.hasChild(n)){var u=kn(0,e.serverCache.getNode().getImmediateChild(n),r);c=Sn(t,c,new ht(n),u,i,o,s,a)}}),u.children.inorderTraversal(function(n,r){var u=!e.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=kn(0,e.serverCache.getNode().getImmediateChild(n),r);c=Sn(t,c,new ht(n),h,i,o,s,a)}}),c}var Nn,jn=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new be(r.getIndex()),o=(n=r).loadsAllData()?new be(n.getIndex()):n.hasLimit()?new _e(n):new ve(n);this.processor_=function(t){return{filter:t}}(o);var s=e.serverCache,a=e.eventCache,u=i.updateFullNode(re.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(re.EMPTY_NODE,a.getNode(),null),l=new Be(u,s.isFullyInitialized(),i.filtersNodes()),h=new Be(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=We(h,l),this.eventGenerator_=new ze(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function An(t,e){var n=Qe(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!_t(e)&&!n.getImmediateChild(ft(e)).isEmpty())?n.getChild(e):null}function Mn(t){return 0===t.eventRegistrations_.length}function Pn(t,e,n){var r=[];if(n){Object(i.e)(null==e,"A cancel should cancel all event registrations.");var o=t.query._path;t.eventRegistrations_.forEach(function(t){var e=t.createCancelEvent(n,o);e&&r.push(e)})}if(e){for(var s=[],a=0;a<t.eventRegistrations_.length;++a){var u=t.eventRegistrations_[a];if(u.matches(e)){if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(a+1));break}}else s.push(u)}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function Rn(t,e,n,r){e.type===Re.MERGE&&null!==e.source.queryId&&(Object(i.e)(Qe(t.viewCache_),"We should always have a full cache before handling merges"),Object(i.e)($e(t.viewCache_),"Missing event cache, even though we have a server cache"));var o,s,a=t.viewCache_,u=function(t,e,n,r,o){var s,a,u=new wn;if(n.type===Re.OVERWRITE){var c=n;c.source.fromUser?s=Tn(t,e,c.path,c.snap,r,o,u):(Object(i.e)(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!_t(c.path),s=Sn(t,e,c.path,c.snap,r,o,a,u))}else if(n.type===Re.MERGE){var l=n;l.source.fromUser?s=function(t,e,n,r,i,o,s){var a=e;return r.foreach(function(r,u){var c=vt(n,r);En(e,ft(c))&&(a=Tn(t,a,c,u,i,o,s))}),r.foreach(function(r,u){var c=vt(n,r);En(e,ft(c))||(a=Tn(t,a,c,u,i,o,s))}),a}(t,e,l.path,l.children,r,o,u):(Object(i.e)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=In(t,e,l.path,l.children,r,o,a,u))}else if(n.type===Re.ACK_USER_WRITE){var h=n;s=h.revert?function(t,e,n,r,o,s){var a;if(null!=yn(r,n))return e;var u=new On(r,e,o),c=e.eventCache.getNode(),l=void 0;if(_t(n)||".priority"===ft(n)){var h=void 0;if(e.serverCache.isFullyInitialized())h=pn(r,Qe(e));else{var d=e.serverCache.getNode();Object(i.e)(d instanceof re,"serverChildren would be complete if leaf node"),h=gn(r,d)}l=t.filter.updateFullNode(c,h=h,s)}else{var f=ft(n),p=bn(r,f,e.serverCache);null==p&&e.serverCache.isCompleteForChild(f)&&(p=c.getImmediateChild(f)),(l=null!=p?t.filter.updateChild(c,f,p,gt(n),u,s):e.eventCache.getNode().hasChild(f)?t.filter.updateChild(c,f,re.EMPTY_NODE,gt(n),u,s):c).isEmpty()&&e.serverCache.isFullyInitialized()&&(a=pn(r,Qe(e))).isLeafNode()&&(l=t.filter.updateFullNode(l,a,s))}return a=e.serverCache.isFullyInitialized()||null!=yn(r,dt()),Ke(e,l,a,t.filter.filtersNodes())}(t,e,h.path,r,o,u):function(t,e,n,r,i,o,s){if(null!=yn(i,n))return e;var a=e.serverCache.isFiltered(),u=e.serverCache;if(null!=r.value){if(_t(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Sn(t,e,n,u.getNode().getChild(n),i,o,a,s);if(_t(n)){var c=new Ye(null);return u.getNode().forEachChild(Dt,function(t,e){c=c.set(new ht(t),e)}),In(t,e,n,c,i,o,a,s)}return e}var l=new Ye(null);return r.foreach(function(t,e){var r=vt(n,t);u.isCompleteForPath(r)&&(l=l.set(t,u.getNode().getChild(r)))}),In(t,e,n,l,i,o,a,s)}(t,e,h.path,h.affectedTree,r,o,u)}else{if(n.type!==Re.LISTEN_COMPLETE)throw Object(i.f)("Unknown operation type: "+n.type);s=function(t,e,n,r,i){var o=e.serverCache;return xn(t,Ge(e,o.getNode(),o.isFullyInitialized()||_t(n),o.isFiltered()),n,r,Cn,i)}(t,e,n.path,r,u)}var d=u.getChanges();return function(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=$e(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(pe($e(e)))}}(e,s,d),{viewCache:s,changes:d}}(t.processor_,a,e,n,r);return o=t.processor_,s=u.viewCache,Object(i.e)(s.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),Object(i.e)(s.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),Object(i.e)(u.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=u.viewCache,Dn(t,u.changes,u.viewCache.eventCache.getNode(),null)}function Dn(t,e,n,r){return function(t,e,n,r){var i=[],o=[];return e.forEach(function(e){"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push({type:"child_moved",snapshotNode:e.snapshotNode,childName:e.childName})}),He(t,i,"child_removed",e,r,n),He(t,i,"child_added",e,r,n),He(t,i,"child_moved",o,r,n),He(t,i,"child_changed",e,r,n),He(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}var Ln,Fn=function(){return function(){this.views=new Map}}();function Un(t,e,n,r){var s,a,u=e.source.queryId;if(null!==u){var c=t.views.get(u);return Object(i.e)(null!=c,"SyncTree gave us an op for an invalid query."),Rn(c,e,n,r)}var l=[];try{for(var h=Object(o.g)(t.views.values()),d=h.next();!d.done;d=h.next())l=l.concat(Rn(c=d.value,e,n,r))}catch(f){s={error:f}}finally{try{d&&!d.done&&(a=h.return)&&a.call(h)}finally{if(s)throw s.error}}return l}function Vn(t,e,n,r,i){var o=t.views.get(e._queryIdentifier);if(!o){var s=pn(n,i?r:null),a=!1;s?a=!0:r instanceof re?(s=gn(n,r),a=!1):(s=re.EMPTY_NODE,a=!1);var u=We(new Be(s,a,!1),new Be(r,i,!1));return new jn(e,u)}return o}function qn(t){var e,n,r=[];try{for(var i=Object(o.g)(t.views.values()),s=i.next();!s.done;s=i.next()){var a=s.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(u){e={error:u}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Bn(t,e){var n,r,i=null;try{for(var s=Object(o.g)(t.views.values()),a=s.next();!a.done;a=s.next())i=i||An(a.value,e)}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i}function zn(t,e){return e._queryParams.loadsAllData()?Kn(t):t.views.get(e._queryIdentifier)}function Hn(t,e){return null!=zn(t,e)}function Wn(t){return null!=Kn(t)}function Kn(t){var e,n;try{for(var r=Object(o.g)(t.views.values()),i=r.next();!i.done;i=r.next()){var s=i.value;if(s.query._queryParams.loadsAllData())return s}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}var Gn=1,$n=function(){return function(t){this.listenProvider_=t,this.syncPointTree_=new Ye(null),this.pendingWriteTree_={visibleWrites:Ze.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}();function Qn(t,e,n,r,o){return function(t,e,n,r,o){Object(i.e)(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:o}),o&&(t.visibleWrites=Xe(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,o),o?er(t,new Ve({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function Yn(t,e,n){void 0===n&&(n=!1);var r=function(t,e){for(var n=0;n<t.allWrites.length;n++){var r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function(t,e){var n=t.allWrites.findIndex(function(t){return t.writeId===e});Object(i.e)(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);for(var o=r.visible,s=!1,a=t.allWrites.length-1;o&&a>=0;){var u=t.allWrites[a];u.visible&&(a>=n&&ln(u,r.path)?o=!1:xt(r.path,u.path)&&(s=!0)),a--}return!!o&&(s?(function(t){t.visibleWrites=dn(t.allWrites,hn,dt()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=tn(t.visibleWrites,r.path):R(r.children,function(e){t.visibleWrites=tn(t.visibleWrites,vt(r.path,e))}),!0))}(t.pendingWriteTree_,e)){var o=new Ye(null);return null!=r.snap?o=o.set(dt(),!0):R(r.children,function(t){o=o.set(new ht(t),!0)}),er(t,new Fe(r.path,o,n))}return[]}function Zn(t,e,n){return er(t,new Ve({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function Xn(t,e,n,r){var s=e._path,a=t.syncPointTree_.get(s),u=[];if(a&&("default"===e._queryIdentifier||Hn(a,e))){var c=function(t,e,n,r){var s,a,u=e._queryIdentifier,c=[],l=[],h=Wn(t);if("default"===u)try{for(var d=Object(o.g)(t.views.entries()),f=d.next();!f.done;f=d.next()){var p,g=Object(o.e)(f.value,2),m=g[0];l=l.concat(Pn(p=g[1],n,r)),Mn(p)&&(t.views.delete(m),p.query._queryParams.loadsAllData()||c.push(p.query))}}catch(y){s={error:y}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(s)throw s.error}}else(p=t.views.get(u))&&(l=l.concat(Pn(p,n,r)),Mn(p)&&(t.views.delete(u),p.query._queryParams.loadsAllData()||c.push(p.query)));return h&&!Wn(t)&&c.push(new(Object(i.e)(Nn,"Reference.ts has not been loaded"),Nn)(e._repo,e._path)),{removed:c,events:l}}(a,e,n,r);0===a.views.size&&(t.syncPointTree_=t.syncPointTree_.remove(s));var l=c.removed;u=c.events;var h=-1!==l.findIndex(function(t){return t._queryParams.loadsAllData()}),d=t.syncPointTree_.findOnPath(s,function(t,e){return Wn(e)});if(h&&!d){var f=t.syncPointTree_.subtree(s);if(!f.isEmpty())for(var p=function(t){return t.fold(function(t,e,n){if(e&&Wn(e))return[Kn(e)];var r=[];return e&&(r=qn(e)),R(n,function(t,e){r=r.concat(e)}),r})}(f),g=0;g<p.length;++g){var m=p[g],y=m.query,b=ir(t,m);t.listenProvider_.startListening(lr(y),or(t,y),b.hashFn,b.onComplete)}}!d&&l.length>0&&!r&&(h?t.listenProvider_.stopListening(lr(e),null):l.forEach(function(e){var n=t.queryToTagMap.get(sr(e));t.listenProvider_.stopListening(lr(e),n)})),function(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r._queryParams.loadsAllData()){var i=sr(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}(t,l)}return u}function Jn(t,e,n){var r=e._path,o=null,s=!1;t.syncPointTree_.foreachOnPath(r,function(t,e){var n=wt(t,r);o=o||Bn(e,n),s=s||Wn(e)});var a,u=t.syncPointTree_.get(r);u?(s=s||Wn(u),o=o||Bn(u,dt())):(u=new Fn,t.syncPointTree_=t.syncPointTree_.set(r,u)),null!=o?a=!0:(a=!1,o=re.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild(function(t,e){var n=Bn(e,dt());n&&(o=o.updateImmediateChild(t,n))}));var c=Hn(u,e);if(!c&&!e._queryParams.loadsAllData()){var l=sr(e);Object(i.e)(!t.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=Gn++;t.queryToTagMap.set(l,h),t.tagToQueryMap.set(h,l)}var d=function(t,e,n,r,i,o){var s=Vn(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),function(t,e){t.eventRegistrations_.push(e)}(s,n),function(t,e){var n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Zt,function(t,e){r.push(ge(t,e))}),n.isFullyInitialized()&&r.push(pe(n.getNode())),Dn(t,r,n.getNode(),e)}(s,n)}(u,e,n,cn(t.pendingWriteTree_,r),o,a);if(!c&&!s){var f=zn(u,e);d=d.concat(function(t,e,n){var r=e._path,o=or(t,e),s=ir(t,n),a=t.listenProvider_.startListening(lr(e),o,s.hashFn,s.onComplete),u=t.syncPointTree_.subtree(r);if(o)Object(i.e)(!Wn(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold(function(t,e,n){if(!_t(t)&&e&&Wn(e))return[Kn(e).query];var r=[];return e&&(r=r.concat(qn(e).map(function(t){return t.query}))),R(n,function(t,e){r=r.concat(e)}),r}),l=0;l<c.length;++l){var h=c[l];t.listenProvider_.stopListening(lr(h),or(t,h))}return a}(t,e,f))}return d}function tr(t,e,n){var r=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,function(t,n){var r=Bn(n,wt(t,e));if(r)return r});return fn(r,e,i,n,!0)}function er(t,e){return nr(e,t.syncPointTree_,null,cn(t.pendingWriteTree_,dt()))}function nr(t,e,n,r){if(_t(t.path))return rr(t,e,n,r);var i=e.get(dt());null==n&&null!=i&&(n=Bn(i,dt()));var o=[],s=ft(t.path),a=t.operationForChild(s),u=e.children.get(s);if(u&&a){var c=n?n.getImmediateChild(s):null,l=vn(r,s);o=o.concat(nr(a,u,c,l))}return i&&(o=o.concat(Un(i,t,r,n))),o}function rr(t,e,n,r){var i=e.get(dt());null==n&&null!=i&&(n=Bn(i,dt()));var o=[];return e.children.inorderTraversal(function(e,i){var s=n?n.getImmediateChild(e):null,a=vn(r,e),u=t.operationForChild(e);u&&(o=o.concat(rr(u,i,s,a)))}),i&&(o=o.concat(Un(i,t,r,n))),o}function ir(t,e){var n=e.query,r=or(t,n);return{hashFn:function(){return(function(t){return t.viewCache_.serverCache.getNode()}(e)||re.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?function(t,e,n){var r=ar(t,n);if(r){var i=ur(r),o=i.path,s=i.queryId,a=wt(o,e);return cr(t,o,new Ue(De(s),a))}return[]}(t,n._path,r):function(t,e){return er(t,new Ue({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(e,n);return Xn(t,n,null,i)}}}function or(t,e){var n=sr(e);return t.queryToTagMap.get(n)}function sr(t){return t._path.toString()+"$"+t._queryIdentifier}function ar(t,e){return t.tagToQueryMap.get(e)}function ur(t){var e=t.indexOf("$");return Object(i.e)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ht(t.substr(0,e))}}function cr(t,e,n){var r=t.syncPointTree_.get(e);return Object(i.e)(r,"Missing sync point for query tag that we're tracking"),Un(r,n,cn(t.pendingWriteTree_,e),null)}function lr(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Object(i.e)(Ln,"Reference.ts has not been loaded"),Ln)(t._repo,t._path):t}var hr=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),dr=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=vt(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return tr(this.syncTree_,this.path_)},t}(),fr=function(t,e,n){return t&&"object"==typeof t?(Object(i.e)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?pr(t[".sv"],e,n):"object"==typeof t[".sv"]?gr(t[".sv"],e):void Object(i.e)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},pr=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Object(i.e)(!1,"Unexpected server value: "+t)}},gr=function(t,e,n){t.hasOwnProperty("increment")||Object(i.e)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&Object(i.e)(!1,"Unexpected increment value: "+r);var o=e.node();if(Object(i.e)(null!=o,"Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;var s=o.getValue();return"number"!=typeof s?r:s+r},mr=function(t,e,n,r){return br(e,new dr(n,t),r)},yr=function(t,e,n){return br(t,new hr(e),n)};function br(t,e,n){var r,i=t.getPriority().val(),o=fr(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var s=t,a=fr(s.getValue(),e,n);return a!==s.getValue()||o!==s.getPriority().val()?new Yt(a,oe(o)):t}var u=t;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Yt(o))),u.forEachChild(Zt,function(t,i){var o=br(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))}),r}var vr=function(){return function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n={children:{},childCount:0}),this.name=t,this.parent=e,this.node=n}}();function _r(t,e){for(var n=e instanceof ht?e:new ht(e),r=t,o=ft(n);null!==o;){var s=Object(i.G)(r.node.children,o)||{children:{},childCount:0};r=new vr(o,r,s),o=ft(n=gt(n))}return r}function wr(t){return t.node.value}function Cr(t,e){t.node.value=e,Er(t)}function Or(t){return t.node.childCount>0}function xr(t,e){R(t.node.children,function(n,r){e(new vr(n,t,r))})}function Sr(t,e,n,r){n&&!r&&e(t),xr(t,function(t){Sr(t,e,!0,r)}),n&&r&&e(t)}function Tr(t){return new ht(null===t.parent?t.name:Tr(t.parent)+"/"+t.name)}function Er(t){null!==t.parent&&function(t,e,n){var r=function(t){return void 0===wr(t)&&!Or(t)}(n),o=Object(i.i)(t.node.children,e);r&&o?(delete t.node.children[e],t.node.childCount--,Er(t)):r||o||(t.node.children[e]=n.node,t.node.childCount++,Er(t))}(t.parent,t.name,t)}var kr=/[\[\].#$\/\u0000-\u001F\u007F]/,Ir=/[\[\].#$\u0000-\u001F\u007F]/,Nr=10485760,jr=function(t){return"string"==typeof t&&0!==t.length&&!kr.test(t)},Ar=function(t){return"string"==typeof t&&0!==t.length&&!Ir.test(t)},Mr=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!E(t)||t&&"object"==typeof t&&Object(i.i)(t,".sv")},Pr=function(t,e,n,r){r&&void 0===e||Rr(Object(i.n)(t,"value"),e,n)},Rr=function(t,e,n){var r=n instanceof ht?new St(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+Et(r));if("function"==typeof e)throw new Error(t+"contains a function "+Et(r)+" with contents = "+e.toString());if(E(e))throw new Error(t+"contains "+e.toString()+" "+Et(r));if("string"==typeof e&&e.length>Nr/3&&Object(i.H)(e)>Nr)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+Et(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var o=!1,s=!1;if(R(e,function(e,n){if(".value"===e)o=!0;else if(".priority"!==e&&".sv"!==e&&(s=!0,!jr(e)))throw new Error(t+" contains an invalid key ("+e+") "+Et(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var a,u;!function(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Object(i.H)(e),Tt(t)}(r,e),Rr(t,n,r),u=(a=r).parts_.pop(),a.byteLength_-=Object(i.H)(u),a.parts_.length>0&&(a.byteLength_-=1)}),o&&s)throw new Error(t+' contains ".value" child '+Et(r)+" in addition to actual children.")}},Dr=function(t,e,n,r){if(!r||void 0!==e){var o=Object(i.n)(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");var s=[];R(e,function(t,e){var r=new ht(t);if(Rr(o,e,vt(n,r)),".priority"===mt(r)&&!Mr(e))throw new Error(o+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(r)}),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=yt(r=e[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!jr(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(Ct);var s=null;for(n=0;n<e.length;n++){if(r=e[n],null!==s&&xt(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(o,s)}},Lr=function(t,e,n){if(!n||void 0!==e){if(E(e))throw new Error(Object(i.n)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Mr(e))throw new Error(Object(i.n)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Fr=function(t,e,n){if(!n||void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(i.n)(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Ur=function(t,e,n,r){if(!(r&&void 0===n||jr(n)))throw new Error(Object(i.n)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Vr=function(t,e,n,r){if(!(r&&void 0===n||Ar(n)))throw new Error(Object(i.n)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},qr=function(t,e){if(".info"===ft(e))throw new Error(t+" failed = Can't modify data under /.info/")},Br=function(t,e){var n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!jr(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Ar(t)}(n))throw new Error(Object(i.n)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},zr=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(Object(i.n)(t,e)+"must be a boolean.")},Hr=function(){return function(){this.eventLists_=[],this.recursionDepth_=0}}();function Wr(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();null===n||Ot(o,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function Kr(t,e,n){Wr(t,n),$r(t,function(t){return Ot(t,e)})}function Gr(t,e,n){Wr(t,n),$r(t,function(t){return xt(t,e)||xt(e,t)})}function $r(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];i&&(e(i.path)?(Qr(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function Qr(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(null!==n){t.events[e]=null;var r=n.getEventRunner();v&&C("event: "+n.toString()),U(r)}}}var Yr="repo_interrupt",Zr=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Hr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ie(),this.transactionQueueTree_=new vr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function Xr(t){var e=t.infoData_.getNode(new ht(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Jr(t){return(e=(e={timestamp:Xr(t)})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e}function ti(t,e,n,r,o){t.dataUpdateCount++;var s=new ht(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var a=[];if(o)if(r){var u=Object(i.E)(n,function(t){return oe(t)});a=function(t,e,n,r){var i=ar(t,r);if(i){var o=ur(i),s=o.path,a=o.queryId,u=wt(s,e),c=Ye.fromObject(n);return cr(t,s,new qe(De(a),u,c))}return[]}(t.serverSyncTree_,s,u,o)}else{var c=oe(n);a=function(t,e,n,r){var i=ar(t,r);if(null!=i){var o=ur(i),s=o.path,a=o.queryId,u=wt(s,e);return cr(t,s,new Ve(De(a),u,n))}return[]}(t.serverSyncTree_,s,c,o)}else if(r){var l=Object(i.E)(n,function(t){return oe(t)});a=function(t,e,n){var r=Ye.fromObject(n);return er(t,new qe({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,s,l)}else{var h=oe(n);a=Zn(t.serverSyncTree_,s,h)}var d=s;a.length>0&&(d=fi(t,s)),Gr(t.eventQueue_,d,a)}function ei(t,e){ni(t,"connected",e),!1===e&&function(t){ci(t,"onDisconnectEvents");var e=Jr(t),n=Ie();Ae(t.onDisconnect_,dt(),function(r,i){var o=mr(r,i,t.serverSyncTree_,e);Ne(n,r,o)});var r=[];Ae(n,dt(),function(e,n){r=r.concat(Zn(t.serverSyncTree_,e,n));var i=bi(t,e);fi(t,i)}),t.onDisconnect_=Ie(),Gr(t.eventQueue_,dt(),r)}(t)}function ni(t,e,n){var r=new ht("/.info/"+e),i=oe(n);t.infoData_.updateSnapshot(r,i);var o=Zn(t.infoSyncTree_,r,i);Gr(t.eventQueue_,r,o)}function ri(t){return t.nextWriteId_++}function ii(t,e,n,r,i){ci(t,"set",{path:e.toString(),value:n,priority:r});var o=Jr(t),s=oe(n,r),a=tr(t.serverSyncTree_,e),u=yr(s,a,o),c=ri(t),l=Qn(t.serverSyncTree_,e,u,c,!0);Wr(t.eventQueue_,l),t.server_.put(e.toString(),s.val(!0),function(n,r){var o="ok"===n;o||T("set at "+e+" failed: "+n);var s=Yn(t.serverSyncTree_,c,!o);Gr(t.eventQueue_,e,s),li(0,i,n,r)});var h=bi(t,e);fi(t,h),Gr(t.eventQueue_,h,[])}function oi(t,e,n){t.server_.onDisconnectCancel(e.toString(),function(r,i){"ok"===r&&je(t.onDisconnect_,e),li(0,n,r,i)})}function si(t,e,n,r){var i=oe(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),function(n,o){"ok"===n&&Ne(t.onDisconnect_,e,i),li(0,r,n,o)})}function ai(t,e,n){var r;r=".info"===ft(e._path)?Xn(t.infoSyncTree_,e,n):Xn(t.serverSyncTree_,e,n),Kr(t.eventQueue_,e._path,r)}function ui(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Yr)}function ci(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),C.apply(void 0,Object(o.f)([r],Object(o.e)(e)))}function li(t,e,n,r){e&&U(function(){if("ok"===n)e(null);else{var t=(n||"error").toUpperCase(),i=t;r&&(i+=": "+r);var o=new Error(i);o.code=t,e(o)}})}function hi(t,e,n){return tr(t.serverSyncTree_,e,n)||re.EMPTY_NODE}function di(t,e){if(void 0===e&&(e=t.transactionQueueTree_),e||yi(t,e),wr(e)){var n=gi(t,e);Object(i.e)(n.length>0,"Sending zero length transaction queue"),n.every(function(t){return 0===t.status})&&function(t,e,n){for(var r=n.map(function(t){return t.currentWriteId}),o=hi(t,e,r),s=o,a=o.hash(),u=0;u<n.length;u++){var c=n[u];Object(i.e)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=wt(e,c.path);s=s.updateChild(l,c.currentOutputSnapshotRaw)}var h=s.val(!0),d=e;t.server_.put(d.toString(),h,function(r){ci(t,"transaction put response",{path:d.toString(),status:r});var i=[];if("ok"===r){for(var o=[],s=function(e){n[e].status=2,i=i.concat(Yn(t.serverSyncTree_,n[e].currentWriteId)),n[e].onComplete&&o.push(function(){return n[e].onComplete(null,!0,n[e].currentOutputSnapshotResolved)}),n[e].unwatcher()},a=0;a<n.length;a++)s(a);for(yi(t,_r(t.transactionQueueTree_,e)),di(t,t.transactionQueueTree_),Gr(t.eventQueue_,e,i),a=0;a<o.length;a++)U(o[a])}else{if("datastale"===r)for(a=0;a<n.length;a++)n[a].status=3===n[a].status?4:0;else for(T("transaction at "+d.toString()+" failed: "+r),a=0;a<n.length;a++)n[a].status=4,n[a].abortReason=r;fi(t,e)}},a)}(t,Tr(e),n)}else Or(e)&&xr(e,function(e){di(t,e)})}function fi(t,e){var n=pi(t,e),r=Tr(n);return function(t,e,n){if(0!==e.length){for(var r=[],o=[],s=e.filter(function(t){return 0===t.status}).map(function(t){return t.currentWriteId}),a=function(a){var u,c=e[a],l=wt(n,c.path),h=!1;if(Object(i.e)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)h=!0,u=c.abortReason,o=o.concat(Yn(t.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=25)h=!0,u="maxretry",o=o.concat(Yn(t.serverSyncTree_,c.currentWriteId,!0));else{var d=hi(t,c.path,s);c.currentInputSnapshot=d;var f=e[a].update(d.val());if(void 0!==f){Rr("transaction failed: Data returned ",f,c.path);var p=oe(f);"object"==typeof f&&null!=f&&Object(i.i)(f,".priority")||(p=p.updatePriority(d.getPriority()));var g=c.currentWriteId,m=Jr(t),y=yr(p,d,m);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=y,c.currentWriteId=ri(t),s.splice(s.indexOf(g),1),o=(o=o.concat(Qn(t.serverSyncTree_,c.path,y,c.currentWriteId,c.applyLocally))).concat(Yn(t.serverSyncTree_,g,!0))}else h=!0,u="nodata",o=o.concat(Yn(t.serverSyncTree_,c.currentWriteId,!0))}Gr(t.eventQueue_,n,o),o=[],h&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===u?function(){return e[a].onComplete(null,!1,e[a].currentInputSnapshot)}:function(){return e[a].onComplete(new Error(u),!1,null)}))},u=0;u<e.length;u++)a(u);for(yi(t,t.transactionQueueTree_),u=0;u<r.length;u++)U(r[u]);di(t,t.transactionQueueTree_)}}(t,gi(t,n),r),r}function pi(t,e){var n,r=t.transactionQueueTree_;for(n=ft(e);null!==n&&void 0===wr(r);)r=_r(r,n),n=ft(e=gt(e));return r}function gi(t,e){var n=[];return mi(t,e,n),n.sort(function(t,e){return t.order-e.order}),n}function mi(t,e,n){var r=wr(e);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);xr(e,function(e){mi(t,e,n)})}function yi(t,e){var n=wr(e);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Cr(e,n.length>0?n:void 0)}xr(e,function(e){yi(t,e)})}function bi(t,e){var n=Tr(pi(t,e)),r=_r(t.transactionQueueTree_,e);return function(t,e,n){for(var r=t.parent;null!==r;){if(e(r))return!0;r=r.parent}}(r,function(e){vi(t,e)}),vi(t,r),Sr(r,function(e){vi(t,e)}),n}function vi(t,e){var n=wr(e);if(n){for(var r=[],o=[],s=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?(Object(i.e)(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(Object(i.e)(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),o=o.concat(Yn(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));for(-1===s?Cr(e,void 0):n.length=s+1,Gr(t.eventQueue_,Tr(e),o),a=0;a<r.length;a++)U(r[a])}}var _i=function(t,e){var n=wi(t),r=n.namespace;return"firebase.com"===n.domain&&S(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||S("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&T("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new G(n.host,n.secure,r,e,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new ht(n.pathString)}},wi=function(t){var e="",n="",r="",i="",s="",a=!0,u="https",c=443;if("string"==typeof t){var l=t.indexOf("//");l>=0&&(u=t.substring(0,l-1),t=t.substring(l+2));var h=t.indexOf("/");-1===h&&(h=t.length);var d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(h,d)),h<d&&(i=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}(t.substring(h,d)));var f=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=Object(o.g)(t.split("&")),s=i.next();!s.done;s=i.next()){var a=s.value;if(0!==a.length){var u=a.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):T("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,d)));(l=e.indexOf(":"))>=0?(a="https"===u||"wss"===u,c=parseInt(e.substring(l+1),10)):l=e.length;var p=e.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:a,scheme:u,pathString:i,namespace:s}},Ci=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(i.J)(this.snapshot.exportVal())},t}(),Oi=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),xi=function(){function t(t,e){this.snapshotCallback=t,this.cancelCallback=e}return t.prototype.onValue=function(t,e){this.snapshotCallback.call(null,t,e)},t.prototype.onCancel=function(t){return Object(i.e)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},t}(),Si=function(){function t(t,e){this._repo=t,this._path=e}return t.prototype.cancel=function(){var t=new i.a;return oi(this._repo,this._path,t.wrapCallback(function(){})),t.promise},t.prototype.remove=function(){qr("OnDisconnect.remove",this._path);var t=new i.a;return si(this._repo,this._path,null,t.wrapCallback(function(){})),t.promise},t.prototype.set=function(t){qr("OnDisconnect.set",this._path),Pr("OnDisconnect.set",t,this._path,!1);var e=new i.a;return si(this._repo,this._path,t,e.wrapCallback(function(){})),e.promise},t.prototype.setWithPriority=function(t,e){qr("OnDisconnect.setWithPriority",this._path),Pr("OnDisconnect.setWithPriority",t,this._path,!1),Lr("OnDisconnect.setWithPriority",e,!1);var n=new i.a;return function(t,e,n,r,i){var o=oe(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),function(n,r){"ok"===n&&Ne(t.onDisconnect_,e,o),li(0,i,n,r)})}(this._repo,this._path,t,e,n.wrapCallback(function(){})),n.promise},t.prototype.update=function(t){qr("OnDisconnect.update",this._path),Dr("OnDisconnect.update",t,this._path,!1);var e=new i.a;return function(t,e,n,r){if(Object(i.u)(n))return C("onDisconnect().update() called with empty data.  Don't do anything."),void li(0,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,function(i,o){"ok"===i&&R(n,function(n,r){var i=oe(r);Ne(t.onDisconnect_,vt(e,n),i)}),li(0,r,i,o)})}(this._repo,this._path,t,e.wrapCallback(function(){})),e.promise},t}(),Ti=function(){function t(t,e,n,r){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(t.prototype,"key",{get:function(){return _t(this._path)?null:mt(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ni(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var t=Te(this._queryParams),e=M(t);return"{}"===e?"default":e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return Te(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!((e=Object(i.o)(e))instanceof t))return!1;var n=this._repo===e._repo,r=Ot(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+function(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)},t}();function Ei(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function ki(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Dt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==k)throw new Error(r);if("string"!=typeof e)throw new Error(o)}if(t.hasEnd()){if(t.getIndexEndName()!==I)throw new Error(r);if("string"!=typeof n)throw new Error(o)}}else if(t.getIndex()===Zt){if(null!=e&&!Mr(e)||null!=n&&!Mr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(i.e)(t.getIndex()instanceof ue||t.getIndex()===ce,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ii(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Ni=function(t){function e(e,n){return t.call(this,e,n,new we,!1)||this}return Object(o.c)(e,t),Object.defineProperty(e.prototype,"parent",{get:function(){var t=bt(this._path);return null===t?null:new e(this._repo,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var t=this;null!==t.parent;)t=t.parent;return t},enumerable:!1,configurable:!0}),e}(Ti),ji=function(){function t(t,e,n){this._node=t,this.ref=e,this._index=n}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(e){var n=new ht(e),r=Pi(this.ref,e);return new t(this._node.getChild(n),r,Zt)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(r,i){return e(new t(i,Pi(n.ref,r),Zt))})},t.prototype.hasChild=function(t){var e=new ht(t);return!this._node.getChild(e).isEmpty()},t.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function Ai(t,e){return(t=Object(i.o)(t))._checkNotDeleted("ref"),void 0!==e?Pi(t._root,e):t._root}function Mi(t,e){(t=Object(i.o)(t))._checkNotDeleted("refFromURL");var n=_i(e,t._repo.repoInfo_.nodeAdmin);Br("refFromURL",n);var r=n.repoInfo;return t._repo.repoInfo_.isCustomHost()||r.host===t._repo.repoInfo_.host||S("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),Ai(t,n.path.toString())}function Pi(t,e){var n;return null===ft((t=Object(i.o)(t))._path)?((n=e)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Vr("child","path",n,!1)):Vr("child","path",e,!1),new Ni(t._repo,vt(t._path,e))}function Ri(t,e){t=Object(i.o)(t),qr("push",t._path),Pr("push",e,t._path,!0);var n,r=Xr(t._repo),o=he(r),s=Pi(t,o),a=Pi(t,o);return n=null!=e?Li(a,e).then(function(){return a}):Promise.resolve(a),s.then=n.then.bind(n),s.catch=n.then.bind(n,void 0),s}function Di(t){return qr("remove",t._path),Li(t,null)}function Li(t,e){t=Object(i.o)(t),qr("set",t._path),Pr("set",e,t._path,!1);var n=new i.a;return ii(t._repo,t._path,e,null,n.wrapCallback(function(){})),n.promise}function Fi(t,e){t=Object(i.o)(t),qr("setPriority",t._path),Lr("setPriority",e,!1);var n=new i.a;return ii(t._repo,vt(t._path,".priority"),e,null,n.wrapCallback(function(){})),n.promise}function Ui(t,e,n){if(qr("setWithPriority",t._path),Pr("setWithPriority",e,t._path,!1),Lr("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";var r=new i.a;return ii(t._repo,t._path,e,n,r.wrapCallback(function(){})),r.promise}function Vi(t,e){Dr("update",e,t._path,!1);var n=new i.a;return function(t,e,n,r){ci(t,"update",{path:e.toString(),value:n});var o=!0,s=Jr(t),a={};if(R(n,function(n,r){o=!1,a[n]=mr(vt(e,n),oe(r),t.serverSyncTree_,s)}),o)C("update() called with empty data.  Don't do anything."),li(0,r,"ok",void 0);else{var u=ri(t),c=function(t,e,n,r){!function(t,e,n,r){Object(i.e)(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Je(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);var o=Ye.fromObject(n);return er(t,new qe({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,o))}(t.serverSyncTree_,e,a,u);Wr(t.eventQueue_,c),t.server_.merge(e.toString(),n,function(n,i){var o="ok"===n;o||T("update at "+e+" failed: "+n);var s=Yn(t.serverSyncTree_,u,!o),a=s.length>0?fi(t,e):e;Gr(t.eventQueue_,a,s),li(0,r,n,i)}),R(n,function(n){var r=bi(t,vt(e,n));fi(t,r)}),Gr(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback(function(){})),n.promise}var qi=function(){function t(t){this.callbackContext=t}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e._queryParams.getIndex();return new Ci("value",this,new ji(t.snapshotNode,new Ni(e._repo,e._path),n))},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,null)}},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new Oi(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))},t.prototype.hasAnyCallback=function(){return null!==this.callbackContext},t}(),Bi=function(){function t(t,e){this.eventType=t,this.callbackContext=e}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return this.eventType===("children_removed"===e?"child_removed":e)},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new Oi(this,t,e):null},t.prototype.createEvent=function(t,e){Object(i.e)(null!=t.childName,"Child events should have a childName.");var n=Pi(new Ni(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new Ci(t.type,this,new ji(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,t.prevName)}},t.prototype.matches=function(e){return e instanceof t&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))},t.prototype.hasAnyCallback=function(){return!!this.callbackContext},t}();function zi(t,e,n,r,i){var o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){var s=n,a=function(e,n){ai(t._repo,t,c),s(e,n)};a.userCallback=n.userCallback,a.context=n.context,n=a}var u=new xi(n,o||void 0),c="value"===e?new qi(u):new Bi(e,u);return function(t,e,n){var r;r=".info"===ft(e._path)?Jn(t.infoSyncTree_,e,n):Jn(t.serverSyncTree_,e,n),Kr(t.eventQueue_,e._path,r)}(t._repo,t,c),function(){return ai(t._repo,t,c)}}function Hi(t,e,n,r){return zi(t,"value",e,n,r)}function Wi(t,e,n,r){return zi(t,"child_added",e,n,r)}function Ki(t,e,n,r){return zi(t,"child_changed",e,n,r)}function Gi(t,e,n,r){return zi(t,"child_moved",e,n,r)}function $i(t,e,n,r){return zi(t,"child_removed",e,n,r)}function Qi(t,e,n){var r=null,i=n?new xi(n):null;"value"===e?r=new qi(i):e&&(r=new Bi(e,i)),ai(t._repo,t,r)}var Yi=function(){return function(){}}(),Zi=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(o.c)(e,t),e.prototype._apply=function(t){Pr("endAt",this._value,t._path,!0);var e=Oe(t._queryParams,this._value,this._key);if(Ii(e),ki(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ti(t._repo,t._path,e,t._orderByCalled)},e}(Yi);function Xi(t,e){return Ur("endAt","key",e,!0),new Zi(t,e)}var Ji=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(o.c)(e,t),e.prototype._apply=function(t){Pr("endBefore",this._value,t._path,!1);var e,n,r,i,o=(n=this._value,r=this._key,(e=t._queryParams).index_===Dt?("string"==typeof n&&(n=fe(n)),i=Oe(e,n,r)):i=Oe(e,n,null==r?k:fe(r)),i.endBeforeSet_=!0,i);if(Ii(o),ki(o),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ti(t._repo,t._path,o,t._orderByCalled)},e}(Yi);function to(t,e){return Ur("endBefore","key",e,!0),new Ji(t,e)}var eo=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(o.c)(e,t),e.prototype._apply=function(t){Pr("startAt",this._value,t._path,!0);var e=Ce(t._queryParams,this._value,this._key);if(Ii(e),ki(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ti(t._repo,t._path,e,t._orderByCalled)},e}(Yi);function no(t,e){return void 0===t&&(t=null),Ur("startAt","key",e,!0),new eo(t,e)}var ro=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(o.c)(e,t),e.prototype._apply=function(t){Pr("startAfter",this._value,t._path,!1);var e,n,r,i,o=(n=this._value,r=this._key,(e=t._queryParams).index_===Dt?("string"==typeof n&&(n=de(n)),i=Ce(e,n,r)):i=Ce(e,n,null==r?I:de(r)),i.startAfterSet_=!0,i);if(Ii(o),ki(o),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ti(t._repo,t._path,o,t._orderByCalled)},e}(Yi);function io(t,e){return Ur("startAfter","key",e,!0),new ro(t,e)}var oo=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return Object(o.c)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ti(t._repo,t._path,(e=this._limit,(n=t._queryParams.copy()).limitSet_=!0,n.limit_=e,n.viewFrom_="l",n),t._orderByCalled);var e,n},e}(Yi);function so(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new oo(t)}var ao=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return Object(o.c)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ti(t._repo,t._path,(e=this._limit,(n=t._queryParams.copy()).limitSet_=!0,n.limit_=e,n.viewFrom_="r",n),t._orderByCalled);var e,n},e}(Yi);function uo(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new ao(t)}var co=function(t){function e(e){var n=t.call(this)||this;return n._path=e,n}return Object(o.c)(e,t),e.prototype._apply=function(t){Ei(t,"orderByChild");var e=new ht(this._path);if(_t(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new ue(e),r=xe(t._queryParams,n);return ki(r),new Ti(t._repo,t._path,r,!0)},e}(Yi);function lo(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Vr("orderByChild","path",t,!1),new co(t)}var ho=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype._apply=function(t){Ei(t,"orderByKey");var e=xe(t._queryParams,Dt);return ki(e),new Ti(t._repo,t._path,e,!0)},e}(Yi);function fo(){return new ho}var po=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype._apply=function(t){Ei(t,"orderByPriority");var e=xe(t._queryParams,Zt);return ki(e),new Ti(t._repo,t._path,e,!0)},e}(Yi);function go(){return new po}var mo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype._apply=function(t){Ei(t,"orderByValue");var e=xe(t._queryParams,ce);return ki(e),new Ti(t._repo,t._path,e,!0)},e}(Yi);function yo(){return new mo}var bo=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(o.c)(e,t),e.prototype._apply=function(t){if(Pr("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Zi(this._value,this._key)._apply(new eo(this._value,this._key)._apply(t))},e}(Yi);function vo(t,e){return Ur("equalTo","key",e,!0),new bo(t,e)}function _o(t){for(var e,n,r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];var a=Object(i.o)(t);try{for(var u=Object(o.g)(r),c=u.next();!c.done;c=u.next()){var l=c.value;a=l._apply(a)}}catch(h){e={error:h}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return a}!function(t){Object(i.e)(!Nn,"__referenceConstructor has already been defined"),Nn=t}(Ni),function(t){Object(i.e)(!Ln,"__referenceConstructor has already been defined"),Ln=t}(Ni);var wo={},Co=!1;function Oo(t,e,n,r,i){var o=r||t.options.databaseURL;void 0===o&&(t.options.projectId||S("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),C("Using default host for project ",t.options.projectId),o=t.options.projectId+"-default-rtdb.firebaseio.com");var s,a=_i(o,i),u=a.repoInfo,c=void 0;"undefined"!=typeof process&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(s=!0,u=(a=_i(o="http://"+c+"?ns="+u.namespace,i)).repoInfo):s=!a.repoInfo.secure;var l=i&&s?new z(z.OWNER):new B(t.name,t.options,e);Br("Invalid Firebase Database URL",a),_t(a.path)||S("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(t,e,n,r){var i=wo[e.name];i||(wo[e.name]=i={});var o=i[t.toURLString()];return o&&S("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Zr(t,Co,n,r),i[t.toURLString()]=o,o}(u,t,l,new q(t.name,n));return new xo(h,t)}var xo=function(){function t(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(function(t,e,n){if(t.stats_=X(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new Ee(t.repoInfo_,function(e,n,r,i){ti(t,e,n,r,i)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(function(){return ei(t,!0)},0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(i.J)(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new At(t.repoInfo_,e,function(e,n,r,i){ti(t,e,n,r,i)},function(e){ei(t,e)},function(e){!function(t,e){R(e,function(e,n){ni(t,e,n)})}(t,e)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}var r,o;t.authTokenProvider_.addTokenChangeListener(function(e){t.server_.refreshAuthToken(e)}),t.appCheckProvider_.addTokenChangeListener(function(e){t.server_.refreshAppCheckToken(e.token)}),t.statsReporter_=(r=function(){return new Pe(t.stats_,t.server_)},o=t.repoInfo_.toString(),Z[o]||(Z[o]=r()),Z[o]),t.infoData_=new ke,t.infoSyncTree_=new $n({startListening:function(e,n,r,i){var o=[],s=t.infoData_.getNode(e._path);return s.isEmpty()||(o=Zn(t.infoSyncTree_,e._path,s),setTimeout(function(){i("ok")},0)),o},stopListening:function(){}}),ni(t,"connected",!1),t.serverSyncTree_=new $n({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,function(n,r){var o=i(n,r);Gr(t.eventQueue_,e._path,o)}),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Ni(this._repo,dt())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){var t,e,n;return null!==this._rootInternal&&(t=this._repo,(n=wo[e=this.app.name])&&n[t.key]===t||S("Database "+e+"("+t.repoInfo_+") has already been deleted."),ui(t),delete n[t.key],this._repoInternal=null,this._rootInternal=null),Promise.resolve()},t.prototype._checkNotDeleted=function(t){null===this._rootInternal&&S("Cannot call "+t+" on a deleted database.")},t}();function So(t){(t=Object(i.o)(t))._checkNotDeleted("goOffline"),ui(t._repo)}function To(t){var e;(t=Object(i.o)(t))._checkNotDeleted("goOnline"),(e=t._repo).persistentConnection_&&e.persistentConnection_.resume(Yr)}var Eo={".sv":"timestamp"},ko=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function Io(t,e,n){var r;if(t=Object(i.o)(t),qr("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";var o=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,s=new i.a,a=Hi(t,function(){});return function(e,n,r,o,a,u){ci(e,"transaction on "+n);var c={path:n,update:r,onComplete:function(e,n,r){var i=null;e?s.reject(e):(i=new ji(r,new Ni(t._repo,t._path),Zt),s.resolve(new ko(n,i)))},status:null,order:m(),applyLocally:u,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=hi(e,n,void 0);c.currentInputSnapshot=l;var h=c.update(l.val());if(void 0===h)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{Rr("transaction failed: Data returned ",h,c.path),c.status=0;var d=_r(e.transactionQueueTree_,n),f=wr(d)||[];f.push(c),Cr(d,f);var p=void 0;"object"==typeof h&&null!==h&&Object(i.i)(h,".priority")?(p=Object(i.G)(h,".priority"),Object(i.e)(Mr(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(tr(e.serverSyncTree_,n)||re.EMPTY_NODE).getPriority().val();var g=Jr(e),y=oe(h,p),b=yr(y,l,g);c.currentOutputSnapshotRaw=y,c.currentOutputSnapshotResolved=b,c.currentWriteId=ri(e);var v=Qn(e.serverSyncTree_,n,b,c.currentWriteId,c.applyLocally);Gr(e.eventQueue_,n,v),di(e,e.transactionQueueTree_)}}(t._repo,t._path,e,0,a,o),s.promise}var No=function(){function t(t){this._delegate=t}return t.prototype.cancel=function(t){Object(i.K)("OnDisconnect.cancel",0,1,arguments.length),Object(i.L)("OnDisconnect.cancel","onComplete",t,!0);var e=this._delegate.cancel();return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},t.prototype.remove=function(t){Object(i.K)("OnDisconnect.remove",0,1,arguments.length),Object(i.L)("OnDisconnect.remove","onComplete",t,!0);var e=this._delegate.remove();return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},t.prototype.set=function(t,e){Object(i.K)("OnDisconnect.set",1,2,arguments.length),Object(i.L)("OnDisconnect.set","onComplete",e,!0);var n=this._delegate.set(t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},t.prototype.setWithPriority=function(t,e,n){Object(i.K)("OnDisconnect.setWithPriority",2,3,arguments.length),Object(i.L)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(t,e);return n&&r.then(function(){return n(null)},function(t){return n(t)}),r},t.prototype.update=function(t,e){if(Object(i.K)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,T("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(i.L)("OnDisconnect.update","onComplete",e,!0);var o=this._delegate.update(t);return e&&o.then(function(){return e(null)},function(t){return e(t)}),o},t}(),jo=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return Object(i.K)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Ao=function(){function t(t,e){this._database=t,this._delegate=e}return t.prototype.val=function(){return Object(i.K)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return Object(i.K)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return Object(i.K)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return Object(i.K)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(e){return Object(i.K)("DataSnapshot.child",0,1,arguments.length),e=String(e),Vr("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))},t.prototype.hasChild=function(t){return Object(i.K)("DataSnapshot.hasChild",1,1,arguments.length),Vr("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},t.prototype.getPriority=function(){return Object(i.K)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return Object(i.K)("DataSnapshot.forEach",1,1,arguments.length),Object(i.L)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(function(r){return e(new t(n._database,r))})},t.prototype.hasChildren=function(){return Object(i.K)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Object(i.K)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return Object(i.K)("DataSnapshot.ref",0,0,arguments.length),new Po(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Mo=function(){function t(t,e){this.database=t,this._delegate=e}return t.prototype.on=function(e,n,r,o){var s,a=this;Object(i.K)("Query.on",2,4,arguments.length),Object(i.L)("Query.on","callback",n,!1);var u=t.getCancelAndContextArgs_("Query.on",r,o),c=function(t,e){n.call(u.context,new Ao(a.database,t),e)};c.userCallback=n,c.context=u.context;var l=null===(s=u.cancel)||void 0===s?void 0:s.bind(u.context);switch(e){case"value":return Hi(this._delegate,c,l),n;case"child_added":return Wi(this._delegate,c,l),n;case"child_removed":return $i(this._delegate,c,l),n;case"child_changed":return Ki(this._delegate,c,l),n;case"child_moved":return Gi(this._delegate,c,l),n;default:throw new Error(Object(i.n)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(t,e,n){if(Object(i.K)("Query.off",0,3,arguments.length),Fr("Query.off",t,!0),Object(i.L)("Query.off","callback",e,!0),Object(i.M)("Query.off","context",n,!0),e){var r=function(){};r.userCallback=e,r.context=n,Qi(this._delegate,t,r)}else Qi(this._delegate,t)},t.prototype.get=function(){var t=this;return function(t){return function(t,e){var n=function(t,e){var n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,function(t,e){var i=wt(t,n);r=r||Bn(e,i)});var i=t.syncPointTree_.get(n);i?r=r||Bn(i,dt()):(i=new Fn,t.syncPointTree_=t.syncPointTree_.set(n,i));var o=null!=r,s=o?new Be(r,!0,!1):null;return $e(Vn(i,e,cn(t.pendingWriteTree_,e._path),o?s.getNode():re.EMPTY_NODE,o).viewCache_)}(t.serverSyncTree_,e);return null!=n?Promise.resolve(n):t.server_.get(e).then(function(n){var r=oe(n).withIndex(e._queryParams.getIndex()),i=Zn(t.serverSyncTree_,e._path,r);return Kr(t.eventQueue_,e._path,i),Promise.resolve(r)},function(n){return ci(t,"get for query "+Object(i.J)(e)+" failed: "+n),Promise.reject(new Error(n))})}((t=Object(i.o)(t))._repo,t).then(function(e){return new ji(e,new Ni(t._repo,t._path),t._queryParams.getIndex())})}(this._delegate).then(function(e){return new Ao(t.database,e)})},t.prototype.once=function(e,n,r,o){var s=this;Object(i.K)("Query.once",1,4,arguments.length),Object(i.L)("Query.once","callback",n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,o),u=new i.a,c=function(t,e){var r=new Ao(s.database,t);n&&n.call(a.context,r,e),u.resolve(r)};c.userCallback=n,c.context=a.context;var l=function(t){a.cancel&&a.cancel.call(a.context,t),u.reject(t)};switch(e){case"value":Hi(this._delegate,c,l,{onlyOnce:!0});break;case"child_added":Wi(this._delegate,c,l,{onlyOnce:!0});break;case"child_removed":$i(this._delegate,c,l,{onlyOnce:!0});break;case"child_changed":Ki(this._delegate,c,l,{onlyOnce:!0});break;case"child_moved":Gi(this._delegate,c,l,{onlyOnce:!0});break;default:throw new Error(Object(i.n)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},t.prototype.limitToFirst=function(e){return Object(i.K)("Query.limitToFirst",1,1,arguments.length),new t(this.database,_o(this._delegate,so(e)))},t.prototype.limitToLast=function(e){return Object(i.K)("Query.limitToLast",1,1,arguments.length),new t(this.database,_o(this._delegate,uo(e)))},t.prototype.orderByChild=function(e){return Object(i.K)("Query.orderByChild",1,1,arguments.length),new t(this.database,_o(this._delegate,lo(e)))},t.prototype.orderByKey=function(){return Object(i.K)("Query.orderByKey",0,0,arguments.length),new t(this.database,_o(this._delegate,fo()))},t.prototype.orderByPriority=function(){return Object(i.K)("Query.orderByPriority",0,0,arguments.length),new t(this.database,_o(this._delegate,go()))},t.prototype.orderByValue=function(){return Object(i.K)("Query.orderByValue",0,0,arguments.length),new t(this.database,_o(this._delegate,yo()))},t.prototype.startAt=function(e,n){return void 0===e&&(e=null),Object(i.K)("Query.startAt",0,2,arguments.length),new t(this.database,_o(this._delegate,no(e,n)))},t.prototype.startAfter=function(e,n){return void 0===e&&(e=null),Object(i.K)("Query.startAfter",0,2,arguments.length),new t(this.database,_o(this._delegate,io(e,n)))},t.prototype.endAt=function(e,n){return void 0===e&&(e=null),Object(i.K)("Query.endAt",0,2,arguments.length),new t(this.database,_o(this._delegate,Xi(e,n)))},t.prototype.endBefore=function(e,n){return void 0===e&&(e=null),Object(i.K)("Query.endBefore",0,2,arguments.length),new t(this.database,_o(this._delegate,to(e,n)))},t.prototype.equalTo=function(e,n){return Object(i.K)("Query.equalTo",1,2,arguments.length),new t(this.database,_o(this._delegate,vo(e,n)))},t.prototype.toString=function(){return Object(i.K)("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return Object(i.K)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if(Object(i.K)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:void 0,context:void 0};if(e&&n)r.cancel=e,Object(i.L)(t,"cancel",r.cancel,!0),r.context=n,Object(i.M)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(Object(i.n)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return new Po(this.database,new Ni(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),Po=function(t){function e(e,n){var r=t.call(this,e,new Ti(n._repo,n._path,new we,!1))||this;return r.database=e,r._delegate=n,r}return Object(o.c)(e,t),e.prototype.getKey=function(){return Object(i.K)("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(t){return Object(i.K)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new e(this.database,Pi(this._delegate,t))},e.prototype.getParent=function(){Object(i.K)("Reference.parent",0,0,arguments.length);var t=this._delegate.parent;return t?new e(this.database,t):null},e.prototype.getRoot=function(){return Object(i.K)("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(t,e){Object(i.K)("Reference.set",1,2,arguments.length),Object(i.L)("Reference.set","onComplete",e,!0);var n=Li(this._delegate,t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},e.prototype.update=function(t,e){if(Object(i.K)("Reference.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,T("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}qr("Reference.update",this._delegate._path),Object(i.L)("Reference.update","onComplete",e,!0);var o=Vi(this._delegate,t);return e&&o.then(function(){return e(null)},function(t){return e(t)}),o},e.prototype.setWithPriority=function(t,e,n){Object(i.K)("Reference.setWithPriority",2,3,arguments.length),Object(i.L)("Reference.setWithPriority","onComplete",n,!0);var r=Ui(this._delegate,t,e);return n&&r.then(function(){return n(null)},function(t){return n(t)}),r},e.prototype.remove=function(t){Object(i.K)("Reference.remove",0,1,arguments.length),Object(i.L)("Reference.remove","onComplete",t,!0);var e=Di(this._delegate);return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},e.prototype.transaction=function(t,e,n){var r=this;Object(i.K)("Reference.transaction",1,3,arguments.length),Object(i.L)("Reference.transaction","transactionUpdate",t,!1),Object(i.L)("Reference.transaction","onComplete",e,!0),zr("Reference.transaction","applyLocally",n,!0);var o=Io(this._delegate,t,{applyLocally:n}).then(function(t){return new jo(t.committed,new Ao(r.database,t.snapshot))});return e&&o.then(function(t){return e(null,t.committed,t.snapshot)},function(t){return e(t,!1,null)}),o},e.prototype.setPriority=function(t,e){Object(i.K)("Reference.setPriority",1,2,arguments.length),Object(i.L)("Reference.setPriority","onComplete",e,!0);var n=Fi(this._delegate,t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},e.prototype.push=function(t,n){var r=this;Object(i.K)("Reference.push",0,2,arguments.length),Object(i.L)("Reference.push","onComplete",n,!0);var o=Ri(this._delegate,t),s=o.then(function(t){return new e(r.database,t)});n&&s.then(function(){return n(null)},function(t){return n(t)});var a=new e(this.database,o);return a.then=s.then.bind(s),a.catch=s.catch.bind(s,void 0),a},e.prototype.onDisconnect=function(){return qr("Reference.onDisconnect",this._delegate._path),new No(new Si(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Mo),Ro=function(){function t(t,e){var n=this;this._delegate=t,this.app=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={}),(t=Object(i.o)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&S("Cannot call useEmulator() after instance has already been initialized.");var o=t._repoInternal,s=void 0;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&S('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new z(z.OWNER);else if(r.mockUserToken){var a="string"==typeof r.mockUserToken?r.mockUserToken:Object(i.j)(r.mockUserToken,t.app.options.projectId);s=new z(a)}!function(t,e,n,r){t.repoInfo_=new G(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}(o,e,n,s)}(this._delegate,t,e,n)},t.prototype.ref=function(t){if(Object(i.K)("database.ref",0,1,arguments.length),t instanceof Po){var e=Mi(this._delegate,t.toString());return new Po(this,e)}return e=Ai(this._delegate,t),new Po(this,e)},t.prototype.refFromURL=function(t){var e="database.refFromURL";Object(i.K)(e,1,1,arguments.length);var n=Mi(this._delegate,t);return new Po(this,n)},t.prototype.goOffline=function(){return Object(i.K)("database.goOffline",0,0,arguments.length),So(this._delegate)},t.prototype.goOnline=function(){return Object(i.K)("database.goOnline",0,0,arguments.length),To(this._delegate)},t.ServerValue={TIMESTAMP:Eo,increment:function(t){return function(t){return{".sv":{increment:t}}}(t)}},t}(),Do=Object.freeze({__proto__:null,forceLongPolling:function(){ot.forceDisallow(),nt.forceAllow()},forceWebSockets:function(){nt.forceDisallow()},isWebSocketsAvailable:function(){return ot.isAvailable()},setSecurityDebugCallback:function(t,e){t._delegate._repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){!function(t,e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var n;e?(t.statsListener_||(t.statsListener_=new Me(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce(function(t,e){return Math.max(e.length,t)},0);R(n,function(t,e){for(var n=t,i=t.length;i<r+2;i++)n+=" ";console.log(n+e)})}}(t._delegate._repo,e)},statsIncrementCounter:function(t,e){!function(t,e){t.stats_.incrementCounter(e),t.statsReporter_.statsToReport_[e]=!0}(t._delegate._repo,e)},dataUpdateCount:function(t){return t._delegate._repo.dataUpdateCount},interceptServerData:function(t,e){return function(t,e){t.interceptServerDataCallback_=e}(t._delegate._repo,e)},initStandalone:function(t){var e=t.app,n=t.url,i=t.customAuthImpl,o=t.namespace,s=t.nodeAdmin,a=void 0!==s&&s;u(t.version);var c=new r.c("auth-internal",new r.b("database-standalone"));return c.setComponent(new r.a("auth-internal",function(){return i},"PRIVATE")),{instance:new Ro(Oo(e,c,void 0,n,a),e),namespace:o}}}),Lo=At;At.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},At.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Fo=Object.freeze({__proto__:null,DataConnection:Lo,RealTimeConnection:at,hijackHash:function(t){var e=At.prototype.put;return At.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){At.prototype.put=e}},ConnectionTarget:G,queryIdentifier:function(t){return t._delegate._queryIdentifier},forceRestClient:function(t){!function(t){Co=t}(t)}}),Uo=Ro.ServerValue;!function(e){u(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new r.a("database",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new Ro(Oo(r,i,o,n),r)},"PUBLIC").setServiceProps({Reference:Po,Query:Mo,Database:Ro,DataSnapshot:Ao,enableLogging:w,INTERNAL:Do,ServerValue:Uo,TEST_ACCESS:Fo}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.11.0"),Object(i.y)()&&(t.exports=n)}(e.a)}).call(this,n("3UD+")(t))},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a});var i="8.10.1";r.a.registerVersion("firebase",i,"app"),r.a.SDK_VERSION=i},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return en}),n.d(e,"b",function(){return du}),n.d(e,"c",function(){return au}),n.d(e,"d",function(){return ou}),n.d(e,"e",function(){return su}),n.d(e,"f",function(){return oc}),n.d(e,"g",function(){return Qu}),n.d(e,"h",function(){return ca}),n.d(e,"i",function(){return Ou}),n.d(e,"j",function(){return Ms}),n.d(e,"k",function(){return gu}),n.d(e,"l",function(){return Ls}),n.d(e,"m",function(){return vr}),n.d(e,"n",function(){return Ua}),n.d(e,"o",function(){return ro}),n.d(e,"p",function(){return Cn}),n.d(e,"q",function(){return S}),n.d(e,"r",function(){return tn}),n.d(e,"s",function(){return _o}),n.d(e,"t",function(){return na}),n.d(e,"u",function(){return ia}),n.d(e,"v",function(){return pu}),n.d(e,"w",function(){return _a}),n.d(e,"x",function(){return Zu}),n.d(e,"y",function(){return va}),n.d(e,"z",function(){return Hu}),n.d(e,"A",function(){return Tu}),n.d(e,"B",function(){return On}),n.d(e,"C",function(){return hu}),n.d(e,"D",function(){return lu}),n.d(e,"E",function(){return Vs}),n.d(e,"F",function(){return Us}),n.d(e,"G",function(){return Or}),n.d(e,"H",function(){return Bs}),n.d(e,"I",function(){return dr}),n.d(e,"J",function(){return xn}),n.d(e,"K",function(){return tc}),n.d(e,"L",function(){return ga}),n.d(e,"M",function(){return Mu}),n.d(e,"N",function(){return nn}),n.d(e,"O",function(){return Hs}),n.d(e,"P",function(){return zs}),n.d(e,"Q",function(){return Ca}),n.d(e,"R",function(){return j}),n.d(e,"S",function(){return Wu}),n.d(e,"T",function(){return Bu}),n.d(e,"U",function(){return f}),n.d(e,"V",function(){return qu}),n.d(e,"W",function(){return rc}),n.d(e,"X",function(){return Du}),n.d(e,"Y",function(){return fu}),n.d(e,"Z",function(){return oo}),n.d(e,"ab",function(){return vs}),n.d(e,"bb",function(){return lr}),n.d(e,"cb",function(){return Gn}),n.d(e,"db",function(){return Dn}),n.d(e,"eb",function(){return Fn}),n.d(e,"fb",function(){return Bn}),n.d(e,"gb",function(){return Vn}),n.d(e,"hb",function(){return Un}),n.d(e,"ib",function(){return qn}),n.d(e,"jb",function(){return gs}),n.d(e,"kb",function(){return nc}),n.d(e,"lb",function(){return ms}),n.d(e,"mb",function(){return ys}),n.d(e,"nb",function(){return Ln}),n.d(e,"ob",function(){return D}),n.d(e,"pb",function(){return Io}),n.d(e,"qb",function(){return Wo}),n.d(e,"rb",function(){return zo}),n.d(e,"sb",function(){return Ho}),n.d(e,"tb",function(){return ps}),n.d(e,"ub",function(){return xt}),n.d(e,"vb",function(){return l}),n.d(e,"wb",function(){return Rn}),n.d(e,"xb",function(){return Co}),n.d(e,"yb",function(){return bt}),n.d(e,"zb",function(){return Ns}),n.d(e,"Ab",function(){return ci}),n.d(e,"Bb",function(){return Mo}),n.d(e,"Cb",function(){return ns}),n.d(e,"Db",function(){return Ja}),n.d(e,"Eb",function(){return G}),n.d(e,"Fb",function(){return tt}),n.d(e,"Gb",function(){return m}),n.d(e,"Hb",function(){return y}),n.d(e,"Ib",function(){return Z}),n.d(e,"Jb",function(){return et}),n.d(e,"Kb",function(){return Do}),n.d(e,"Lb",function(){return qo}),n.d(e,"Mb",function(){return Vo}),n.d(e,"Nb",function(){return Uo}),n.d(e,"Ob",function(){return Bo}),n.d(e,"Pb",function(){return Ye}),n.d(e,"Qb",function(){return ls}),n.d(e,"Rb",function(){return vn}),n.d(e,"Sb",function(){return Ze}),n.d(e,"Tb",function(){return iu}),n.d(e,"Ub",function(){return Ko}),n.d(e,"Vb",function(){return tu}),n.d(e,"Wb",function(){return Qo}),n.d(e,"Xb",function(){return Xo}),n.d(e,"Yb",function(){return Zo}),n.d(e,"Zb",function(){return Lo}),n.d(e,"ac",function(){return La}),n.d(e,"bc",function(){return Fa}),n.d(e,"cc",function(){return Za}),n.d(e,"dc",function(){return Ro}),n.d(e,"ec",function(){return zt}),n.d(e,"fc",function(){return fr}),n.d(e,"gc",function(){return pr}),n.d(e,"hc",function(){return X}),n.d(e,"ic",function(){return Po}),n.d(e,"jc",function(){return as}),n.d(e,"kc",function(){return us}),n.d(e,"lc",function(){return cs}),n.d(e,"mc",function(){return Xa});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("w1tV");function u(t){for(let e in t)if(t[e]===u)return e;throw Error("Could not find renamed property on target object.")}function c(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function l(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(l).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const d=u({__forward_ref__:u});function f(t){return t.__forward_ref__=f,t.toString=function(){return l(this())},t}function p(t){return g(t)?t():t}function g(t){return"function"==typeof t&&t.hasOwnProperty(d)&&t.__forward_ref__===f}function m(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function y(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function b(t){return v(t,w)||v(t,O)}function v(t,e){return t.hasOwnProperty(e)?t[e]:null}function _(t){return t&&(t.hasOwnProperty(C)||t.hasOwnProperty(x))?t[C]:null}const w=u({"\u0275prov":u}),C=u({"\u0275inj":u}),O=u({ngInjectableDef:u}),x=u({ngInjectorDef:u});var S=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let T;function E(t){const e=T;return T=t,e}function k(t,e,n){const r=b(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&S.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${l(t)}]`)}function I(t){return{toString:t}.toString()}var N=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),j=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const A="undefined"!=typeof globalThis&&globalThis,M="undefined"!=typeof window&&window,P="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,R="undefined"!=typeof global&&global,D=A||R||M||P,L={},F=[],U=u({"\u0275cmp":u}),V=u({"\u0275dir":u}),q=u({"\u0275pipe":u}),B=u({"\u0275mod":u}),z=u({"\u0275loc":u}),H=u({"\u0275fac":u}),W=u({__NG_ELEMENT_ID__:u});let K=0;function G(t){return I(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===N.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||F,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||j.Emulated,id:"c",styles:t.styles||F,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=K++,n.inputs=J(t.inputs,e),n.outputs=J(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map($):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(Q):null,n})}function $(t){return nt(t)||function(t){return t[V]||null}(t)}function Q(t){return function(t){return t[q]||null}(t)}const Y={};function Z(t){const e={type:t.type,bootstrap:t.bootstrap||F,declarations:t.declarations||F,imports:t.imports||F,exports:t.exports||F,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&I(()=>{Y[t.id]=t.type}),e}function X(t,e){return I(()=>{const n=rt(t,!0);n.declarations=e.declarations||F,n.imports=e.imports||F,n.exports=e.exports||F})}function J(t,e){if(null==t)return L;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const tt=G;function et(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function nt(t){return t[U]||null}function rt(t,e){const n=t[B]||null;if(!n&&!0===e)throw new Error(`Type ${l(t)} does not have '\u0275mod' property.`);return n}const it=20,ot=10;function st(t){return Array.isArray(t)&&"object"==typeof t[1]}function at(t){return Array.isArray(t)&&!0===t[1]}function ut(t){return 0!=(8&t.flags)}function ct(t){return 2==(2&t.flags)}function lt(t){return 1==(1&t.flags)}function ht(t){return null!==t.template}function dt(t,e){return t.hasOwnProperty(H)?t[H]:null}class ft extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function pt(t){return"string"==typeof t?t:null==t?"":String(t)}function gt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():pt(t)}function mt(t,e){const n=e?` in ${e}`:"";throw new ft("201",`No provider for ${gt(t)} found${n}`)}class yt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function bt(){return vt}function vt(t){return t.type.prototype.ngOnChanges&&(t.setInput=wt),_t}function _t(){const t=Ct(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===L)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function wt(t,e,n,r){const i=Ct(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:L,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new yt(u&&u.currentValue,e,s===L),t[r]=e}function Ct(t){return t.__ngSimpleChanges__||null}let Ot;function xt(t){Ot=t}function St(){return void 0!==Ot?Ot:"undefined"!=typeof document?document:void 0}function Tt(t){return!!t.listen}bt.ngInherit=!0;const Et={createRenderer:(t,e)=>St()};function kt(t){for(;Array.isArray(t);)t=t[0];return t}function It(t,e){return kt(e[t])}function Nt(t,e){return kt(e[t.index])}function jt(t,e){return t.data[e]}function At(t,e){const n=e[t];return st(n)?n:n[0]}function Mt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Pt(t){return 4==(4&t[2])}function Rt(t){return 128==(128&t[2])}function Dt(t,e){return null==e?null:t[e]}function Lt(t){t[18]=0}function Ft(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Ut={lFrame:ae(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Vt(){return Ut.bindingsEnabled}function qt(){return Ut.lFrame.lView}function Bt(){return Ut.lFrame.tView}function zt(t){Ut.lFrame.contextLView=t}function Ht(){let t=Wt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Wt(){return Ut.lFrame.currentTNode}function Kt(t,e){const n=Ut.lFrame;n.currentTNode=t,n.isParent=e}function Gt(){return Ut.lFrame.isParent}function $t(){Ut.lFrame.isParent=!1}function Qt(){return Ut.isInCheckNoChangesMode}function Yt(t){Ut.isInCheckNoChangesMode=t}function Zt(){const t=Ut.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Xt(){return Ut.lFrame.bindingIndex++}function Jt(t,e){const n=Ut.lFrame;n.bindingIndex=n.bindingRootIndex=t,te(e)}function te(t){Ut.lFrame.currentDirectiveIndex=t}function ee(){return Ut.lFrame.currentQueryIndex}function ne(t){Ut.lFrame.currentQueryIndex=t}function re(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ie(t,e,n){if(n&S.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&S.Host||(r=re(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Ut.lFrame=se();return r.currentTNode=e,r.lView=t,!0}function oe(t){const e=se(),n=t[1];Ut.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function se(){const t=Ut.lFrame,e=null===t?null:t.child;return null===e?ae(t):e}function ae(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ue(){const t=Ut.lFrame;return Ut.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ce=ue;function le(){const t=ue();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function he(){return Ut.lFrame.selectedIndex}function de(t){Ut.lFrame.selectedIndex=t}function fe(){const t=Ut.lFrame;return jt(t.tView,t.selectedIndex)}function pe(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function ge(t,e,n){be(t,e,3,n)}function me(t,e,n,r){(3&t[2])===n&&be(t,e,n,r)}function ye(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function be(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(ve(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function ve(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const _e=-1;class we{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Ce(t,e,n){const r=Tt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];xe(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Oe(t){return 3===t||4===t||6===t}function xe(t){return 64===t.charCodeAt(0)}function Se(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Te(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Te(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ee(t){return t!==_e}function ke(t){return 32767&t}function Ie(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Ne=!0;function je(t){const e=Ne;return Ne=t,e}let Ae=0;function Me(t,e){const n=Re(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Pe(r.data,t),Pe(e,null),Pe(r.blueprint,null));const i=De(t,e),o=t.injectorIndex;if(Ee(i)){const t=ke(i),n=Ie(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Pe(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Re(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function De(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return _e;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return _e}function Le(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(W)&&(r=n[W]),null==r&&(r=n[W]=Ae++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Fe(t,e,n){if(n&S.Optional)return t;mt(e,"NodeInjector")}function Ue(t,e,n,r){if(n&S.Optional&&void 0===r&&(r=null),0==(n&(S.Self|S.Host))){const i=t[9],o=E(void 0);try{return i?i.get(e,r,n&S.Optional):k(e,r,n&S.Optional)}finally{E(o)}}return Fe(r,e,n)}function Ve(t,e,n,r=S.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(W)?t[W]:void 0;return"number"==typeof e?e>=0?255&e:Be:e}(n);if("function"==typeof o){if(!ie(e,t,r))return r&S.Host?Fe(i,n,r):Ue(e,n,r,i);try{const t=o();if(null!=t||r&S.Optional)return t;mt(n)}finally{ce()}}else if("number"==typeof o){let i=null,s=Re(t,e),a=_e,u=r&S.Host?e[16][6]:null;for((-1===s||r&S.SkipSelf)&&(a=-1===s?De(t,e):e[s+8],a!==_e&&Ge(r,!1)?(i=e[1],s=ke(a),e=Ie(a,e)):s=-1);-1!==s;){const t=e[1];if(Ke(o,s,t.data)){const t=ze(s,e,n,i,r,u);if(t!==qe)return t}a=e[s+8],a!==_e&&Ge(r,e[1].data[s+8]===u)&&Ke(o,s,e)?(i=t,s=ke(a),e=Ie(a,e)):s=-1}}}return Ue(e,n,r,i)}const qe={};function Be(){return new $e(Ht(),qt())}function ze(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=He(a,s,n,null==r?ct(a)&&Ne:r!=s&&0!=(3&a.type),i&S.Host&&o===a);return null!==u?We(e,s,u,a):qe}function He(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&ht(t)&&t.type===n)return u}return null}function We(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof we){const s=i;s.resolving&&function(t,e){throw new ft("200",`Circular dependency in DI detected for ${t}`)}(gt(o[n]));const a=je(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?E(s.injectImpl):null;ie(t,r,S.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=vt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&E(u),je(a),s.resolving=!1,ce()}}return i}function Ke(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Ge(t,e){return!(t&S.Self||t&S.Host&&e)}class $e{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ve(this._tNode,this._lView,t,void 0,e)}}function Qe(t){const e=t;if(g(t))return()=>{const t=Qe(p(e));return t?t():null};let n=dt(e);if(null===n){const t=_(e);n=t&&t.factory}return n||null}function Ye(t){return I(()=>{const e=t.prototype.constructor,n=e[H]||Qe(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[H]||Qe(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Ze(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Oe(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Ht(),t)}const Xe="__parameters__";function Je(t,e,n){return I(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(Xe)?t[Xe]:Object.defineProperty(t,Xe,{value:[]})[Xe];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class tn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=m({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const en=new tn("AnalyzeForEntryComponents"),nn=Function;function rn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),rn(r,e)):e!==t&&e.push(r)}return e}function on(t,e){t.forEach(t=>Array.isArray(t)?on(t,e):e(t))}function sn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function an(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function un(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function cn(t,e,n){let r=hn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function ln(t,e){const n=hn(t,e);if(n>=0)return t[1|n]}function hn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const dn={},fn=/\n/gm,pn="__source",gn=u({provide:String,useValue:u});let mn;function yn(t){const e=mn;return mn=t,e}function bn(t,e=S.Default){if(void 0===mn)throw new Error("inject() must be called from an injection context");return null===mn?k(t,void 0,e):mn.get(t,e&S.Optional?null:void 0,e)}function vn(t,e=S.Default){return(T||bn)(p(t),e)}function _n(t){const e=[];for(let n=0;n<t.length;n++){const r=p(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=S.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(vn(t,n))}else e.push(vn(r))}return e}function wn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const Cn=wn(Je("Inject",t=>({token:t})),-1),On=wn(Je("Optional"),8),xn=wn(Je("SkipSelf"),4);let Sn,Tn;function En(t){var e;return(null===(e=function(){if(void 0===Sn&&(Sn=null,D.trustedTypes))try{Sn=D.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Sn}())||void 0===e?void 0:e.createHTML(t))||t}function kn(t){var e;return(null===(e=function(){if(void 0===Tn&&(Tn=null,D.trustedTypes))try{Tn=D.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Tn}())||void 0===e?void 0:e.createHTML(t))||t}class In{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Nn extends In{getTypeName(){return"HTML"}}class jn extends In{getTypeName(){return"Style"}}class An extends In{getTypeName(){return"Script"}}class Mn extends In{getTypeName(){return"URL"}}class Pn extends In{getTypeName(){return"ResourceURL"}}function Rn(t){return t instanceof In?t.changingThisBreaksApplicationSecurity:t}function Dn(t,e){const n=Ln(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Ln(t){return t instanceof In&&t.getTypeName()||null}function Fn(t){return new Nn(t)}function Un(t){return new jn(t)}function Vn(t){return new An(t)}function qn(t){return new Mn(t)}function Bn(t){return new Pn(t)}class zn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(En(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Hn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=En(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=En(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Wn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Kn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Gn(t){return(t=String(t)).match(Wn)||t.match(Kn)?t:"unsafe:"+t}function $n(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Qn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Yn=$n("area,br,col,hr,img,wbr"),Zn=$n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Xn=$n("rp,rt"),Jn=Qn(Xn,Zn),tr=Qn(Yn,Qn(Zn,$n("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Qn(Xn,$n("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Jn),er=$n("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),nr=$n("srcset"),rr=Qn(er,nr,$n("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$n("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ir=$n("script,style,template");class or{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!tr.hasOwnProperty(e))return this.sanitizedSomething=!0,!ir.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!rr.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;er[o]&&(s=Gn(s)),nr[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Gn(t.trim())).join(", ")),this.buf.push(" ",e,'="',ur(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();tr.hasOwnProperty(e)&&!Yn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(ur(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const sr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ar=/([^\#-~ |!])/g;function ur(t){return t.replace(/&/g,"&amp;").replace(sr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(ar,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let cr;function lr(t,e){let n=null;try{cr=cr||function(t){const e=new Hn(t);return function(){try{return!!(new window.DOMParser).parseFromString(En(""),"text/html")}catch(t){return!1}}()?new zn(e):e}(t);let r=e?String(e):"";n=cr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=cr.getInertBodyElement(r)}while(r!==o);return En((new or).sanitizeChildren(hr(n)||n))}finally{if(n){const t=hr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function hr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var dr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function fr(t){const e=gr();return e?kn(e.sanitize(dr.HTML,t)||""):Dn(t,"HTML")?kn(Rn(t)):lr(St(),pt(t))}function pr(t){const e=gr();return e?e.sanitize(dr.URL,t)||"":Dn(t,"URL")?Rn(t):Gn(pt(t))}function gr(){const t=qt();return t&&t[12]}function mr(t){return t.ngDebugContext}function yr(t){return t.ngOriginalError}function br(t,...e){t.error(...e)}class vr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||br}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?mr(t)?mr(t):this._findContext(yr(t)):null}_findOriginalError(t){let e=yr(t);for(;e&&yr(e);)e=yr(e);return e}}function _r(t,e){t.__ngContext__=e}const wr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(D))();function Cr(t){return t instanceof Function?t():t}var Or=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function xr(t,e){return(void 0)(t,e)}function Sr(t){const e=t[3];return at(e)?e[3]:e}function Tr(t){return kr(t[13])}function Er(t){return kr(t[4])}function kr(t){for(;null!==t&&!at(t);)t=t[4];return t}function Ir(t,e,n,r,i){if(null!=r){let o,s=!1;at(r)?o=r:st(r)&&(s=!0,r=r[0]);const a=kt(r);0===t&&null!==n?null==i?Lr(e,n,a):Dr(e,n,a,i||null,!0):1===t&&null!==n?Dr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Ur(t,e);r&&function(t,e,n,r){Tt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==kt(n)&&Ir(e,t,r,o,i);for(let s=ot;s<n.length;s++){const i=n[s];Kr(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Nr(t,e,n){return Tt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function jr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Ft(i,-1)),n.splice(r,1)}function Ar(t,e){if(t.length<=ot)return;const n=ot+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&jr(o,r),e>0&&(t[n-1][4]=r[4]);const s=an(t,ot+e);Kr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Mr(t,e){if(!(256&e[2])){const n=e[11];Tt(n)&&n.destroyNode&&Kr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Pr(t[1],t);for(;e;){let n=null;if(st(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)st(e)&&Pr(e[1],e),e=e[3];null===e&&(e=t),st(e)&&Pr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Pr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof we)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):kt(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&Tt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&at(e[3])){n!==e[3]&&jr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Rr(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===j.None||e===j.Emulated)return null}return Nt(r,n)}(t,e.parent,n)}function Dr(t,e,n,r,i){Tt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Lr(t,e,n){Tt(t)?t.appendChild(e,n):e.appendChild(n)}function Fr(t,e,n,r,i){null!==r?Dr(t,e,n,r,i):Lr(t,e,n)}function Ur(t,e){return Tt(t)?t.parentNode(e):e.parentNode}function Vr(t,e,n){return qr(t,e,n)}let qr=function(t,e,n){return 40&t.type?Nt(t,n):null};function Br(t,e,n,r){const i=Rr(t,r,e),o=e[11],s=Vr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Fr(o,i,n[a],s,!1);else Fr(o,i,n,s,!1)}function zr(t,e){if(null!==e){const n=e.type;if(3&n)return Nt(e,t);if(4&n)return Hr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return zr(t,n);{const n=t[e.index];return at(n)?Hr(-1,n):kt(n)}}if(32&n)return xr(e,t)()||kt(t[e.index]);{const n=t[16],r=n[6],i=Sr(n),o=r.projection[e.projection];return null!=o?zr(i,o):zr(t,e.next)}}return null}function Hr(t,e){const n=ot+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return zr(t,r)}return e[7]}function Wr(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&_r(kt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Wr(t,e,n.child,r,i,o,!1),Ir(e,t,i,a,o);else if(32&u){const s=xr(n,r);let u;for(;u=s();)Ir(e,t,i,u,o);Ir(e,t,i,a,o)}else 16&u?Gr(t,e,r,n,i,o):Ir(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Kr(t,e,n,r,i,o){Wr(n,r,t.firstChild,e,i,o,!1)}function Gr(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Ir(e,t,i,a[u],o);else Wr(t,e,a,s[3],i,o,!0)}function $r(t,e,n){Tt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Qr(t,e,n){Tt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Yr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Zr="ng-template";function Xr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Yr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Jr(t){return 4===t.type&&t.value!==Zr}function ti(t,e,n){return e===(4!==t.type||n?t.value:Zr)}function ei(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Oe(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!ti(t,u,n)||""===u&&1===e.length){if(ni(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Xr(t.attrs,c,n)){if(ni(r))return!1;s=!0}continue}const l=ri(8&r?"class":u,i,Jr(t),n);if(-1===l){if(ni(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Yr(e,c,0)||2&r&&c!==t){if(ni(r))return!1;s=!0}}}}else{if(!s&&!ni(r)&&!ni(u))return!1;if(s&&ni(u))continue;s=!1,r=u|1&r}}return ni(r)||s}function ni(t){return 0==(1&t)}function ri(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ii(t,e,n=!1){for(let r=0;r<e.length;r++)if(ei(t,e[r],n))return!0;return!1}function oi(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function si(t,e){return t?":not("+e.trim()+")":e}function ai(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||ni(s)||(e+=si(o,i),i=""),r=s,o=o||!ni(r);n++}return""!==i&&(e+=si(o,i)),e}const ui={};function ci(t){li(Bt(),qt(),he()+t,Qt())}function li(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&ge(e,r,n)}else{const r=t.preOrderHooks;null!==r&&me(e,r,0,n)}de(n)}function hi(t,e){return t<<17|e<<2}function di(t){return t>>17&32767}function fi(t){return 2|t}function pi(t){return(131068&t)>>2}function gi(t,e){return-131069&t|e<<2}function mi(t){return 1|t}function yi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];ne(i),n.contentQueries(2,e[o],o)}}}function bi(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Lt(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function vi(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Wt(),s=Gt(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),Ut.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Ut.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Kt(o,!0),o}function _i(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function wi(t,e,n){oe(e);try{const r=t.viewQuery;null!==r&&Yi(1,r,n);const i=t.template;null!==i&&xi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&yi(t,e),t.staticViewQueries&&Yi(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Wi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,le()}}function Ci(t,e,n,r){const i=e[2];if(256==(256&i))return;oe(e);const o=Qt();try{Lt(e),Ut.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&xi(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&ge(e,n,null)}else{const n=t.preOrderHooks;null!==n&&me(e,n,0,null),ye(e,0)}if(function(t){for(let e=Tr(t);null!==e;e=Er(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Ft(r,1),n[2]|=1024}}}(e),function(t){for(let e=Tr(t);null!==e;e=Er(e))for(let t=ot;t<e.length;t++){const n=e[t],r=n[1];Rt(n)&&Ci(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&yi(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&ge(e,n)}else{const n=t.contentHooks;null!==n&&me(e,n,1),ye(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)de(~r);else{const i=r,o=n[++t],s=n[++t];Jt(o,i),s(2,e[i])}}}finally{de(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)zi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Yi(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&ge(e,n)}else{const n=t.viewHooks;null!==n&&me(e,n,2),ye(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ft(e[3],-1))}finally{le()}}function Oi(t,e,n,r){const i=e[10],o=!Qt(),s=Pt(e);try{o&&!s&&i.begin&&i.begin(),s&&wi(t,e,r),Ci(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function xi(t,e,n,r,i){const o=he();try{de(-1),2&r&&e.length>it&&li(t,e,it,Qt()),n(r,i)}finally{de(o)}}function Si(t,e,n){Vt()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Me(n,e),_r(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=ht(r);o&&Ui(e,n,r);const u=We(e,t,a,n);_r(u,e),null!==s&&Vi(0,a-i,u,r,0,s),o&&(At(n.index,e)[8]=u)}}(t,e,n,Nt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Ut.lFrame.currentDirectiveIndex;try{de(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];te(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Pi(r,i)}}finally{de(-1),te(s)}}(t,e,n))}function Ti(t,e,n=Nt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Ei(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ki(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ki(t,e,n,r,i,o,s,a,u,c){const l=it+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ui);return n}(l,h),f="function"==typeof c?c():c;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function Ii(t,e,n,r){const i=Xi(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Ji(t).push(r,i.length-1))}function Ni(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ji(t,e,n,r,i,o,s,a){const u=Nt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(eo(t,n,c,r,i),ct(e)&&function(t,e){const n=At(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,Tt(o)?o.setProperty(u,r,i):xe(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Ai(t,e,n,r){let i=!1;if(Vt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];ii(n,s.selectors,!1)&&(i||(i=[]),Le(Me(n,e),t,s.type),ht(s)?(Ri(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Li(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=_i(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Se(n.mergedAttrs,c.hostAttrs),Fi(t,n,e,u,c),Di(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||Jr(e)?null:qi(n,i);o.push(c),s=Ni(n,u,s),a=Ni(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new ft("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Se(n.mergedAttrs,n.attrs),i}function Mi(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function Pi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ri(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Di(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ht(e)&&(n[""]=t)}}function Li(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Fi(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=dt(i.type)),s=new we(o,ht(i),null);t.blueprint[r]=s,n[r]=s,Mi(t,e,0,r,_i(t,n,i.hostVars,ui),i)}function Ui(t,e,n){const r=Nt(e,t),i=Ei(n),o=t[10],s=Ki(t,bi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Vi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function qi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Bi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function zi(t,e){const n=At(e,t);if(Rt(n)){const t=n[1];80&n[2]?Ci(t,n,t.template,n[8]):n[5]>0&&Hi(n)}}function Hi(t){for(let n=Tr(t);null!==n;n=Er(n))for(let t=ot;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Ci(t,e,t.template,e[8])}else e[5]>0&&Hi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=At(e[n],t);Rt(r)&&r[5]>0&&Hi(r)}}function Wi(t,e){const n=At(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),wi(r,n,n[8])}function Ki(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Gi(t){for(;t;){t[2]|=64;const e=Sr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function $i(t,e,n){const r=e[10];r.begin&&r.begin();try{Ci(t,e,t.template,n)}catch(i){throw to(e,i),i}finally{r.end&&r.end()}}function Qi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Mt(n),i=r[1];Oi(i,r,i.template,n)}}(t[8])}function Yi(t,e,n){ne(0),e(t,n)}const Zi=(()=>Promise.resolve(null))();function Xi(t){return t[7]||(t[7]=[])}function Ji(t){return t.cleanup||(t.cleanup=[])}function to(t,e){const n=t[9],r=n?n.get(vr,null):null;r&&r.handleError(e)}function eo(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function no(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=h(i,t):2==o&&(r=h(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const ro=new tn("INJECTOR",-1);class io{get(t,e=dn){if(e===dn){const e=new Error(`NullInjectorError: No provider for ${l(t)}!`);throw e.name="NullInjectorError",e}return e}}const oo=new tn("Set Injector scope."),so={},ao={},uo=[];let co;function lo(){return void 0===co&&(co=new io),co}function ho(t,e=null,n=null,r){return new fo(t,n,e||lo(),r)}class fo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&on(e,n=>this.processProvider(n,t,e)),on([t],t=>this.processInjectorType(t,[],i)),this.records.set(ro,mo(void 0,this));const o=this.records.get(oo);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:l(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=dn,n=S.Default){this.assertNotDestroyed();const r=yn(this);try{if(!(n&S.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof tn)&&b(t);e=n&&this.injectableDefInScope(n)?mo(po(t),so):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&S.Self?lo():this.parent).get(t,e=n&S.Optional&&e===dn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(l(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[pn]&&i.unshift(e[pn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=l(e);if(Array.isArray(e))i=e.map(l).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):l(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(fn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{yn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(l(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let r=_(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=_(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{on(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];on(r,t=>this.processProvider(t,n,r||uo))}}this.injectorDefTypes.add(o),this.records.set(o,mo(r.factory,so));const a=r.providers;if(null!=a&&!s){const e=t;on(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=bo(t=p(t))?t:p(t&&t.provide);const i=function(t,e,n){return yo(t)?mo(void 0,t.useValue):mo(go(t),so)}(t);if(bo(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=mo(void 0,so,!0),e.factory=()=>_n(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===so&&(e.value=ao,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function po(t){const e=b(t),n=null!==e?e.factory:dt(t);if(null!==n)return n;const r=_(t);if(null!==r)return r.factory;if(t instanceof tn)throw new Error(`Token ${l(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=un(e,"?");throw new Error(`Can't resolve all parameters for ${l(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[w]||t[O]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function go(t,e,n){let r;if(bo(t)){const e=p(t);return dt(e)||po(e)}if(yo(t))r=()=>p(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(..._n(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>vn(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return dt(e)||po(e);r=()=>new e(..._n(t.deps))}var i;return r}function mo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function yo(t){return null!==t&&"object"==typeof t&&gn in t}function bo(t){return"function"==typeof t}const vo=function(t,e,n){return function(t,e=null,n=null,r){const i=ho(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let _o=(()=>{class t{static create(t,e){return Array.isArray(t)?vo(t,e,""):vo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=dn,t.NULL=new io,t.\u0275prov=m({token:t,providedIn:"any",factory:()=>vn(ro)}),t.__NG_ELEMENT_ID__=-1,t})();function wo(t,e){pe(Mt(t)[1],Ht())}function Co(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(ht(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Oo(t.inputs),e.declaredInputs=Oo(t.declaredInputs),e.outputs=Oo(t.outputs);const n=i.hostBindings;n&&To(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&xo(t,o),s&&So(t,s),c(t.inputs,i.inputs),c(t.declaredInputs,i.declaredInputs),c(t.outputs,i.outputs),ht(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Co&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Se(i.hostAttrs,n=Se(n,i.hostAttrs))}}(r)}function Oo(t){return t===L?{}:t===F?[]:t}function xo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function So(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function To(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Eo=null;function ko(){if(!Eo){const t=D.Symbol;if(t&&t.iterator)Eo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Eo=n)}}}return Eo}function Io(t){return!!No(t)&&(Array.isArray(t)||!(t instanceof Map)&&ko()in t)}function No(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function jo(t,e,n){return t[e]=n}function Ao(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Mo(t,e,n,r){const i=qt();return Ao(i,Xt(),e)&&(Bt(),function(t,e,n,r,i,o){const s=Nt(t,e);!function(t,e,n,r,i,o,s){if(null==o)Tt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?pt(o):s(o,r||"",i);Tt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(fe(),i,t,e,n,r)),Mo}function Po(t,e,n,r,i,o,s,a){const u=qt(),c=Bt(),l=t+it,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=vi(e,t,4,s||null,Dt(c,a));Ai(e,n,l,Dt(c,u)),pe(e,l);const h=l.tViews=ki(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Kt(h,!1);const d=u[11].createComment("");Br(c,u,d,h),_r(d,u),Ki(u,u[l]=Bi(d,u,d,h)),lt(h)&&Si(c,u,h),null!=s&&Ti(u,h,a)}function Ro(t){return function(t,e){return t[e]}(Ut.lFrame.contextLView,it+t)}function Do(t,e=S.Default){const n=qt();return null===n?vn(t,e):Ve(Ht(),n,p(t),e)}function Lo(t,e,n){const r=qt();return Ao(r,Xt(),e)&&ji(Bt(),fe(),r,t,e,r[11],n,!1),Lo}function Fo(t,e,n,r,i){const o=i?"class":"style";eo(t,n,e.inputs[o],o,r)}function Uo(t,e,n,r){const i=qt(),o=Bt(),s=it+t,a=i[11],u=i[s]=Nr(a,e,Ut.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=vi(e,t,2,i,Dt(a,o));return Ai(e,n,u,Dt(a,s)),null!==u.attrs&&no(u,u.attrs,!1),null!==u.mergedAttrs&&no(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Kt(c,!0);const l=c.mergedAttrs;null!==l&&Ce(a,u,l);const h=c.classes;null!==h&&Qr(a,u,h);const d=c.styles;null!==d&&$r(a,u,d),64!=(64&c.flags)&&Br(o,i,u,c),0===Ut.lFrame.elementDepthCount&&_r(u,i),Ut.lFrame.elementDepthCount++,lt(c)&&(Si(o,i,c),function(t,e,n){if(ut(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&Ti(i,c)}function Vo(){let t=Ht();Gt()?$t():(t=t.parent,Kt(t,!1));const e=t;Ut.lFrame.elementDepthCount--;const n=Bt();n.firstCreatePass&&(pe(n,t),ut(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Fo(n,e,qt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Fo(n,e,qt(),e.stylesWithoutHost,!1)}function qo(t,e,n,r){Uo(t,e,n,r),Vo()}function Bo(){return qt()}function zo(t){return!!t&&"function"==typeof t.then}function Ho(t){return!!t&&"function"==typeof t.subscribe}const Wo=Ho;function Ko(t,e,n=!1,r){const i=qt(),o=Bt(),s=Ht();return function(t,e,n,r,i,o,s=!1,a){const u=lt(r),c=t.firstCreatePass&&Ji(t),l=Xi(e);let h=!0;if(3&r.type){const d=Nt(r,e),f=a?a(d):L,p=f.target||d,g=l.length,m=a?t=>a(kt(t[r.index])).target:r.index;if(Tt(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=$o(r,e,o,!1);const t=n.listen(f.name||p,i,o);l.push(o,t),c&&c.push(i,m,g,g+1)}}else o=$o(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,m,g,s)}else o=$o(r,e,o,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Ko}function Go(t,e,n){try{return!1!==e(n)}catch(r){return to(t,r),!1}}function $o(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?At(t.index,e):e;0==(32&e[2])&&Gi(s);let a=Go(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=Go(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Qo(t=1){return function(t){return(Ut.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ut.lFrame.contextLView))[8]}(t)}function Yo(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?ii(t,o,!0):oi(r,o))return i}else n=i}return n}function Zo(t){const e=qt()[16][6];if(!e.projection){const n=e.projection=un(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?Yo(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function Xo(t,e=0,n){const r=qt(),i=Bt(),o=vi(i,it+t,16,null,n||null);null===o.projection&&(o.projection=e),$t(),64!=(64&o.flags)&&function(t,e,n){Gr(e[11],0,e,n,Rr(t,n,e),Vr(n.parent||e[6],n,e))}(i,r,o)}const Jo=[];function ts(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?di(o):pi(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];es(t[a],e)&&(u=!0,t[a+1]=r?mi(n):fi(n)),a=r?di(n):pi(n)}u&&(t[n+1]=r?fi(o):mi(o))}function es(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&hn(t,e)>=0}function ns(t,e){return function(t,e,n,r){const i=qt(),o=Bt(),s=function(t){const e=Ut.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[he()],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(o)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Ut.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=e.residualClasses;if(null===i)0===e.classBindings&&(n=is(n=rs(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=rs(i,t,e,n,r),null===o){let n=function(t,e,n){const r=e.classBindings;if(0!==pi(r))return t[di(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=rs(null,t,e,n[1],r),n=is(n,e.attrs,r),function(t,e,n,r){t[di(e.classBindings)]=r}(t,e,0,n))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=is(r,t[o].hostAttrs,true);return is(r,e.attrs,true)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=e.classBindings,a=di(s),u=pi(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||hn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=di(t[a+1]);t[r+1]=hi(e,a),0!==e&&(t[e+1]=gi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=hi(a,0),0!==a&&(t[a+1]=gi(t[a+1],r)),a=r;else t[r+1]=hi(u,0),0===a?a=r:t[u+1]=gi(t[u+1],r),u=r;l&&(t[r+1]=fi(t[r+1])),ts(t,c,r,!0),ts(t,c,r,!1),function(t,e,n,r,i){const o=t.residualClasses;null!=o&&"string"==typeof e&&hn(o,e)>=0&&(n[r+1]=mi(n[r+1]))}(e,c,t,r),s=hi(a,u),e.classBindings=s}(i,o,e,n,s)}}(o,t,s,true),e!==ui&&Ao(i,s,e)&&function(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];ss(1==(1&c)?os(u,e,n,i,pi(c),s):void 0)||(ss(o)||function(t){return 2==(2&t)}(c)&&(o=os(u,null,n,i,a,s)),function(t,e,n,r,i){const o=Tt(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,It(he(),n),i,o))}(o,o.data[he()],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=l(Rn(t))),t}(e),true,s)}(t,e),ns}function rs(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=is(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function is(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),cn(t,s,!!n||e[++o]))}return void 0===t?null:t}function os(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===ui&&(l=c?Jo:void 0);let h=c?ln(l,r):u===r?l:void 0;if(o&&!ss(h)&&(h=ln(e,r)),ss(h)&&(a=h,s))return a;const d=t[i+1];i=s?di(d):pi(d)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=ln(t,r))}return a}function ss(t){return void 0!==t}function as(t,e=""){const n=qt(),r=Bt(),i=t+it,o=r.firstCreatePass?vi(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return Tt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Br(r,n,s,o),Kt(o,!1)}function us(t){return cs("",t,""),us}function cs(t,e,n){const r=qt(),i=function(t,e,n,r){return Ao(t,Xt(),n)?e+pt(n)+r:ui}(r,t,e,n);return i!==ui&&function(t,e,n){const r=It(e,t);!function(t,e,n){Tt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,he(),i),cs}function ls(t,e,n){const r=qt();return Ao(r,Xt(),e)&&ji(Bt(),fe(),r,t,e,r[11],n,!0),ls}const hs=void 0;var ds=["en",[["a","p"],["AM","PM"],hs],[["AM","PM"],hs,hs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],hs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],hs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",hs,"{1} 'at' {0}",hs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let fs={};function ps(t,e,n){"string"!=typeof e&&(n=e,e=t[vs.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),fs[e]=t,n&&(fs[e][vs.ExtraData]=n)}function gs(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=bs(e);if(n)return n;const r=e.split("-")[0];if(n=bs(r),n)return n;if("en"===r)return ds;throw new Error(`Missing locale data for the locale "${t}".`)}function ms(t){return gs(t)[vs.CurrencyCode]||null}function ys(t){return gs(t)[vs.PluralCase]}function bs(t){return t in fs||(fs[t]=D.ng&&D.ng.common&&D.ng.common.locales&&D.ng.common.locales[t]),fs[t]}var vs=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const _s="en-US";let ws=_s;function Cs(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(ws=t.toLowerCase().replace(/_/g,"-"))}function Os(t,e,n,r,i){if(t=p(t),Array.isArray(t))for(let o=0;o<t.length;o++)Os(t[o],e,n,r,i);else{const o=Bt(),s=qt();let a=bo(t)?t:p(t.provide),u=go(t);const c=Ht(),l=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(bo(t)||!t.multi){const r=new we(u,i,Do),f=Ts(a,e,i?l:l+d,h);-1===f?(Le(Me(c,s),o,a),xs(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[f]=r,s[f]=r)}else{const f=Ts(a,e,l+d,h),p=Ts(a,e,l,l+d),g=f>=0&&n[f],m=p>=0&&n[p];if(i&&!m||!i&&!g){Le(Me(c,s),o,a);const l=function(t,e,n,r,i){const o=new we(t,n,Do);return o.multi=[],o.index=e,o.componentProviders=0,Ss(o,i,r&&!n),o}(i?ks:Es,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),xs(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else xs(o,t,f>-1?f:p,Ss(n[i?p:f],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function xs(t,e,n,r){const i=bo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function Ss(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ts(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Es(t,e,n,r){return Is(this.multi,[])}function ks(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=We(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),Is(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],Is(i,o);return o}function Is(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ns(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Bt();if(r.firstCreatePass){const i=ht(t);Os(n,r.data,r.blueprint,i,!0),Os(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class js{}class As{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${l(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Ms=(()=>{class t{}return t.NULL=new As,t})();function Ps(...t){}function Rs(t,e){return new Ls(Nt(t,e))}const Ds=function(){return Rs(Ht(),qt())};let Ls=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Ds,t})();function Fs(t){return t instanceof Ls?t.nativeElement:t}class Us{}let Vs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>qs(),t})();const qs=function(){const t=qt(),e=At(Ht().index,t);return function(t){return t[11]}(st(e)?e:t)};let Bs=(()=>{class t{}return t.\u0275prov=m({token:t,providedIn:"root",factory:()=>null}),t})();class zs{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Hs=new zs("11.1.2");class Ws{constructor(){}supports(t){return Io(t)}create(t){return new Gs(t)}}const Ks=(t,e)=>e;class Gs{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ks}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Zs(n,r,i)?e:n,s=Zs(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Io(t))throw new Error(`Error trying to diff '${l(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[ko()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new $s(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ys),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ys),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class $s{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Qs{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Ys{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Qs,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Zs(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Xs{constructor(){}supports(t){return t instanceof Map||No(t)}create(){return new Js}}class Js{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||No(t)))throw new Error(`Error trying to diff '${l(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ta(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ta{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ea(){return new na([new Ws])}let na=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||ea()),deps:[[t,new xn,new On]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=m({token:t,providedIn:"root",factory:ea}),t})();function ra(){return new ia([new Xs])}let ia=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||ra()),deps:[[t,new xn,new On]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=m({token:t,providedIn:"root",factory:ra}),t})();function oa(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(kt(o)),at(o))for(let t=ot;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&oa(e[1],e,n,r)}const s=n.type;if(8&s)oa(t,e,n.child,r);else if(32&s){const t=xr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=Sr(t);oa(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class sa{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return oa(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(at(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Ar(t,n),an(e,n))}this._attachedToViewContainer=!1}Mr(this._lView[1],this._lView)}onDestroy(t){Ii(this._lView[1],this._lView,null,t)}markForCheck(){Gi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){$i(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Yt(!0);try{$i(t,e,n)}finally{Yt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Kr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class aa extends sa{constructor(t){super(t),this._view=t}detectChanges(){Qi(this._view)}checkNoChanges(){!function(t){Yt(!0);try{Qi(t)}finally{Yt(!1)}}(this._view)}get context(){return null}}const ua=la;let ca=(()=>{class t{}return t.__NG_ELEMENT_ID__=ua,t.__ChangeDetectorRef__=!0,t})();function la(t=!1){return function(t,e,n){if(!n&&ct(t)){const n=At(t.index,e);return new sa(n,n)}return 47&t.type?new sa(e[16],e):null}(Ht(),qt(),t)}const ha=[new Xs],da=new na([new Ws]),fa=new ia(ha),pa=function(){return ba(Ht(),qt())};let ga=(()=>{class t{}return t.__NG_ELEMENT_ID__=pa,t})();const ma=ga,ya=class extends ma{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=bi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),wi(e,n,t),new sa(n)}};function ba(t,e){return 4&t.type?new ya(e,t,Rs(t,e)):null}class va{}class _a{}const wa=function(){return Ea(Ht(),qt())};let Ca=(()=>{class t{}return t.__NG_ELEMENT_ID__=wa,t})();const Oa=Ca,xa=class extends Oa{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Rs(this._hostTNode,this._hostLView)}get injector(){return new $e(this._hostTNode,this._hostLView)}get parentInjector(){const t=De(this._hostTNode,this._hostLView);if(Ee(t)){const e=Ie(t,this._hostLView),n=ke(t);return new $e(e[1].data[n+8],e)}return new $e(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Sa(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ot}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(va,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(at(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new xa(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=ot+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-ot?(e[4]=n[i],sn(n,ot+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=Hr(i,o),a=n[11],u=Ur(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Kr(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),sn(Ta(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Sa(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Ar(this._lContainer,e);n&&(an(Ta(this._lContainer),e),Mr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Ar(this._lContainer,e);return n&&null!=an(Ta(this._lContainer),e)?new sa(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Sa(t){return t[8]}function Ta(t){return t[8]||(t[8]=[])}function Ea(t,e){let n;const r=e[t.index];if(at(r))n=r;else{let i;if(8&t.type)i=kt(r);else{const n=e[11];i=n.createComment("");const r=Nt(t,e);Dr(n,Ur(n,r),i,function(t,e){return Tt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Bi(r,e,i,t),Ki(e,n)}return new xa(n,t,e)}const ka={};class Ia extends Ms{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=nt(t);return new Aa(e,this.ngModule)}}function Na(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const ja=new tn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>wr});class Aa extends js{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ai).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Na(this.componentDef.inputs)}get outputs(){return Na(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,ka,i);return o!==ka||r===ka?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Us,Et),s=i.get(Bs,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Tt(t))return t.selectRootElement(e,n===j.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Nr(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:wr,clean:Zi,playerHandler:null,flags:0},d=ki(0,null,null,1,0,null,null,null,null,null),f=bi(null,d,h,l,null,null,o,a,s,i);let p,g;oe(f);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=vi(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(no(a,u,!0),null!==t&&(Ce(i,t,u),null!==a.classes&&Qr(i,t,a.classes),null!==a.styles&&$r(i,t,a.styles)));const c=r.createRenderer(t,e),l=bi(n,Ei(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(Le(Me(a,n),s,e.type),Ri(s,a),Li(a,n.length,1)),Ki(n,l),n[20]=l}(c,this.componentDef,f,o,a);if(c)if(n)Ce(a,c,["ng-version",Hs.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!ni(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Ce(a,c,t),e&&e.length>0&&Qr(a,c,e.join(" "))}if(g=jt(d,it),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Ht();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Fi(t,r,e,_i(t,e,1,null),n));const i=We(e,t,r.directiveStart,r);_r(i,e);const o=Nt(r,e);return o&&_r(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Ht();e.contentQueries(1,s,t.directiveStart)}const a=Ht();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(de(a.index),Mi(n[1],a,0,a.directiveStart,a.directiveEnd,e),Pi(e,s)),s}(t,this.componentDef,f,h,[wo]),wi(d,f,null)}finally{le()}return new Ma(this.componentType,p,Rs(g,f),f,g)}}class Ma extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new aa(r),this.componentType=t}get injector(){return new $e(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Pa=new Map;class Ra extends va{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ia(this);const n=rt(t),r=t[z]||null;r&&Cs(r),this._bootstrapComponents=Cr(n.bootstrap),this._r3Injector=ho(t,e,[{provide:va,useValue:this},{provide:Ms,useValue:this.componentFactoryResolver}],l(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=_o.THROW_IF_NOT_FOUND,n=S.Default){return t===_o||t===va||t===ro?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Da extends _a{constructor(t){super(),this.moduleType=t,null!==rt(t)&&function(t){const e=new Set;!function t(n){const r=rt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${l(e)} vs ${l(e.name)}`)}(i,Pa.get(i),n),Pa.set(i,n));const o=Cr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Ra(this.moduleType,t)}}function La(t,e,n){const r=Zt()+t,i=qt();return i[r]===ui?jo(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function Fa(t,e,n,r){return function(t,e,n,r,i,o){const s=e+n;return Ao(t,s,i)?jo(t,s+1,o?r.call(o,i):r(i)):function(t,e){const n=t[e];return n===ui?void 0:n}(t,s+1)}(qt(),Zt(),t,e,n,r)}const Ua=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function Va(){return this._results[ko()]()}class qa{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=ko(),n=qa.prototype;n[e]||(n[e]=Va)}get changes(){return this._changes||(this._changes=new Ua)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=rn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Ba{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ba(this.queryList)}setDirty(){this.queryList.setDirty()}}class za{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new za(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==ru(t,e).matches&&this.queries[e].setDirty()}}class Ha{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Wa{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Wa(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ka{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Ka(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Ga(e,i)),this.matchTNodeWithReadOption(t,e,He(e,t,i,!1,!1))}else n===ga?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,He(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Ls||r===Ca||r===ga&&4&e.type)this.addMatch(e.index,-2);else{const n=He(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Ga(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function $a(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Rs(t,e):4&t.type?ba(t,e):null}(e,t):-2===n?function(t,e,n){return n===Ls?Rs(e,t):n===ga?ba(e,t):n===Ca?Ea(e,t):void 0}(t,e,r):We(t,t[1],n,e)}function Qa(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:$a(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Ya(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Qa(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=ot;t<s.length;t++){const e=s[t];e[17]===e[3]&&Ya(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Ya(n[1],n,i,r)}}}}}return r}function Za(t){const e=qt(),n=Bt(),r=ee();ne(r+1);const i=ru(n,r);if(t.dirty&&Pt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Ya(n,e,r,[]):Qa(n,e,i,r);t.reset(o,Fs),t.notifyOnChanges()}return!0}return!1}function Xa(t,e,n){const r=Bt();r.firstCreatePass&&(nu(r,new Ha(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),eu(r,qt(),e)}function Ja(t,e,n,r){const i=Bt();if(i.firstCreatePass){const o=Ht();nu(i,new Ha(e,n,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}eu(i,qt(),n)}function tu(){return t=qt(),e=ee(),t[19].queries[e].queryList;var t,e}function eu(t,e,n){const r=new qa(4==(4&n));Ii(t,e,r,r.destroy),null===e[19]&&(e[19]=new za),e[19].queries.push(new Ba(r))}function nu(t,e,n){null===t.queries&&(t.queries=new Wa),t.queries.track(new Ka(e,n))}function ru(t,e){return t.queries.getByIndex(e)}function iu(t=S.Default){const e=la(!0);if(null!=e||t&S.Optional)return e;mt("ChangeDetectorRef")}const ou=new tn("Application Initializer");let su=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Ps,this.reject=Ps,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();zo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(vn(ou,8))},t.\u0275prov=m({token:t,factory:t.\u0275fac}),t})();const au=new tn("AppId"),uu={provide:au,useFactory:function(){return`${cu()}${cu()}${cu()}`},deps:[]};function cu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const lu=new tn("Platform Initializer"),hu=new tn("Platform ID"),du=new tn("appBootstrapListener");let fu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=m({token:t,factory:t.\u0275fac}),t})();const pu=new tn("LocaleId"),gu=new tn("DefaultCurrencyCode");class mu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const yu=function(t){return new Da(t)},bu=yu,vu=function(t){return Promise.resolve(yu(t))},_u=function(t){const e=yu(t),n=Cr(rt(t).declarations).reduce((t,e)=>{const n=nt(e);return n&&t.push(new Aa(n)),t},[]);return new mu(e,n)},wu=_u,Cu=function(t){return Promise.resolve(_u(t))};let Ou=(()=>{class t{constructor(){this.compileModuleSync=bu,this.compileModuleAsync=vu,this.compileModuleAndAllComponentsSync=wu,this.compileModuleAndAllComponentsAsync=Cu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=m({token:t,factory:t.\u0275fac}),t})();const xu=(()=>Promise.resolve(0))();function Su(t){"undefined"==typeof Zone?xu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Tu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ua(!1),this.onMicrotaskEmpty=new Ua(!1),this.onStable=new Ua(!1),this.onError=new Ua(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=D.requestAnimationFrame,e=D.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(D,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Iu(t),ku(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Iu(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return Nu(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),ju(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return Nu(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),ju(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Iu(t),ku(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Tu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Tu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Eu,Ps,Ps);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Eu={};function ku(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Iu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Nu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ju(t){t._nesting--,ku(t)}class Au{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ua,this.onMicrotaskEmpty=new Ua,this.onStable=new Ua,this.onError=new Ua}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Mu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Tu.assertNotInAngularZone(),Su(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Su(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(vn(Tu))},t.\u0275prov=m({token:t,factory:t.\u0275fac}),t})(),Pu=(()=>{class t{constructor(){this._applications=new Map,Fu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Fu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=m({token:t,factory:t.\u0275fac}),t})();class Ru{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Du(t){Fu=t}let Lu,Fu=new Ru,Uu=!0,Vu=!1;function qu(){return Vu=!0,Uu}function Bu(){if(Vu)throw new Error("Cannot enable prod mode after platform setup.");Uu=!1}const zu=new tn("AllowMultipleToken");class Hu{constructor(t,e){this.name=t,this.token=e}}function Wu(t,e,n=[]){const r=`Platform: ${e}`,i=new tn(r);return(e=[])=>{let o=Ku();if(!o||o.injector.get(zu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:oo,useValue:"platform"});!function(t){if(Lu&&!Lu.destroyed&&!Lu.injector.get(zu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Lu=t.get(Gu);const e=t.get(lu,null);e&&e.forEach(t=>t())}(_o.create({providers:t,name:r}))}return function(t){const e=Ku();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Ku(){return Lu&&!Lu.destroyed?Lu:null}let Gu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Au:("zone.js"===t?void 0:t)||new Tu({enableLongStackTrace:qu(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:Tu,useValue:n}];return n.run(()=>{const e=_o.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(vr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{Yu(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return zo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(su);return t.runInitializers(),t.donePromise.then(()=>(Cs(i.injector.get(pu,_s)||_s),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=$u({},e);return function(t,e,n){const r=new Da(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Qu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${l(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(vn(_o))},t.\u0275prov=m({token:t,factory:t.\u0275fac}),t})();function $u(t,e){return Array.isArray(e)?e.reduce($u,t):Object.assign(Object.assign({},t),e)}let Qu=(()=>{class t{constructor(t,e,n,r,i,u){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Tu.assertNotInAngularZone(),Su(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Tu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof js?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(va),i=n.create(_o.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(Mu,null),a=s&&i.injector.get(Pu);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),Yu(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),qu()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Yu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(du,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(vn(Tu),vn(fu),vn(_o),vn(vr),vn(Ms),vn(su))},t.\u0275prov=m({token:t,factory:t.\u0275fac}),t})();function Yu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Zu{}class Xu{}const Ju={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let tc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Ju}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>ec(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>ec(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(vn(Ou),vn(Xu,8))},t.\u0275prov=m({token:t,factory:t.\u0275fac}),t})();function ec(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const nc=function(t){return null},rc=Wu(null,"core",[{provide:hu,useValue:"unknown"},{provide:Gu,deps:[_o]},{provide:Pu,deps:[]},{provide:fu,deps:[]}]),ic=[{provide:Qu,useClass:Qu,deps:[Tu,fu,_o,vr,Ms,su]},{provide:ja,deps:[Tu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:su,useClass:su,deps:[[new On,ou]]},{provide:Ou,useClass:Ou,deps:[]},uu,{provide:na,useFactory:function(){return da},deps:[]},{provide:ia,useFactory:function(){return fa},deps:[]},{provide:pu,useFactory:function(t){return Cs(t=t||"undefined"!=typeof $localize&&$localize.locale||_s),t},deps:[[new Cn(pu),new On,new xn]]},{provide:gu,useValue:"USD"}];let oc=(()=>{class t{constructor(t){}}return t.\u0275mod=Z({type:t}),t.\u0275inj=y({factory:function(e){return new(e||t)(vn(Qu))},providers:ic}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return f});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function d(t){o.forEach(function(e){e.setLogLevel(t)})}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return f}),n.d(e,"b",function(){return E}),n.d(e,"c",function(){return T}),n.d(e,"d",function(){return V}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"i",function(){return R}),n.d(e,"j",function(){return p}),n.d(e,"k",function(){return q}),n.d(e,"l",function(){return h}),n.d(e,"m",function(){return d}),n.d(e,"n",function(){return W}),n.d(e,"o",function(){return Y}),n.d(e,"p",function(){return g}),n.d(e,"q",function(){return P}),n.d(e,"r",function(){return b}),n.d(e,"s",function(){return v}),n.d(e,"t",function(){return w}),n.d(e,"u",function(){return L}),n.d(e,"v",function(){return C}),n.d(e,"w",function(){return m}),n.d(e,"x",function(){return y}),n.d(e,"y",function(){return x}),n.d(e,"z",function(){return _}),n.d(e,"A",function(){return S}),n.d(e,"B",function(){return O}),n.d(e,"C",function(){return M}),n.d(e,"D",function(){return N}),n.d(e,"E",function(){return F}),n.d(e,"F",function(){return U}),n.d(e,"G",function(){return D}),n.d(e,"H",function(){return Q}),n.d(e,"I",function(){return $}),n.d(e,"J",function(){return j}),n.d(e,"K",function(){return H}),n.d(e,"L",function(){return K}),n.d(e,"M",function(){return G});var r=n("mrSG"),i=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){var e=s(t);return a.encodeByteArray(e,!0)},c=function(t){return u(t).replace(/\./g,"")},l=function(t){try{return a.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function h(t){return d(void 0,t)}function d(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=d(t[n],e[n]));return t}var f=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function p(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var s=Object(r.a)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[c(JSON.stringify({alg:"none",type:"JWT"})),c(JSON.stringify(s)),""].join(".")}function g(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function m(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(g())}function y(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function b(){return"object"==typeof self&&self.self===self}function v(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function _(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function w(){return g().indexOf("Electron/")>=0}function C(){var t=g();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function O(){return g().indexOf("MSAppHost/")>=0}function x(){return!1}function S(){return!y()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var T=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,E.prototype.create),o}return Object(r.c)(e,t),e}(Error),E=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?k(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new T(i,a,r);return u},t}();function k(t,e){return t.replace(I,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var I=/\{\$([^}]+)}/g;function N(t){return JSON.parse(t)}function j(t){return JSON.stringify(t)}var A=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=N(l(o[0])||""),n=N(l(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}},M=function(t){var e=A(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},P=function(t){var e=A(t).claims;return"object"==typeof e&&!0===e.admin};function R(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function D(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function L(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function F(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function U(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}var V=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^a&(u^c),o=1518500249):(i=a^u^c,o=1859775393):r<60?(i=a&u|c&(a|u),o=2400959708):(i=a^u^c,o=3395469782);var h=(s<<5|s>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function q(t,e){var n=new B(t,e);return n.subscribe.bind(n)}var B=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=z),void 0===r.error&&(r.error=z),void 0===r.complete&&(r.complete=z);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function z(){}var H=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function W(t,e){return t+" failed: "+e+" argument "}function K(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(W(t,e)+"must be a valid function.")}function G(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(W(t,e)+"must be a valid context object.")}var $=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var o=t.charCodeAt(r);if(o>=55296&&o<=56319){var s=o-55296;r++,i(r<t.length,"Surrogate pair missing trail surrogate."),o=65536+(s<<10)+(t.charCodeAt(r)-56320)}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},Q=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};function Y(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return T}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return b}),n.d(e,"d",function(){return f}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return x}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return m}),n.d(e,"j",function(){return C});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},b=new u.r("angularfire2.app.options"),v=new u.r("angularfire2.app.nameOrConfig"),_=new u.P("6.1.5");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&O("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const C=()=>{O("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},O=(t,...e)=>{Object(u.V)()&&"undefined"!=typeof console&&console[t](...e)};function x(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&O("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const S={provide:class{},useFactory:w,deps:[b,u.A,[new u.B,v]]};let T=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.O.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:b,useValue:e},{provide:v,useValue:n}]}}}return t.\u0275mod=u.Ib({type:t}),t.\u0275inj=u.Hb({factory:function(e){return new(e||t)(u.Rb(u.C))},providers:[S]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class d extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const f=new d(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=f){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=f)}static create(t,e=0,n=f){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n("XNiG"),i=n("HDdC"),o=n("7o/Q"),s=n("quSY");function a(){return function(t){return t.lift(new u(t))}}class u{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new c(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class c extends o.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class l extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return a()(this)}}const h=(()=>{const t=l.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function f(){return new r.a}function p(){return t=>{return a()((e=f,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,h);return r.source=t,r.subjectFactory=n,r})(t));var e}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.l)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=d),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=d);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.i)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||d,!Object(s.i)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.m)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.m)(e,t)},createSubscribe:s.k,ErrorFactory:s.b,deepExtend:s.m}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.r)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.x)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var _=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.30",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function o(){return i}const s=new r.r("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.Rb)(l)}const c=new r.r("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(s))},t.\u0275prov=Object(r.Gb)({factory:d,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function d(){return new l(Object(r.Rb)(s))}function f(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Rb)(s).location;return new v(Object(r.Rb)(a),e&&e.origin||"")}const b=new r.r("appBaseHref");let v=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return f(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(a),r.Rb(b,8))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=f(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(a),r.Rb(b,8))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(O(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,O(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(m),r.Rb(a))},t.normalizeQueryParams=g,t.joinWithSlash=f,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Gb)({factory:C,token:t,providedIn:"root"}),t})();function C(){return new w(Object(r.Rb)(m),Object(r.Rb)(a))}function O(t){return t.replace(/\/index.html$/,"")}var x=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const S=r.mb;class T{}let E=(()=>{class t extends T{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(S(e||this.locale)(t)){case x.Zero:return"zero";case x.One:return"one";case x.Two:return"two";case x.Few:return"few";case x.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.v))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),k=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.pb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Object(r.vb)(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.t),r.Kb(r.u),r.Kb(r.l),r.Kb(r.E))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class I{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let N=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new I(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new j(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new j(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.Q),r.Kb(r.L),r.Kb(r.t))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class j{constructor(t,e){this.record=t,this.view=e}}let A=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new M,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){P("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){P("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.Q),r.Kb(r.L))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class M{constructor(){this.$implicit=null,this.ngIf=null}}function P(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.vb)(e)}'.`)}let R=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,r]=t.split(".");null!=(e=null!=e&&r?`${e}${r}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(r.u),r.Kb(r.E))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),D=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[{provide:T,useClass:E}]}),t})();function L(t){return"server"===t}let F=(()=>{class t{}return t.\u0275prov=Object(r.Gb)({token:t,providedIn:"root",factory:()=>new U(Object(r.Rb)(s),window)}),t})();class U{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=V(this.window.history)||V(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function V(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class q extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new q,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=z||(z=document.querySelector("base"),z)?z.getAttribute("href"):null;return null==e?null:(n=e,B||(B=document.createElement("a")),B.setAttribute("href",n),"/"===B.pathname.charAt(0)?B.pathname:"/"+B.pathname);var n}resetBaseElement(){z=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let B,z=null;const H=new r.r("TRANSITION_ID"),W=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[H,s,r.s],multi:!0}];class K{static init(){Object(r.X)(new K)}addToWindow(t){r.ob.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.ob.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.ob.getAllAngularRootElements=()=>t.getAllRootElements(),r.ob.frameworkStabilizers||(r.ob.frameworkStabilizers=[]),r.ob.frameworkStabilizers.push(t=>{const e=r.ob.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const G=new r.r("EventManagerPlugins");let $=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(G),r.Rb(r.A))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class Q{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Y=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),Z=(()=>{class t extends Y{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(s))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const X={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},J=/%COMP%/g;function tt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?tt(t,i,n):(i=i.replace(J,t),n.push(i))}return n}function et(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let nt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new rt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.R.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new it(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.R.ShadowDom:return new ot(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=tt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Rb($),r.Rb(Z),r.Rb(r.c))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class rt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(X[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=X[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=X[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.G.DashCase|r.G.Important)?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,et(n)):this.eventManager.addEventListener(t,e,et(n))}}class it extends rt{constructor(t,e,n,r){super(t),this.component=n;const i=tt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(J,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(J,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class ot extends rt{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=tt(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let st=(()=>{class t extends Q{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(s))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const at=["alt","control","meta","shift"],ut={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ct={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},lt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ht=(()=>{class t extends Q{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(at.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ct.hasOwnProperty(e)&&(e=ct[e]))}return ut[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),at.forEach(r=>{r!=n&&(0,lt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(s))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const dt=[{provide:r.C,useValue:"browser"},{provide:r.D,useValue:function(){q.makeCurrent(),K.init()},multi:!0},{provide:s,useFactory:function(){return Object(r.ub)(document),document},deps:[]}],ft=Object(r.S)(r.W,"browser",dt),pt=[[],{provide:r.Z,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:G,useClass:st,multi:!0,deps:[s,r.A,r.C]},{provide:G,useClass:ht,multi:!0,deps:[s]},[],{provide:nt,useClass:nt,deps:[$,Z,r.c]},{provide:r.F,useExisting:nt},{provide:Y,useExisting:Z},{provide:Z,useClass:Z,deps:[s]},{provide:r.M,useClass:r.M,deps:[r.A]},{provide:$,useClass:$,deps:[G,r.A]},[]];let gt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:H,useExisting:r.c},W]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Rb(t,12))},providers:pt,imports:[D,r.f]}),t})();"undefined"!=typeof window&&window;var mt=n("spgP"),yt=n("D0XW"),bt=n("HDdC"),vt=n("LRne"),_t=n("VRyK"),wt=n("lJxs"),Ct=n("w1tV"),Ot=n("Cfvw"),xt=n("zx2A");function St(t,e){return"function"==typeof e?n=>n.pipe(St((n,r)=>Object(Ot.a)(t(n,r)).pipe(Object(wt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Tt(t))}class Tt{constructor(t){this.project=t}call(t,e){return e.subscribe(new Et(t,this.project))}}class Et extends xt.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new xt.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(xt.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}var kt=n("7o/Q");function It(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Nt(t,e,n))}}class Nt{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new jt(t,this.accumulator,this.seed,this.hasSeed))}}class jt extends kt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function At(t,e){return n=>n.lift(new Mt(t,e))}class Mt{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Pt(t,this.compare,this.keySelector))}}class Pt extends kt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}class Rt extends kt.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Dt extends kt.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Lt=n("SeVD");function Ft(t,e,n,r,i=new Dt(t,n,r)){if(!i.closed)return e instanceof bt.a?e.subscribe(i):Object(Lt.a)(e)(i)}class Ut{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new Vt(t,this.observables,this.project))}}class Vt extends Rt{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++)this.add(Ft(this,e[i],void 0,i))}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class qt{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new Bt(t,this.predicate))}}class Bt extends kt.a{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}n("6Uf2");var zt=n("XNiG"),Ht=n("pxpQ"),Wt=n("qgXg"),Kt=n("quSY"),Gt=n("9ppp"),$t=n("Ylt2");class Qt extends zt.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Yt(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new Gt.a;if(this.isStopped||this.hasError?o=Kt.a.EMPTY:(this.observers.push(t),o=new $t.a(this,t)),r&&t.add(t=new Ht.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||Wt.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class Yt{constructor(t,e){this.time=t,this.value=e}}function Zt(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new Qt(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}}),u&&(o=void 0)):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),l=void 0,o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}const Xt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function Jt(t,e){return function(n){return n.lift(new te(t,e))}}class te{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new ee(t,this.predicate,this.thisArg))}}class ee extends kt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const ne=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();var re=n("EY2u");function ie(t){return e=>0===t?Object(re.b)():e.lift(new oe(t))}class oe{constructor(t){if(this.total=t,this.total<0)throw new ne}call(t,e){return e.subscribe(new se(t,this.total))}}class se extends kt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function ae(t=null){return e=>e.lift(new ue(t))}class ue{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new ce(t,this.defaultValue))}}class ce extends kt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function le(t=fe){return e=>e.lift(new he(t))}class he{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new de(t,this.errorFactory))}}class de extends kt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(Qy){t=Qy}this.destination.error(t)}}}function fe(){return new Xt}var pe=n("SpAZ");function ge(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Jt((e,n)=>t(e,n,r)):pe.a,ie(1),n?ae(e):le(()=>new Xt))}function me(t,e){return e?St(()=>t,e):St(()=>t)}var ye=n("tf+s");const be=new r.r("angularfire2.auth.use-emulator"),ve=new r.r("angularfire2.auth.settings"),_e=new r.r("angularfire2.auth.tenant-id"),we=new r.r("angularfire2.auth.langugage-code"),Ce=new r.r("angularfire2.auth.use-device-language"),Oe=new r.r("angularfire.auth.persistence");let xe=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new mt.d(i),d=Object(mt.h)(h),f=new zt.a,p=Object(vt.a)(void 0).pipe(Object(Ht.b)(h.outsideAngular),St(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(wt.a)(()=>Object(mt.g)(t,i,e)),Object(wt.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(mt.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());if(e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n)for(const[t,e]of Object.entries(n))r.settings[t]=e;return l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),Zt({bufferSize:1,refCount:!1}));if(L(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(vt.a)(null);else{p.pipe(ge()).subscribe();const t=p.pipe(St(t=>t.getRedirectResult().then(t=>t,()=>null)),d,Zt({bufferSize:1,refCount:!1})),e=t=>new bt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(St(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(St(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(me(n),Object(ye.a)(h.outsideAngular),Object(Ht.b)(h.insideAngular)),this.user=t.pipe(me(r),Object(ye.a)(h.outsideAngular),Object(Ht.b)(h.insideAngular)),this.idToken=this.user.pipe(St(t=>t?Object(Ot.a)(t.getIdToken()):Object(vt.a)(null))),this.idTokenResult=this.user.pipe(St(t=>t?Object(Ot.a)(t.getIdTokenResult()):Object(vt.a)(null))),this.credential=Object(_t.a)(t,f,this.authState.pipe(Jt(t=>!t))).pipe(Object(wt.a)(t=>(null==t?void 0:t.user)?t:null),Object(ye.a)(h.outsideAngular),Object(Ht.b)(h.insideAngular))}return Object(mt.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(mt.c),r.Rb(mt.b,8),r.Rb(r.C),r.Rb(r.A),r.Rb(be,8),r.Rb(ve,8),r.Rb(_e,8),r.Rb(we,8),r.Rb(Ce,8),r.Rb(Oe,8))},t.\u0275prov=r.Gb({factory:function(){return new t(r.Rb(mt.c),r.Rb(mt.b,8),r.Rb(r.C),r.Rb(r.A),r.Rb(be,8),r.Rb(ve,8),r.Rb(_e,8),r.Rb(we,8),r.Rb(Ce,8),r.Rb(Oe,8))},token:t,providedIn:"any"}),t})();Object(mt.e)(xe,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);let Se=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[xe]}),t})();var Te=n("Jgta");function Ee(t){return null==t}function ke(t){return"function"==typeof t.set}function Ie(t,e){return ke(e)?e:t.ref(e)}function Ne(t,e){if("string"==typeof t)return e.stringCase();if(ke(t))return e.firebaseCase();if("function"==typeof t.exportVal)return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function je(t,e,n="on",r=yt.b){return new bt.a(i=>{let o=null;return o=t[n](e,(t,e)=>{r.schedule(()=>{i.next({snapshot:t,prevKey:e})}),"once"===n&&r.schedule(()=>i.complete())},t=>{r.schedule(()=>i.error(t))}),"on"===n?{unsubscribe(){null!=o&&t.off(e,o)}}:{unsubscribe(){}}}).pipe(Object(wt.a)(t=>{const{snapshot:n,prevKey:r}=t;let i=null;return n.exists()&&(i=n.key),{type:e,payload:n,prevKey:r,key:i}}),Object(Ct.a)())}function Ae(t,e){const n=t.length;for(let r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function Me(t,e){const{payload:n,prevKey:r,key:i}=e,o=Ae(t,i),s=function(t,e){if(Ee(e))return 0;{const n=Ae(t,e);return-1===n?t.length:n+1}}(t,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let n=null;e.payload.forEach(e=>{const r={payload:e,type:"value",prevKey:n,key:e.key};return n=e.key,t=[...t,r],!1})}return t;case"child_added":if(o>-1){const i=t[o-1];(i&&i.key||null)!==r&&(t=t.filter(t=>t.payload.key!==n.key)).splice(s,0,e)}else{if(null==r)return[e,...t];(t=t.slice()).splice(s,0,e)}return t;case"child_removed":return t.filter(t=>t.payload.key!==n.key);case"child_changed":return t.map(t=>t.payload.key===i?e:t);case"child_moved":if(o>-1){const e=t.splice(o,1)[0];return(t=t.slice()).splice(s,0,e),t}return t;default:return t}}function Pe(t){return(Ee(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function Re(t,e,n){return function(t,e,n){return je(t,"value","once",n).pipe(St(r=>{const i=[Object(vt.a)(r)];return e.forEach(e=>i.push(je(t,e,"on",n))),Object(_t.a)(...i).pipe(It(Me,[]))}),At())}(t,e=Pe(e),n)}function De(t,e,n){const r=(e=Pe(e)).map(e=>je(t,e,"on",n));return Object(_t.a)(...r)}function Le(t,e){return function(n,r){return Ne(n,{stringCase:()=>t.child(n)[e](r),firebaseCase:()=>n[e](r),snapshotCase:()=>n.ref[e](r)})}}function Fe(t,e){return function(){return je(t,"value","on",e)}}const Ue=new r.r("angularfire2.realtimeDatabaseURL"),Ve=new r.r("angularfire2.database.use-emulator");let qe=(()=>{class t{constructor(t,e,n,r,i,o,s){this.schedulers=new mt.d(i),this.keepUnstableUntilFirst=Object(mt.h)(this.schedulers);const a=o,u=Object(mt.g)(t,i,e);!Te.a.auth&&s&&Object(mt.j)(),this.database=Object(mt.f)(`${u.name}.database.${n}`,"AngularFireDatabase",u,()=>{const t=i.runOutsideAngular(()=>u.database(n||void 0));return a&&t.useEmulator(...a),t},[a])}list(t,e){const n=this.schedulers.ngZone.runOutsideAngular(()=>Ie(this.database,t));let r=n;return e&&(r=e(n)),function(t,e){const n=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:Le(r,"update"),set:Le(r,"set"),push:t=>r.push(t),remove:(i=r,function(t){return t?Ne(t,{stringCase:()=>i.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):i.remove()}),snapshotChanges:r=>Re(t,r,n).pipe(e.keepUnstableUntilFirst),stateChanges:r=>De(t,r,n).pipe(e.keepUnstableUntilFirst),auditTrail:r=>function(t,e,n){return function(t,e,n){return function(t,e){return je(t,"value","on",e).pipe(Object(wt.a)(t=>{let e;return t.payload.forEach(t=>(e=t.key,!1)),{data:t,lastKeyToLoad:e}}))}(t,n).pipe(function(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new Ut(t,n))}}(e),Object(wt.a)(([t,e])=>{const n=t.lastKeyToLoad,r=e.map(t=>t.key);return{actions:e,lastKeyToLoad:n,loadedKeys:r}}),(r=t=>-1===t.loadedKeys.indexOf(t.lastKeyToLoad),t=>t.lift(new qt(r))),Object(wt.a)(t=>t.actions));var r}(t,De(t,e).pipe(It((t,e)=>[...t,e],[])),n)}(t,r,n).pipe(e.keepUnstableUntilFirst),valueChanges:(r,i)=>Re(t,r,n).pipe(Object(wt.a)(t=>t.map(t=>i&&i.idField?Object.assign(Object.assign({},t.payload.val()),{[i.idField]:t.key}):t.payload.val())),e.keepUnstableUntilFirst)};var i}(r,this)}object(t){const e=this.schedulers.ngZone.runOutsideAngular(()=>Ie(this.database,t));return r=this,{query:n=e,snapshotChanges:()=>Fe(n,r.schedulers.outsideAngular)().pipe(r.keepUnstableUntilFirst),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>Fe(n,r.schedulers.outsideAngular)().pipe(r.keepUnstableUntilFirst,Object(wt.a)(t=>t.payload.exists()?t.payload.val():null))};var n,r}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(mt.c),r.Rb(mt.b,8),r.Rb(Ue,8),r.Rb(r.C),r.Rb(r.A),r.Rb(Ve,8),r.Rb(be,8))},t.\u0275prov=r.Gb({factory:function(){return new t(r.Rb(mt.c),r.Rb(mt.b,8),r.Rb(Ue,8),r.Rb(r.C),r.Rb(r.A),r.Rb(Ve,8),r.Rb(be,8))},token:t,providedIn:"any"}),t})(),Be=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[qe]}),t})();class ze{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new He(t,this.dueTime,this.scheduler))}}class He extends kt.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(We,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function We(t){t.debouncedNext()}var Ke=n("zIRd"),Ge=n("mrSG"),$e=n("qOnz"),Qe=n("/6Yf"),Ye="firebasestorage.googleapis.com",Ze=function(t){function e(n,r){var i=t.call(this,Xe(n),"Firebase Storage: "+r+" ("+Xe(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return Object(Ge.c)(e,t),e.prototype._codeEquals=function(t){return Xe(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),e}($e.c);function Xe(t){return"storage/"+t}function Je(){return new Ze("unknown","An unknown error occurred, please check the error payload for server response.")}function tn(){return new Ze("canceled","User canceled the upload/download.")}function en(){return new Ze("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function nn(t){return new Ze("invalid-argument",t)}function rn(){return new Ze("app-deleted","The Firebase app was deleted.")}function on(t){return new Ze("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function sn(t,e){return new Ze("invalid-format","String does not match format '"+t+"': "+e)}function an(t){throw new Ze("internal-error","Internal error: "+t)}var un={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},cn=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function ln(t,e){switch(t){case un.RAW:return new cn(hn(e));case un.BASE64:case un.BASE64URL:return new cn(dn(t,e));case un.DATA_URL:return new cn((n=new fn(e)).base64?dn(un.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(Qy){throw sn(un.DATA_URL,"Malformed data URL.")}return hn(e)}(n.rest),new fn(e).contentType)}var n;throw Je()}function hn(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function dn(t,e){switch(t){case un.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw sn(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case un.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw sn(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(Qy){throw sn(t,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var fn=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw sn(un.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=e[1]||null;null!=i&&(this.base64=(n=i).length>=(r=";base64").length&&n.substring(n.length-r.length)===r,this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}(),pn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function gn(t){switch(t){case"running":case"pausing":case"canceling":return pn.RUNNING;case"paused":return pn.PAUSED;case"success":return pn.SUCCESS;case"canceled":return pn.CANCELED;case"error":default:return pn.ERROR}}var mn=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),yn=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=mn.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=mn.ABORT,e()}),t.xhr_.addEventListener("error",function(){t.errorCode_=mn.NETWORK_ERROR,e()}),t.xhr_.addEventListener("load",function(){e()})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw an("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw an("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw an("cannot .getStatus() before sending");try{return this.xhr_.status}catch(Qy){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw an("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),bn=function(){function t(){}return t.prototype.createConnection=function(){return new yn},t}(),vn=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(Qy){return new t(e,"")}if(""===r.path)return r;throw new Ze("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var r=null,i="([A-Za-z0-9.\\-_]+)",o=new RegExp("^gs://"+i+"(/(.*))?$","i");function s(t){t.path_=decodeURIComponent(t.path)}for(var a=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://"+(n===Ye?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:s}],c=0;c<u.length;c++){var l=u[c],h=l.regex.exec(e);if(h){var d=h[l.indices.path];d||(d=""),r=new t(h[l.indices.bucket],d),l.postModify(r);break}}if(null==r)throw function(t){return new Ze("invalid-url","Invalid URL '"+t+"'.")}(e);return r},t}(),_n=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function wn(t){return"string"==typeof t||t instanceof String}function Cn(t){return On()&&t instanceof Blob}function On(){return"undefined"!=typeof Blob}function xn(t,e,n,r){if(r<e)throw nn("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw nn("Invalid value for '"+t+"'. Expected "+n+" or less.")}function Sn(t,e){var n=e.match(/^(\w+):\/\/.+/),r=e;return null==(null==n?void 0:n[1])&&(r="https://"+e),r+"/v0"+t}function Tn(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}var En=function(){function t(t,e,n,r,i,o,s,a,u,c,l){var h=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.connection;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());void 0!==a?i(a):i()}catch(Qy){o(Qy)}else null!==s?((r=Je()).serverResponse=s.getResponseText(),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?rn():tn():new Ze("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new kn(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,s=!1,a=0;function u(){return 2===a}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){o=setTimeout(function(){o=null,function(e,n){if(n)e(!1,new kn(!1,null,!0));else{var r=t.pool_.createConnection();t.pendingConnection_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(){null!==t.progressCallback_&&r.removeUploadProgressListener(i),t.pendingConnection_=null;var n=r.getErrorCode()===mn.NO_ERROR,o=r.getStatus();if(n&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new kn(s,r))}else{var a=r.getErrorCode()===mn.ABORT;e(!1,new kn(!1,null,a))}})}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(d,u())},e)}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Object(Ge.f)([null,t],e));else{var r;u()||s?l.call.apply(l,Object(Ge.f)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var f=!1;function p(t){f||(f=!0,c||(null!==o?(t||(a=2),clearTimeout(o),h(0)):t||(a=1)))}return h(0),setTimeout(function(){s=!0,p(!0)},r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),kn=function(){return function(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}}();function In(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Nn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=In();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(On())return new Blob(t);throw new Ze("unsupported-environment","This browser doesn't seem to support creating Blobs")}var jn=function(){function t(t,e){var n=0,r="";Cn(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(Cn(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(On()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(Nn.apply(null,r))}var i=e.map(function(t){return wn(t)?ln(un.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var s=new Uint8Array(o),a=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]}),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}();function An(t){var e,n;try{e=JSON.parse(t)}catch(Qy){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function Mn(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function Pn(t,e){return e}var Rn=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||Pn}}(),Dn=null;function Ln(){if(Dn)return Dn;var t=[];t.push(new Rn("bucket")),t.push(new Rn("generation")),t.push(new Rn("metageneration")),t.push(new Rn("name","fullPath",!0));var e=new Rn("name");e.xform=function(t,e){return function(t){return!wn(t)||t.length<2?t:Mn(t)}(e)},t.push(e);var n=new Rn("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new Rn("timeCreated")),t.push(new Rn("updated")),t.push(new Rn("md5Hash",null,!0)),t.push(new Rn("cacheControl",null,!0)),t.push(new Rn("contentDisposition",null,!0)),t.push(new Rn("contentEncoding",null,!0)),t.push(new Rn("contentLanguage",null,!0)),t.push(new Rn("contentType",null,!0)),t.push(new Rn("metadata","customMetadata",!0)),Dn=t}function Fn(t,e,n){var r=An(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new vn(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(r,t),r}(t,r,n)}function Un(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var Vn=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function qn(t){if(!t)throw Je()}function Bn(t,e){return function(n,r){var i=Fn(t,r,e);return qn(null!==i),i}}function zn(t){return function(e,n){var r;return(r=401===e.getStatus()?e.getResponseText().includes("Firebase App Check token is invalid")?new Ze("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Ze("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new Ze("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new Ze("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function Hn(t){var e=zn(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new Ze("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Wn(t,e,n){var r=Sn(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new Vn(r,"GET",Bn(t,n),i);return o.errorHandler=Hn(e),o}function Kn(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var Gn=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function $n(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(Qy){qn(!1)}return qn(!!n&&-1!==(e||["active"]).indexOf(n)),n}var Qn=262144,Yn=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}();function Zn(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var Xn=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=Ln(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e,r._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(n){var r=n[0],i=n[1];switch(e._state){case"running":t(r,i);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=Kn(e,r,i),a={name:s.fullPath},u=Sn(o,t.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=Un(s,n),h=new Vn(u,"POST",function(t){var e;$n(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(Qy){qn(!1)}return qn(wn(e)),e},t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=l,h.errorHandler=zn(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n,r){var i=function(t,e,n,r){var i=new Vn(n,"POST",function(t){var e=$n(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Qy){qn(!1)}n||qn(!1);var i=Number(n);return qn(!isNaN(i)),new Gn(i,r.size(),"final"===e)},t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=zn(e),i}(t._ref.storage,t._ref._location,e,t._blob),o=t._ref.storage._makeRequest(i,n,r);t._request=o,o.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=Qn*this._chunkMultiplier,n=new Gn(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i,o){var s;try{s=function(t,e,n,r,i,o,s,a){var u=new Gn(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Ze("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},f=r.slice(h,h+l);if(null===f)throw en();var p=new Vn(n,"POST",function(t,n){var i,s=$n(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===s?Bn(e,o)(t,n):null,new Gn(a,c,"final"===s,i)},e.maxUploadRetryTime);return p.headers=d,p.body=f.uploadData(),p.progressCallback=a||null,p.errorHandler=zn(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(Qy){return t._error=Qy,void t._transition("error")}var a=t._ref.storage._makeRequest(s,i,o);t._request=a,a.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){Qn*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e,n){var r=Wn(t._ref.storage,t._ref._location,t._mappings),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition("success")},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=Kn(e,r,i),c=Un(u,n),l=jn.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw en();var h={name:u.fullPath},d=Sn(o,t.host),f=t.maxUploadRetryTime,p=new Vn(d,"POST",Bn(t,n),f);return p.urlParams=h,p.headers=s,p.body=l.uploadData(),p.errorHandler=zn(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=tn(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=gn(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new Yn(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(gn(this._state)){case pn.SUCCESS:Zn(this._resolve.bind(null,this.snapshot))();break;case pn.CANCELED:case pn.ERROR:Zn(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(gn(this._state)){case pn.RUNNING:case pn.PAUSED:t.next&&Zn(t.next.bind(t,this.snapshot))();break;case pn.SUCCESS:t.complete&&Zn(t.complete.bind(t))();break;case pn.CANCELED:case pn.ERROR:t.error&&Zn(t.error.bind(t,this._error))();break;default:t.error&&Zn(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),Jn=function(){function t(t,e){this._service=t,this._location=e instanceof vn?e:vn.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new vn(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return Mn(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new vn(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw on(t)},t}();function tr(t){var e={prefixes:[],items:[]};return er(t,e).then(function(){return e})}function er(t,e,n){return Object(Ge.b)(this,void 0,void 0,function(){var r,i,o;return Object(Ge.d)(this,function(s){switch(s.label){case 0:return[4,nr(t,{pageToken:n})];case 1:return r=s.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(o=e.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,er(t,e,r.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function nr(t,e){return Object(Ge.b)(this,void 0,void 0,function(){var n,r;return Object(Ge.d)(this,function(i){switch(i.label){case 0:return null!=e&&"number"==typeof e.maxResults&&xn("options.maxResults",1,1e3,e.maxResults),r=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=Sn(e.bucketOnlyServerUrl(),t.host),a=t.maxOperationRetryTime,u=new Vn(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=An(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t._makeStorageReference(new vn(e,s));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)a=t._makeStorageReference(new vn(e,c[u].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return qn(null!==i),i}}(t,e.bucket),a);return u.urlParams=o,u.errorHandler=zn(e),u}(t.storage,t._location,"/",(n=e||{}).pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function rr(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new vn(t._location.bucket,n);return new Jn(t.storage,r)}function ir(t){return/^[A-Za-z]+:\/\//.test(t)}function or(t,e){if(t instanceof ur){var n=t;if(null==n._bucket)throw new Ze("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new Jn(n,n._bucket);return null!=e?or(r,e):r}return void 0!==e?rr(t,e):t}function sr(t,e){if(e&&ir(e)){if(t instanceof ur)return new Jn(t,e);throw nn("To use ref(service, url), the first argument must be a Storage instance.")}return or(t,e)}function ar(t,e){var n=null==e?void 0:e.storageBucket;return null==n?null:vn.makeFromBucketSpec(n,t)}var ur=function(){function t(t,e,n,r,i,o){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=Ye,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?vn.makeFromBucketSpec(i,this._host):ar(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._bucket=null!=this._url?vn.makeFromBucketSpec(this._url,t):ar(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){xn("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){xn("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return Object(Ge.b)(this,void 0,void 0,function(){var t,e;return Object(Ge.d)(this,function(n){switch(n.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._getAppCheckToken=function(){return Object(Ge.b)(this,void 0,void 0,function(){var t;return Object(Ge.d)(this,function(e){switch(e.label){case 0:return(t=this._appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new Jn(this,t)},t.prototype._makeRequest=function(t,e,n){var r=this;if(this._deleted)return new _n(rn());var i=function(t,e,n,r,i,o){var s=Tn(t.urlParams),a=t.url+s,u=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(u,o),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(u,r),new En(a,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}(t,this._appId,e,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then(function(){return r._requests.delete(i)},function(){return r._requests.delete(i)}),i},t.prototype.makeRequestWithTokens=function(t){return Object(Ge.b)(this,void 0,void 0,function(){var e;return Object(Ge.d)(this,function(n){switch(n.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return e=n.sent(),[2,this._makeRequest(t,e[0],e[1])]}})})},t}();function cr(t,e){return sr(t=Object($e.o)(t),e)}var lr,hr,dr=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),fr=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new dr(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new dr(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new dr(t,i,i._ref))}:{next:e.next?function(t){return e.next(new dr(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),pr=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new gr(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new gr(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),gr=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return rr(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new fr(function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new Xn(t,new jn(e),n)}(t=Object($e.o)(t),e,n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=un.RAW),this._throwIfRoot("putString");var r=ln(e,t),i=Object(Ge.a)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new fr(new Xn(this._delegate,new jn(r.data,!0),i),this)},t.prototype.listAll=function(){var t,e=this;return(t=this._delegate,tr(t=Object($e.o)(t))).then(function(t){return new pr(t,e.storage)})},t.prototype.list=function(t){var e=this;return function(t,e){return nr(t=Object($e.o)(t),e)}(this._delegate,t||void 0).then(function(t){return new pr(t,e.storage)})},t.prototype.getMetadata=function(){return t=this._delegate,function(t){return Object(Ge.b)(this,void 0,void 0,function(){var e;return Object(Ge.d)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=Wn(t.storage,t._location,Ln()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}(t=Object($e.o)(t));var t},t.prototype.updateMetadata=function(t){return function(t,e){return function(t,e){return Object(Ge.b)(this,void 0,void 0,function(){var n;return Object(Ge.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=function(t,e,n,r){var i=Sn(e.fullServerUrl(),t.host),o=Un(n,r),s=t.maxOperationRetryTime,a=new Vn(i,"PATCH",Bn(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=Hn(e),a}(t.storage,t._location,e,Ln()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}(t=Object($e.o)(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return t=this._delegate,function(t){return Object(Ge.b)(this,void 0,void 0,function(){var e;return Object(Ge.d)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=function(t,e,n){var r=Sn(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new Vn(r,"GET",function(t,e){return function(n,r){var i=Fn(t,r,e);return qn(null!==i),function(t,e,n){var r=An(e);if(null===r)return null;if(!wn(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map(function(e){var r=t.fullPath;return Sn("/b/"+o(t.bucket)+"/o/"+o(r),n)+Tn({alt:"media",token:e})})[0]}(i,r,t.host)}}(t,n),i);return o.errorHandler=Hn(e),o}(t.storage,t._location,Ln()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then(function(t){if(null===t)throw new Ze("no-download-url","The given file does not have any download URLs.");return t})]}})})}(t=Object($e.o)(t));var t},t.prototype.delete=function(){return this._throwIfRoot("delete"),t=this._delegate,function(t){return Object(Ge.b)(this,void 0,void 0,function(){var e;return Object(Ge.d)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=function(t,e){var n=Sn(e.fullServerUrl(),t.host),r=new Vn(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=Hn(e),r}(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}(t=Object($e.o)(t));var t},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw on(t)},t}(),mr=function(){function t(t,e){this.app=t,this._delegate=e}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(ir(t))throw nn("ref() expected a child path but got a URL, use refFromURL instead.");return new gr(cr(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!ir(t))throw nn("refFromURL() expected a full URL but got a child path, use ref() instead.");try{vn.makeFromUrl(t,this._delegate.host)}catch(Qy){throw nn("refFromUrl() expected a valid full URL but got an invalid one.")}return new gr(cr(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={}),function(t,e,n,r){void 0===r&&(r={}),t.host="http://"+e+":"+n;var i=r.mockUserToken;i&&(t._overrideAuthToken="string"==typeof i?i:Object($e.j)(i,t.app.options.projectId))}(t,e,n,r)}(this._delegate,t,e,n)},t}();function yr(t){const e=function(t){return new bt.a(e=>{const n=t=>e.next(t);n(t.snapshot);const r=t.on("state_changed",n);return t.then(t=>{n(t),e.complete()},r=>{n(t.snapshot),(t=>{e.error(t)})(r)}),function(){r()}}).pipe(function(t,e=yt.a){return n=>n.lift(new ze(t,e))}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Object(wt.a)(t=>t.bytesTransferred/t.totalBytes*100))}}function br(t,e,n){return{getDownloadURL:()=>Object(vt.a)(void 0).pipe(Object(Ht.b)(e.outsideAngular),St(()=>t.getDownloadURL()),n),getMetadata:()=>Object(vt.a)(void 0).pipe(Object(Ht.b)(e.outsideAngular),St(()=>t.getMetadata()),n),delete:()=>Object(Ot.a)(t.delete()),child:r=>br(t.child(r),e,n),updateMetadata:e=>Object(Ot.a)(t.updateMetadata(e)),put:(e,n)=>yr(t.put(e,n)),putString:(e,n,r)=>yr(t.putString(e,n,r)),listAll:()=>Object(Ot.a)(t.listAll())}}hr={TaskState:pn,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:un,Storage:ur,Reference:gr},(lr=Ke.a).INTERNAL.registerComponent(new Qe.a("storage",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new mr(r,new ur(r,i,o,new bn,n,Ke.a.SDK_VERSION))},"PUBLIC").setServiceProps(hr).setMultipleInstances(!0)),lr.registerVersion("@firebase/storage","0.7.1");const vr=new r.r("angularfire2.storageBucket"),_r=new r.r("angularfire2.storage.maxUploadRetryTime"),wr=new r.r("angularfire2.storage.maxOperationRetryTime");let Cr=(()=>{class t{constructor(t,e,n,r,i,o,s){this.schedulers=new mt.d(i),this.keepUnstableUntilFirst=Object(mt.h)(this.schedulers);const a=Object(mt.g)(t,i,e);this.storage=Object(mt.f)(`${a.name}.storage.${n}`,"AngularFireStorage",a,()=>{const t=i.runOutsideAngular(()=>a.storage(n||void 0));return o&&t.setMaxUploadRetryTime(o),s&&t.setMaxOperationRetryTime(s),t},[o,s])}ref(t){return br(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return br(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return br(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(mt.c),r.Rb(mt.b,8),r.Rb(vr,8),r.Rb(r.C),r.Rb(r.A),r.Rb(_r,8),r.Rb(wr,8))},t.\u0275prov=r.Gb({factory:function(){return new t(r.Rb(mt.c),r.Rb(mt.b,8),r.Rb(vr,8),r.Rb(r.C),r.Rb(r.A),r.Rb(_r,8),r.Rb(wr,8))},token:t,providedIn:"any"}),t})(),Or=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})(),xr=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[Cr],imports:[Or]}),t})();var Sr=n("bHdf");function Tr(...t){return Object(Sr.a)(1)(Object(vt.a)(...t))}var Er=n("z+Ro");function kr(...t){const e=t[t.length-1];return Object(Er.a)(e)?(t.pop(),n=>Tr(t,n,e)):e=>Tr(t,e)}function Ir(){return t=>t.lift(new Nr)}class Nr{call(t,e){return e.subscribe(new jr(t))}}class jr extends kt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var Ar=n("q/0M"),Mr=function(t,e){return(Mr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Pr(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Rr,Dr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Lr=Lr||{},Fr=Dr||self;function Ur(){}function Vr(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function qr(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Br="closure_uid_"+(1e9*Math.random()>>>0),zr=0;function Hr(t,e,n){return t.call.apply(t.bind,arguments)}function Wr(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Kr(t,e,n){return(Kr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Hr:Wr).apply(null,arguments)}function Gr(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function $r(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Qr(){this.s=this.s,this.o=this.o}var Yr={};Qr.prototype.s=!1,Qr.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,Br)&&t[Br]||(t[Br]=++zr)}(this);delete Yr[t]}},Qr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Zr=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Xr=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Jr(t){return Array.prototype.concat.apply([],arguments)}function ti(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function ei(t){return/^[\s\xa0]*$/.test(t)}var ni,ri=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ii(t,e){return-1!=t.indexOf(e)}function oi(t,e){return t<e?-1:t>e?1:0}t:{var si=Fr.navigator;if(si){var ai=si.userAgent;if(ai){ni=ai;break t}}ni=""}function ui(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function ci(t){var e={};for(var n in t)e[n]=t[n];return e}var li="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hi(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<li.length;o++)n=li[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function di(t){return di[" "](t),t}di[" "]=Ur;var fi,pi,gi=ii(ni,"Opera"),mi=ii(ni,"Trident")||ii(ni,"MSIE"),yi=ii(ni,"Edge"),bi=yi||mi,vi=ii(ni,"Gecko")&&!(ii(ni.toLowerCase(),"webkit")&&!ii(ni,"Edge"))&&!(ii(ni,"Trident")||ii(ni,"MSIE"))&&!ii(ni,"Edge"),_i=ii(ni.toLowerCase(),"webkit")&&!ii(ni,"Edge");function wi(){var t=Fr.document;return t?t.documentMode:void 0}t:{var Ci="",Oi=(pi=ni,vi?/rv:([^\);]+)(\)|;)/.exec(pi):yi?/Edge\/([\d\.]+)/.exec(pi):mi?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(pi):_i?/WebKit\/(\S+)/.exec(pi):gi?/(?:Version)[ \/]?(\S+)/.exec(pi):void 0);if(Oi&&(Ci=Oi?Oi[1]:""),mi){var xi=wi();if(null!=xi&&xi>parseFloat(Ci)){fi=String(xi);break t}}fi=Ci}var Si={};var Ti=Fr.document&&mi&&(wi()||parseInt(fi,10))||void 0,Ei=function(){if(!Fr.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Fr.addEventListener("test",Ur,e),Fr.removeEventListener("test",Ur,e)}catch(n){}return t}();function ki(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function Ii(t,e){if(ki.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(vi){t:{try{di(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ni[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ii.Z.h.call(this)}}ki.prototype.h=function(){this.defaultPrevented=!0},$r(Ii,ki);var Ni={2:"touch",3:"pen",4:"mouse"};Ii.prototype.h=function(){Ii.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ji="closure_listenable_"+(1e6*Math.random()|0),Ai=0;function Mi(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++Ai,this.ca=this.fa=!1}function Pi(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Ri(t){this.src=t,this.g={},this.h=0}function Di(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=Zr(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Pi(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Li(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}Ri.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=Li(t,e,r,i);return-1<s?(e=t[s],n||(e.fa=!1)):((e=new Mi(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var Fi="closure_lm_"+(1e6*Math.random()|0),Ui={};function Vi(t,e,n,r,i){if(r&&r.once)return Bi(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Vi(t,e[o],n,r,i);return null}return n=Qi(n),t&&t[ji]?t.N(e,n,qr(r)?!!r.capture:!!r,i):qi(t,e,n,!1,r,i)}function qi(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=qr(i)?!!i.capture:!!i,a=Gi(t);if(a||(t[Fi]=a=new Ri(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Ki;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ei||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Wi(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Bi(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Bi(t,e[o],n,r,i);return null}return n=Qi(n),t&&t[ji]?t.O(e,n,qr(r)?!!r.capture:!!r,i):qi(t,e,n,!0,r,i)}function zi(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)zi(t,e[o],n,r,i);else r=qr(r)?!!r.capture:!!r,n=Qi(n),t&&t[ji]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Li(o=t.g[e],n,r,i))&&(Pi(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=Gi(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Li(e,n,r,i)),(n=-1<t?e[t]:null)&&Hi(n))}function Hi(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[ji])Di(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Wi(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Gi(e))?(Di(n,t),0==n.h&&(n.src=null,e[Fi]=null)):Pi(t)}}}function Wi(t){return t in Ui?Ui[t]:Ui[t]="on"+t}function Ki(t,e){if(t.ca)t=!0;else{e=new Ii(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&Hi(t),t=n.call(r,e)}return t}function Gi(t){return(t=t[Fi])instanceof Ri?t:null}var $i="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qi(t){return"function"==typeof t?t:(t[$i]||(t[$i]=function(e){return t.handleEvent(e)}),t[$i])}function Yi(){Qr.call(this),this.i=new Ri(this),this.P=this,this.I=null}function Zi(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new ki(e,t);else if(e instanceof ki)e.target=e.target||t;else{var i=e;hi(e=new ki(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Xi(s,r,!0,e)&&i}if(i=Xi(s=e.g=t,r,!0,e)&&i,i=Xi(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Xi(s=e.g=n[o],r,!1,e)&&i}function Xi(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,u=s.ia||s.src;s.fa&&Di(t.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}$r(Yi,Qr),Yi.prototype[ji]=!0,Yi.prototype.removeEventListener=function(t,e,n,r){zi(this,t,e,n,r)},Yi.prototype.M=function(){if(Yi.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Pi(n[r]);delete e.g[t],e.h--}}this.I=null},Yi.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Yi.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Ji=Fr.JSON.stringify;function to(){var t=uo,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var eo,no=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=ro.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),ro=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},t}())(function(){return new io},function(t){return t.reset()}),io=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function oo(t){Fr.setTimeout(function(){throw t},0)}function so(t,e){eo||function(){var t=Fr.Promise.resolve(void 0);eo=function(){t.then(co)}}(),ao||(eo(),ao=!0),uo.add(t,e)}var ao=!1,uo=new no;function co(){for(var t;t=to();){try{t.h.call(t.g)}catch(n){oo(n)}var e=ro;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ao=!1}function lo(t,e){Yi.call(this),this.h=t||1,this.g=e||Fr,this.j=Kr(this.kb,this),this.l=Date.now()}function ho(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function fo(t,e,n){if("function"==typeof t)n&&(t=Kr(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Kr(t.handleEvent,t)}return 2147483647<Number(e)?-1:Fr.setTimeout(t,e||0)}function po(t){t.g=fo(function(){t.g=null,t.i&&(t.i=!1,po(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}$r(lo,Yi),(Rr=lo.prototype).da=!1,Rr.S=null,Rr.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Zi(this,"tick"),this.da&&(ho(this),this.start()))}},Rr.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Rr.M=function(){lo.Z.M.call(this),ho(this),delete this.g};var go=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Mr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:po(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(Fr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(Qr);function mo(t){Qr.call(this),this.h=t,this.g={}}$r(mo,Qr);var yo=[];function bo(t,e,n,r){Array.isArray(n)||(n&&(yo[0]=n.toString()),n=yo);for(var i=0;i<n.length;i++){var o=Vi(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function vo(t){ui(t.g,function(t,e){this.g.hasOwnProperty(e)&&Hi(t)},t),t.g={}}function _o(){this.g=!0}function wo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Ji(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}mo.prototype.M=function(){mo.Z.M.call(this),vo(this)},mo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},_o.prototype.Aa=function(){this.g=!1},_o.prototype.info=function(){};var Co={},Oo=null;function xo(){return Oo=Oo||new Yi}function So(t){ki.call(this,Co.Ma,t)}function To(t){var e=xo();Zi(e,new So(e,t))}function Eo(t,e){ki.call(this,Co.STAT_EVENT,t),this.stat=e}function ko(t){var e=xo();Zi(e,new Eo(e,t))}function Io(t,e){ki.call(this,Co.Na,t),this.size=e}function No(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Fr.setTimeout(function(){t()},e)}Co.Ma="serverreachability",$r(So,ki),Co.STAT_EVENT="statevent",$r(Eo,ki),Co.Na="timingevent",$r(Io,ki);var jo={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ao={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Mo(){}function Po(){}Mo.prototype.h=null;var Ro,Do={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Lo(){ki.call(this,"d")}function Fo(){ki.call(this,"c")}function Uo(){}function Vo(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new mo(this),this.P=Bo,this.W=new lo(t=bi?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new qo}function qo(){this.i=null,this.g="",this.h=!1}$r(Lo,ki),$r(Fo,ki),$r(Uo,Mo),Uo.prototype.g=function(){return new XMLHttpRequest},Uo.prototype.i=function(){return{}},Ro=new Uo;var Bo=45e3,zo={},Ho={};function Wo(t,e,n){t.K=1,t.v=ps(us(e)),t.s=n,t.U=!0,Ko(t,null)}function Ko(t,e){t.F=Date.now(),Yo(t),t.A=us(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),Es(n.h,"t",r),t.C=0,n=t.l.H,t.h=new qo,t.g=ka(t.l,n?e:null,!t.s),0<t.O&&(t.L=new go(Kr(t.Ia,t,t.g),t.O)),bo(t.V,t.g,"readystatechange",t.gb),e=t.H?ci(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),To(1),function(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.X,t.s)}function Go(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function $o(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=Qo(t,n))==Ho){4==e&&(t.o=4,ko(14),i=!1),wo(t.j,t.m,null,"[Incomplete Response]");break}if(r==zo){t.o=4,ko(15),wo(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}wo(t.j,t.m,r,null),es(t,r)}Go(t)&&r!=Ho&&r!=zo&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,ko(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),_a(e),e.L=!0,ko(11))):(wo(t.j,t.m,n,"[Invalid Chunked Response]"),ts(t),Jo(t))}function Qo(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Ho:(n=Number(e.substring(n,r)),isNaN(n)?zo:(r+=1)+n>e.length?Ho:(e=e.substr(r,n),t.C=r+n,e))}function Yo(t){t.Y=Date.now()+t.P,Zo(t,t.P)}function Zo(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=No(Kr(t.eb,t),e)}function Xo(t){t.B&&(Fr.clearTimeout(t.B),t.B=null)}function Jo(t){0==t.l.G||t.I||Oa(t.l,t)}function ts(t){Xo(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,ho(t.W),vo(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function es(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||Ps(n.i,t)))if(n.I=t.N,!t.J&&Ps(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;Ca(n),ha(n)}va(n),ko(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=No(Kr(n.ab,n),6e3));if(1>=Ms(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else Sa(n,11)}else if((t.J||n.g==t)&&Ca(n),!ei(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var s=o[3];null!=s&&(n.ma=s,n.h.info("VER="+n.ma));var a=o[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=t.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(ii(l,"spdy")||ii(l,"quic")||ii(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Rs(h,h.h),h.h=null))}if(r.D){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,fs(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var f=t;if((r=n).oa=Ea(r,r.H?r.la:null,r.W),f.J){Ds(r.i,f);var p=f,g=r.K;g&&p.setTimeout(g),p.B&&(Xo(p),Yo(p)),r.g=f}else ba(r);0<n.l.length&&pa(n)}else"stop"!=o[0]&&"close"!=o[0]||Sa(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?Sa(n,7):la(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}To(4)}catch(o){}}function ns(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Vr(t)||"string"==typeof t)Xr(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(Vr(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(Vr(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function rs(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof rs)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function is(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];os(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)os(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function os(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Rr=Vo.prototype).setTimeout=function(t){this.P=t},Rr.gb=function(t){t=t.target;var e=this.L;e&&3==oa(t)?e.l():this.Ia(t)},Rr.Ia=function(t){try{if(t==this.g)t:{var e=oa(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||bi||this.g&&(this.h.h||this.g.ga()||sa(this.g)))){this.I||4!=e||7==n||To(8==n||0>=r?3:2),Xo(this);var i=this.g.ba();this.N=i;e:if(Go(this)){var o=sa(this.g);t="";var s=o.length,a=4==oa(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ts(this),Jo(this);var u="";break e}this.h.i=new Fr.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:a&&n==s-1});o.splice(0,s),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ei(c)){var h=c;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,ko(12),ts(this),Jo(this);break t}wo(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,es(this,i)}this.U?($o(this,e,u),bi&&this.i&&3==e&&(bo(this.V,this.W,"tick",this.fb),this.W.start())):(wo(this.j,this.m,u,null),es(this,u)),4==e&&ts(this),this.i&&!this.I&&(4==e?Oa(this.l,this):(this.i=!1,Yo(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,ko(12)):(this.o=0,ko(13)),ts(this),Jo(this)}}}catch(e){}},Rr.fb=function(){if(this.g){var t=oa(this.g),e=this.g.ga();this.C<e.length&&(Xo(this),$o(this,t,e),this.i&&4!=t&&Yo(this))}},Rr.cancel=function(){this.I=!0,ts(this)},Rr.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(To(3),ko(17)),ts(this),this.o=2,Jo(this)):Zo(this,this.Y-t)},(Rr=rs.prototype).R=function(){is(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},Rr.T=function(){return is(this),this.g.concat()},Rr.get=function(t,e){return os(this.h,t)?this.h[t]:e},Rr.set=function(t,e){os(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},Rr.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var ss=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function as(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof as){this.g=void 0!==e?e:t.g,cs(this,t.j),this.s=t.s,ls(this,t.i),hs(this,t.m),this.l=t.l,e=t.h;var n=new Os;n.i=e.i,e.g&&(n.g=new rs(e.g),n.h=e.h),ds(this,n),this.o=t.o}else t&&(n=String(t).match(ss))?(this.g=!!e,cs(this,n[1]||"",!0),this.s=gs(n[2]||""),ls(this,n[3]||"",!0),hs(this,n[4]),this.l=gs(n[5]||"",!0),ds(this,n[6]||"",!0),this.o=gs(n[7]||"")):(this.g=!!e,this.h=new Os(null,this.g))}function us(t){return new as(t)}function cs(t,e,n){t.j=n?gs(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ls(t,e,n){t.i=n?gs(e,!0):e}function hs(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ds(t,e,n){e instanceof Os?(t.h=e,function(t,e){e&&!t.j&&(xs(t),t.i=null,t.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Ss(this,e),Es(this,n,t))},t)),t.j=e}(t.h,t.g)):(n||(e=ms(e,ws)),t.h=new Os(e,t.g))}function fs(t,e,n){t.h.set(e,n)}function ps(t){return fs(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function gs(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ms(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ys),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ys(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}as.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ms(e,bs,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(ms(e,bs,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(ms(n,"/"==n.charAt(0)?_s:vs,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ms(n,Cs)),t.join("")};var bs=/[#\/\?@]/g,vs=/[#\?:]/g,_s=/[#\?]/g,ws=/[#\?@]/g,Cs=/#/g;function Os(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function xs(t){t.g||(t.g=new rs,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Ss(t,e){xs(t),e=ks(t,e),os(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,os((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&is(t)))}function Ts(t,e){return xs(t),e=ks(t,e),os(t.g.h,e)}function Es(t,e,n){Ss(t,e),0<n.length&&(t.i=null,t.g.set(ks(t,e),ti(n)),t.h+=n.length)}function ks(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(Rr=Os.prototype).add=function(t,e){xs(this),this.i=null,t=ks(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Rr.forEach=function(t,e){xs(this),this.g.forEach(function(n,r){Xr(n,function(n){t.call(e,n,r,this)},this)},this)},Rr.T=function(){xs(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Rr.R=function(t){xs(this);var e=[];if("string"==typeof t)Ts(this,t)&&(e=Jr(e,this.g.get(ks(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=Jr(e,t[n])}return e},Rr.set=function(t,e){return xs(this),this.i=null,Ts(this,t=ks(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Rr.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},Rr.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.i=t.join("&")};var Is=function(){return function(t,e){this.h=t,this.g=e}}();function Ns(t){this.l=t||js,t=Fr.PerformanceNavigationTiming?0<(t=Fr.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Fr.g&&Fr.g.Ea&&Fr.g.Ea()&&Fr.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var js=10;function As(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Ms(t){return t.h?1:t.g?t.g.size:0}function Ps(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Rs(t,e){t.g?t.g.add(e):t.h=e}function Ds(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Ls(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=Pr(t.g.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.D)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return ti(t.i)}function Fs(){}function Us(){this.g=new Fs}function Vs(t,e,n){var r=n||"";try{ns(t,function(t,n){var i=t;qr(t)&&(i=Ji(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(Qy){throw e.push(r+"type="+encodeURIComponent("_badmap")),Qy}}function qs(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function Bs(t){this.l=t.$b||null,this.j=t.ib||!1}function zs(t,e){Yi.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Hs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ns.prototype.cancel=function(){var t,e;if(this.i=Ls(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=Pr(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},Fs.prototype.stringify=function(t){return Fr.JSON.stringify(t,void 0)},Fs.prototype.parse=function(t){return Fr.JSON.parse(t,void 0)},$r(Bs,Mo),Bs.prototype.g=function(){return new zs(this.l,this.j)},Bs.prototype.i=function(t){return function(){return t}}({}),$r(zs,Yi);var Hs=0;function Ws(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Ks(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Gs(t)}function Gs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Rr=zs.prototype).open=function(t,e){if(this.readyState!=Hs)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Gs(this)},Rr.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Fr).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Rr.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ks(this)),this.readyState=Hs},Rr.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Gs(this)),this.g&&(this.readyState=3,Gs(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Fr.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ws(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},Rr.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ks(this):Gs(this),3==this.readyState&&Ws(this)}},Rr.Ua=function(t){this.g&&(this.response=this.responseText=t,Ks(this))},Rr.Ta=function(t){this.g&&(this.response=t,Ks(this))},Rr.ha=function(){this.g&&Ks(this)},Rr.setRequestHeader=function(t,e){this.v.append(t,e)},Rr.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Rr.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(zs.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var $s=Fr.JSON.parse;function Qs(t){Yi.call(this),this.headers=new rs,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ys,this.K=this.L=!1}$r(Qs,Yi);var Ys="",Zs=/^https?$/i,Xs=["POST","PUT"];function Js(t){return"content-type"==t.toLowerCase()}function ta(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,ea(t),ra(t)}function ea(t){t.D||(t.D=!0,Zi(t,"complete"),Zi(t,"error"))}function na(t){if(t.h&&void 0!==Lr&&(!t.C[1]||4!=oa(t)||2!=t.ba()))if(t.v&&4==oa(t))fo(t.Fa,0,t);else if(Zi(t,"readystatechange"),4==oa(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.H).match(ss)[1]||null;if(!o&&Fr.self&&Fr.self.location){var s=Fr.self.location.protocol;o=s.substr(0,s.length-1)}i=!Zs.test(o?o.toLowerCase():"")}e=i}if(e)Zi(t,"complete"),Zi(t,"success");else{t.m=6;try{var a=2<oa(t)?t.g.statusText:""}catch(u){a=""}t.j=a+" ["+t.ba()+"]",ea(t)}}finally{ra(t)}}}function ra(t,e){if(t.g){ia(t);var n=t.g,r=t.C[0]?Ur:null;t.g=null,t.C=null,e||Zi(t,"ready");try{n.onreadystatechange=r}catch(Qy){}}}function ia(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Fr.clearTimeout(t.A),t.A=null)}function oa(t){return t.g?t.g.readyState:0}function sa(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Ys:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function aa(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return ui(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):fs(t,e,n))}function ua(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ca(t){this.za=0,this.l=[],this.h=new _o,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ua("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ua("baseRetryDelayMs",5e3,t),this.$a=ua("retryDelaySeedMs",1e4,t),this.Ya=ua("forwardChannelMaxRetries",2,t),this.ra=ua("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new Ns(t&&t.concurrentRequestLimit),this.Ca=new Us,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function la(t){if(da(t),3==t.G){var e=t.V++,n=us(t.F);fs(n,"SID",t.J),fs(n,"RID",e),fs(n,"TYPE","terminate"),ma(t,n),(e=new Vo(t,t.h,e,void 0)).K=2,e.v=ps(us(n)),n=!1,Fr.navigator&&Fr.navigator.sendBeacon&&(n=Fr.navigator.sendBeacon(e.v.toString(),"")),!n&&Fr.Image&&((new Image).src=e.v,n=!0),n||(e.g=ka(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Yo(e)}Ta(t)}function ha(t){t.g&&(_a(t),t.g.cancel(),t.g=null)}function da(t){ha(t),t.u&&(Fr.clearTimeout(t.u),t.u=null),Ca(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Fr.clearTimeout(t.m),t.m=null)}function fa(t,e){t.l.push(new Is(t.Za++,e)),3==t.G&&pa(t)}function pa(t){As(t.i)||t.m||(t.m=!0,so(t.Ha,t),t.C=0)}function ga(t,e){var n;n=e?e.m:t.V++;var r=us(t.F);fs(r,"SID",t.J),fs(r,"RID",n),fs(r,"AID",t.U),ma(t,r),t.o&&t.s&&aa(r,t.o,t.s),n=new Vo(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=ya(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Rs(t.i,n),Wo(n,r,e)}function ma(t,e){t.j&&ns({},function(t,n){fs(e,n,t)})}function ya(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Kr(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].h)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),a=!1;else try{Vs(l,s,"req"+c+"_")}catch(su){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function ba(t){t.g||t.u||(t.Y=1,so(t.Ga,t),t.A=0)}function va(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=No(Kr(t.Ga,t),xa(t,t.A)),t.A++,0))}function _a(t){null!=t.B&&(Fr.clearTimeout(t.B),t.B=null)}function wa(t){t.g=new Vo(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=us(t.oa);fs(e,"RID","rpc"),fs(e,"SID",t.J),fs(e,"CI",t.N?"0":"1"),fs(e,"AID",t.U),ma(t,e),fs(e,"TYPE","xmlhttp"),t.o&&t.s&&aa(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=ps(us(e)),n.s=null,n.U=!0,Ko(n,t)}function Ca(t){null!=t.v&&(Fr.clearTimeout(t.v),t.v=null)}function Oa(t,e){var n=null;if(t.g==e){Ca(t),_a(t),t.g=null;var r=2}else{if(!Ps(t.i,e))return;n=e.D,Ds(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Zi(r=xo(),new Io(r,n,e,i)),pa(t)}else ba(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Ms(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=No(Kr(t.Ha,t,e),xa(t,t.C)),t.C++,0)))}(t,e)||2==r&&va(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Sa(t,5);break;case 4:Sa(t,10);break;case 3:Sa(t,6);break;default:Sa(t,2)}}function xa(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Sa(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=Kr(t.jb,t);n||(n=new as("//www.google.com/images/cleardot.gif"),Fr.location&&"http"==Fr.location.protocol||cs(n,"https"),ps(n)),function(t,e){var n=new _o;if(Fr.Image){var r=new Image;r.onload=Gr(qs,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Gr(qs,n,r,"TestLoadImage: error",!1,e),r.onabort=Gr(qs,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Gr(qs,n,r,"TestLoadImage: timeout",!1,e),Fr.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else ko(2);t.G=0,t.j&&t.j.va(e),Ta(t),da(t)}function Ta(t){t.G=0,t.I=-1,t.j&&(0==Ls(t.i).length&&0==t.l.length||(t.i.i.length=0,ti(t.l),t.l.length=0),t.j.ua())}function Ea(t,e,n){var r=function(t){return t instanceof as?us(t):new as(t,void 0)}(n);if(""!=r.i)e&&ls(r,e+"."+r.i),hs(r,r.m);else{var i=Fr.location;r=function(t,e,n,r){var i=new as(null,void 0);return t&&cs(i,t),e&&ls(i,e),n&&hs(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&ui(t.aa,function(t,e){fs(r,e,t)}),n=t.sa,(e=t.D)&&n&&fs(r,e,n),fs(r,"VER",t.ma),ma(t,r),r}function ka(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Qs(n&&t.Ba&&!t.qa?new Bs({ib:!0}):t.qa)).L=t.H,e}function Ia(){}function Na(){if(mi&&!(10<=Number(Ti)))throw Error("Environmental error: no available transport.")}function ja(t,e){Yi.call(this),this.g=new ca(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!ei(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ei(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Pa(this)}function Aa(t){Lo.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Ma(){Fo.call(this),this.status=1}function Pa(t){this.g=t}(Rr=Qs.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ro.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:Ro),this.g.onreadystatechange=Kr(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void ta(this,o)}t=n||"";var i=new rs(this.headers);r&&ns(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Js,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=Fr.FormData&&t instanceof Fr.FormData,!(0<=Zr(Xs,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.g.setRequestHeader(e,t)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ia(this),0<this.B&&((this.K=function(t){return mi&&function(){return t=Si,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var t=0,e=ri(String(fi)).split("."),n=ri("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;t=oi(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||oi(0==o[2].length,0==s[2].length)||oi(o[2],s[2]),o=o[3],s=s[3]}while(0==t)}return 0<=t}();var t}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Kr(this.pa,this)):this.A=fo(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){ta(this,o)}},Rr.pa=function(){void 0!==Lr&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Zi(this,"timeout"),this.abort(8))},Rr.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Zi(this,"complete"),Zi(this,"abort"),ra(this))},Rr.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ra(this,!0)),Qs.Z.M.call(this)},Rr.Fa=function(){this.s||(this.F||this.v||this.l?na(this):this.cb())},Rr.cb=function(){na(this)},Rr.ba=function(){try{return 2<oa(this)?this.g.status:-1}catch(pi){return-1}},Rr.ga=function(){try{return this.g?this.g.responseText:""}catch(pi){return""}},Rr.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),$s(e)}},Rr.Da=function(){return this.m},Rr.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Rr=ca.prototype).ma=8,Rr.G=1,Rr.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},Rr.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new Vo(this,this.h,t,void 0),n=this.s;if(this.P&&(n?hi(n=ci(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=ya(this,e,r),fs(i=us(this.F),"RID",t),fs(i,"CVER",22),this.D&&fs(i,"X-HTTP-Session-Id",this.D),ma(this,i),this.o&&n&&aa(i,this.o,n),Rs(this.i,e),this.Ra&&fs(i,"TYPE","init"),this.ja?(fs(i,"$req",r),fs(i,"SID","null"),e.$=!0,Wo(e,i,null)):Wo(e,i,r),this.G=2}}else 3==this.G&&(t?ga(this,t):0==this.l.length||As(this.i)||ga(this))},Rr.Ga=function(){if(this.u=null,wa(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=No(Kr(this.bb,this),t)}},Rr.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ko(10),ha(this),wa(this))},Rr.ab=function(){null!=this.v&&(this.v=null,ha(this),va(this),ko(19))},Rr.jb=function(t){t?(this.h.info("Successfully pinged google.com"),ko(2)):(this.h.info("Failed to ping google.com"),ko(1))},(Rr=Ia.prototype).xa=function(){},Rr.wa=function(){},Rr.va=function(){},Rr.ua=function(){},Rr.Oa=function(){},Na.prototype.g=function(t,e){return new ja(t,e)},$r(ja,Yi),ja.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),so(Kr(t.hb,t,e))),ko(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=Ea(t,null,t.W),pa(t)},ja.prototype.close=function(){la(this.g)},ja.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,fa(this.g,e)}else this.v?((e={}).__data__=Ji(t),fa(this.g,e)):fa(this.g,t)},ja.prototype.M=function(){this.g.j=null,delete this.j,la(this.g),delete this.g,ja.Z.M.call(this)},$r(Aa,Lo),$r(Ma,Fo),$r(Pa,Ia),Pa.prototype.xa=function(){Zi(this.g,"a")},Pa.prototype.wa=function(t){Zi(this.g,new Aa(t))},Pa.prototype.va=function(t){Zi(this.g,new Ma(t))},Pa.prototype.ua=function(){Zi(this.g,"b")},Na.prototype.createWebChannel=Na.prototype.g,ja.prototype.send=ja.prototype.u,ja.prototype.open=ja.prototype.m,ja.prototype.close=ja.prototype.close,jo.NO_ERROR=0,jo.TIMEOUT=8,jo.HTTP_ERROR=6,Ao.COMPLETE="complete",Po.EventType=Do,Do.OPEN="a",Do.CLOSE="b",Do.ERROR="c",Do.MESSAGE="d",Yi.prototype.listen=Yi.prototype.N,Qs.prototype.listenOnce=Qs.prototype.O,Qs.prototype.getLastError=Qs.prototype.La,Qs.prototype.getLastErrorCode=Qs.prototype.Da,Qs.prototype.getStatus=Qs.prototype.ba,Qs.prototype.getResponseJson=Qs.prototype.Qa,Qs.prototype.getResponseText=Qs.prototype.ga,Qs.prototype.send=Qs.prototype.ea;var Ra=jo,Da=Ao,La=Co,Fa=Bs,Ua=Po,Va=Qs,qa=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();qa.o=-1;var Ba={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},za=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Ge.c)(e,t),e}(Error),Ha=new Ar.b("@firebase/firestore");function Wa(){return Ha.logLevel}function Ka(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ha.logLevel<=Ar.a.DEBUG){var r=e.map(Qa);Ha.debug.apply(Ha,Object(Ge.f)(["Firestore (8.10.1): "+t],r))}}function Ga(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ha.logLevel<=Ar.a.ERROR){var r=e.map(Qa);Ha.error.apply(Ha,Object(Ge.f)(["Firestore (8.10.1): "+t],r))}}function $a(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ha.logLevel<=Ar.a.WARN){var r=e.map(Qa);Ha.warn.apply(Ha,Object(Ge.f)(["Firestore (8.10.1): "+t],r))}}function Qa(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Qy){return t}}function Ya(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+t;throw Ga(e),new Error(e)}function Za(t,e){t||Ya()}function Xa(t,e){return t}function Ja(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var tu=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Ja(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function eu(t,e){return t<e?-1:t>e?1:0}function nu(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function ru(t){return t+"\0"}var iu=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new za(Ba.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new za(Ba.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new za(Ba.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new za(Ba.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?eu(this.nanoseconds,t.nanoseconds):eu(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),ou=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new iu(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function su(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function au(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function uu(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var cu=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Ya(),void 0===n?n=t.length-e:n>t.length-e&&Ya(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),lu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ge.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new za(Ba.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(cu),hu=/^[_a-zA-Z][_a-zA-Z0-9]*$/,du=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ge.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return hu.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new za(Ba.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new za(Ba.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new za(Ba.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new za(Ba.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(cu),fu=function(){function t(t){this.fields=t,t.sort(du.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return nu(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),pu=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return eu(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();pu.EMPTY_BYTE_STRING=new pu("");var gu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mu(t){if(Za(!!t),"string"==typeof t){var e=0,n=gu.exec(t);if(Za(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:yu(t.seconds),nanos:yu(t.nanos)}}function yu(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function bu(t){return"string"==typeof t?pu.fromBase64String(t):pu.fromUint8Array(t)}function vu(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function _u(t){var e=t.mapValue.fields.__previous_value__;return vu(e)?_u(e):e}function wu(t){var e=mu(t.mapValue.fields.__local_write_time__.timestampValue);return new iu(e.seconds,e.nanos)}function Cu(t){return null==t}function Ou(t){return 0===t&&1/t==-1/0}function xu(t){return"number"==typeof t&&Number.isInteger(t)&&!Ou(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Su=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(lu.fromString(e))},t.fromName=function(e){return new t(lu.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===lu.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return lu.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new lu(e.slice()))},t}();function Tu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vu(t)?4:10:Ya()}function Eu(t,e){var n=Tu(t);if(n!==Tu(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wu(t).isEqual(wu(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=mu(t.timestampValue),r=mu(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return bu(t.bytesValue).isEqual(bu(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return yu(t.geoPointValue.latitude)===yu(e.geoPointValue.latitude)&&yu(t.geoPointValue.longitude)===yu(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return yu(t.integerValue)===yu(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=yu(t.doubleValue),r=yu(e.doubleValue);return n===r?Ou(n)===Ou(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return nu(t.arrayValue.values||[],e.arrayValue.values||[],Eu);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(su(n)!==su(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Eu(n[i],r[i])))return!1;return!0}(t,e);default:return Ya()}}function ku(t,e){return void 0!==(t.values||[]).find(function(t){return Eu(t,e)})}function Iu(t,e){var n=Tu(t),r=Tu(e);if(n!==r)return eu(n,r);switch(n){case 0:return 0;case 1:return eu(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=yu(t.integerValue||t.doubleValue),r=yu(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Nu(t.timestampValue,e.timestampValue);case 4:return Nu(wu(t),wu(e));case 5:return eu(t.stringValue,e.stringValue);case 6:return function(t,e){var n=bu(t),r=bu(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=eu(n[i],r[i]);if(0!==o)return o}return eu(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=eu(yu(t.latitude),yu(e.latitude));return 0!==n?n:eu(yu(t.longitude),yu(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Iu(n[i],r[i]);if(o)return o}return eu(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=eu(r[s],o[s]);if(0!==a)return a;var u=Iu(n[r[s]],i[o[s]]);if(0!==u)return u}return eu(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Ya()}}function Nu(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return eu(t,e);var n=mu(t),r=mu(e),i=eu(n.seconds,r.seconds);return 0!==i?i:eu(n.nanos,r.nanos)}function ju(t){return Au(t)}function Au(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=mu(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?bu(t.bytesValue).toBase64():"referenceValue"in t?Su.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Au(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Au(t.fields[o])}return e+"}"}(t.mapValue):Ya();var e}function Mu(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Pu(t){return!!t&&"integerValue"in t}function Ru(t){return!!t&&"arrayValue"in t}function Du(t){return!!t&&"nullValue"in t}function Lu(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fu(t){return!!t&&"mapValue"in t}function Uu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return au(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=Uu(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Uu(t.arrayValue.values[r]);return n}return Object.assign({},t)}var Vu=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!Fu(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Uu(e)},t.prototype.setAll=function(t){var e=this,n=du.emptyPath(),r={},i=[];t.forEach(function(t,o){if(!n.isImmediateParentOf(o)){var s=e.getFieldsMap(n);e.applyChanges(s,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=Uu(t):i.push(o.lastSegment())});var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());Fu(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return Eu(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];Fu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){au(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(Uu(this.value))},t}();function qu(t){var e=[];return au(t.fields,function(t,n){var r=new du([t]);if(Fu(n)){var i=qu(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new fu(e)}var Bu=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,ou.min(),Vu.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Vu.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Vu.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Vu.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Vu.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),zu=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function Hu(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new zu(t,e,n,r,i,o,s)}function Wu(t){var e=Xa(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+ju(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),Cu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=ic(e.startAt)),e.endAt&&(n+="|ub:",n+=ic(e.endAt)),e.h=n}return e.h}function Ku(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!sc(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Eu(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!uc(t.startAt,e.startAt)&&uc(t.endAt,e.endAt)}function Gu(t){return Su.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var $u=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Ge.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Qu(t,n,r):"array-contains"===n?new Ju(t,r):"in"===n?new tc(t,r):"not-in"===n?new ec(t,r):"array-contains-any"===n?new nc(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Yu(t,n):new Zu(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Iu(e,this.value)):null!==e&&Tu(this.value)===Tu(e)&&this.m(Iu(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ya()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Qu=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Su.fromName(r.referenceValue),i}return Object(Ge.c)(e,t),e.prototype.matches=function(t){var e=Su.comparator(t.key,this.key);return this.m(e)},e}($u),Yu=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Xu(0,n),r}return Object(Ge.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}($u),Zu=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Xu(0,n),r}return Object(Ge.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}($u);function Xu(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Su.fromName(t.referenceValue)})}var Ju=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Ge.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Ru(e)&&ku(e.arrayValue,this.value)},e}($u),tc=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Ge.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&ku(this.value.arrayValue,e)},e}($u),ec=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Ge.c)(e,t),e.prototype.matches=function(t){if(ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!ku(this.value.arrayValue,e)},e}($u),nc=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Ge.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Ru(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return ku(e.value.arrayValue,t)})},e}($u),rc=function(t,e){this.position=t,this.before=e};function ic(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return ju(t)}).join(",")}var oc=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function sc(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function ac(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?Su.comparator(Su.fromName(s.referenceValue),n.key):Iu(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function uc(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Eu(t.position[n],e.position[n]))return!1;return!0}var cc=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function lc(t,e,n,r,i,o,s,a){return new cc(t,e,n,r,i,o,s,a)}function hc(t){return new cc(t)}function dc(t){return!Cu(t.limit)&&"F"===t.limitType}function fc(t){return!Cu(t.limit)&&"L"===t.limitType}function pc(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function gc(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function mc(t){return null!==t.collectionGroup}function yc(t){var e=Xa(t);if(null===e.p){e.p=[];var n=gc(e),r=pc(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new oc(n)),e.p.push(new oc(du.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new oc(du.keyField(),u))}}}return e.p}function bc(t){var e=Xa(t);if(!e.T)if("F"===e.limitType)e.T=Hu(e.path,e.collectionGroup,yc(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=yc(e);r<i.length;r++){var o=i[r];n.push(new oc(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new rc(e.endAt.position,!e.endAt.before):null,a=e.startAt?new rc(e.startAt.position,!e.startAt.before):null;e.T=Hu(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function vc(t,e,n){return new cc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _c(t,e){return Ku(bc(t),bc(e))&&t.limitType===e.limitType}function wc(t){return Wu(bc(t))+"|lt:"+t.limitType}function Cc(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+ju(e.value);var e}).join(", ")+"]"),Cu(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+ic(t.startAt)),t.endAt&&(e+=", endAt: "+ic(t.endAt)),"Target("+e+")"}(bc(t))+"; limitType="+t.limitType+")"}function Oc(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Su.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!ac(t.startAt,yc(t),e)||t.endAt&&ac(t.endAt,yc(t),e))}(t,e)}function xc(t){return function(e,n){for(var r=!1,i=0,o=yc(t);i<o.length;i++){var s=o[i],a=Sc(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function Sc(t,e,n){var r=t.field.isKeyField()?Su.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Iu(r,i):Ya()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ya()}}function Tc(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ou(e)?"-0":e}}function Ec(t){return{integerValue:""+t}}function kc(t,e){return xu(e)?Ec(e):Tc(t,e)}var Ic=function(){this._=void 0};function Nc(t,e,n){return t instanceof Mc?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Pc?Rc(t,e):t instanceof Dc?Lc(t,e):function(t,e){var n=Ac(t,e),r=Uc(n)+Uc(t.A);return Pu(n)&&Pu(t.A)?Ec(r):Tc(t.R,r)}(t,e)}function jc(t,e,n){return t instanceof Pc?Rc(t,e):t instanceof Dc?Lc(t,e):n}function Ac(t,e){return t instanceof Fc?Pu(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Mc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ge.c)(e,t),e}(Ic),Pc=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Ge.c)(e,t),e}(Ic);function Rc(t,e){for(var n=Vc(e),r=function(t){n.some(function(e){return Eu(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Dc=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Ge.c)(e,t),e}(Ic);function Lc(t,e){for(var n=Vc(e),r=function(t){n=n.filter(function(e){return!Eu(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Fc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(Ge.c)(e,t),e}(Ic);function Uc(t){return yu(t.integerValue||t.doubleValue)}function Vc(t){return Ru(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var qc=function(t,e){this.field=t,this.transform=e},Bc=function(t,e){this.version=t,this.transformResults=e},zc=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Hc(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Wc=function(){};function Kc(t,e,n){t instanceof Zc?function(t,e,n){var r=t.value.clone(),i=tl(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Xc?function(t,e,n){if(Hc(t.precondition,e)){var r=tl(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Jc(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Gc(t,e,n){t instanceof Zc?function(t,e,n){if(Hc(t.precondition,e)){var r=t.value.clone(),i=el(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Yc(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Xc?function(t,e,n){if(Hc(t.precondition,e)){var r=el(t.fieldTransforms,n,e),i=e.data;i.setAll(Jc(t)),i.setAll(r),e.convertToFoundDocument(Yc(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Hc(t.precondition,e)&&e.convertToNoDocument(ou.min())}(t,e)}function $c(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=Ac(o.transform,s||null);null!=a&&(null==n&&(n=Vu.empty()),n.set(o.field,a))}return n||null}function Qc(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&nu(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Pc&&e instanceof Pc||t instanceof Dc&&e instanceof Dc?nu(t.elements,e.elements,Eu):t instanceof Fc&&e instanceof Fc?Eu(t.A,e.A):t instanceof Mc&&e instanceof Mc}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Yc(t){return t.isFoundDocument()?t.version:ou.min()}var Zc=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(Ge.c)(e,t),e}(Wc),Xc=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return Object(Ge.c)(e,t),e}(Wc);function Jc(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function tl(t,e,n){var r=new Map;Za(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,jc(s,a,n[i]))}return r}function el(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,Nc(a,u,e))}return r}var nl,rl,il=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(Ge.c)(e,t),e}(Wc),ol=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(Ge.c)(e,t),e}(Wc),sl=function(t){this.count=t};function al(t){switch(t){case Ba.OK:return Ya();case Ba.CANCELLED:case Ba.UNKNOWN:case Ba.DEADLINE_EXCEEDED:case Ba.RESOURCE_EXHAUSTED:case Ba.INTERNAL:case Ba.UNAVAILABLE:case Ba.UNAUTHENTICATED:return!1;case Ba.INVALID_ARGUMENT:case Ba.NOT_FOUND:case Ba.ALREADY_EXISTS:case Ba.PERMISSION_DENIED:case Ba.FAILED_PRECONDITION:case Ba.ABORTED:case Ba.OUT_OF_RANGE:case Ba.UNIMPLEMENTED:case Ba.DATA_LOSS:return!0;default:return Ya()}}function ul(t){if(void 0===t)return Ga("GRPC error has no .code"),Ba.UNKNOWN;switch(t){case nl.OK:return Ba.OK;case nl.CANCELLED:return Ba.CANCELLED;case nl.UNKNOWN:return Ba.UNKNOWN;case nl.DEADLINE_EXCEEDED:return Ba.DEADLINE_EXCEEDED;case nl.RESOURCE_EXHAUSTED:return Ba.RESOURCE_EXHAUSTED;case nl.INTERNAL:return Ba.INTERNAL;case nl.UNAVAILABLE:return Ba.UNAVAILABLE;case nl.UNAUTHENTICATED:return Ba.UNAUTHENTICATED;case nl.INVALID_ARGUMENT:return Ba.INVALID_ARGUMENT;case nl.NOT_FOUND:return Ba.NOT_FOUND;case nl.ALREADY_EXISTS:return Ba.ALREADY_EXISTS;case nl.PERMISSION_DENIED:return Ba.PERMISSION_DENIED;case nl.FAILED_PRECONDITION:return Ba.FAILED_PRECONDITION;case nl.ABORTED:return Ba.ABORTED;case nl.OUT_OF_RANGE:return Ba.OUT_OF_RANGE;case nl.UNIMPLEMENTED:return Ba.UNIMPLEMENTED;case nl.DATA_LOSS:return Ba.DATA_LOSS;default:return Ya()}}(rl=nl||(nl={}))[rl.OK=0]="OK",rl[rl.CANCELLED=1]="CANCELLED",rl[rl.UNKNOWN=2]="UNKNOWN",rl[rl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rl[rl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rl[rl.NOT_FOUND=5]="NOT_FOUND",rl[rl.ALREADY_EXISTS=6]="ALREADY_EXISTS",rl[rl.PERMISSION_DENIED=7]="PERMISSION_DENIED",rl[rl.UNAUTHENTICATED=16]="UNAUTHENTICATED",rl[rl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rl[rl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rl[rl.ABORTED=10]="ABORTED",rl[rl.OUT_OF_RANGE=11]="OUT_OF_RANGE",rl[rl.UNIMPLEMENTED=12]="UNIMPLEMENTED",rl[rl.INTERNAL=13]="INTERNAL",rl[rl.UNAVAILABLE=14]="UNAVAILABLE",rl[rl.DATA_LOSS=15]="DATA_LOSS";var cl=function(){function t(t,e){this.comparator=t,this.root=e||hl.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,hl.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hl.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new ll(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new ll(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new ll(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new ll(this.root,t,this.comparator,!0)},t}(),ll=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),hl=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Ya();if(this.right.isRed())throw Ya();var t=this.left.check();if(t!==this.right.check())throw Ya();return t+(this.isRed()?0:1)},t}();hl.EMPTY=null,hl.RED=!0,hl.BLACK=!1,hl.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Ya()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Ya()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Ya()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Ya()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Ya()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new hl(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var dl=function(){function t(t){this.comparator=t,this.data=new cl(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new fl(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new fl(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),fl=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),pl=new cl(Su.comparator);function gl(){return pl}var ml=new cl(Su.comparator);function yl(){return ml}var bl=new cl(Su.comparator);function vl(){return bl}var _l=new dl(Su.comparator);function wl(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=_l,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Cl=new dl(eu);function Ol(){return Cl}var xl=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Sl.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(ou.min(),r,Ol(),gl(),wl())},t}(),Sl=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(pu.EMPTY_BYTE_STRING,n,wl(),wl(),wl())},t}(),Tl=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},El=function(t,e){this.targetId=t,this.V=e},kl=function(t,e,n,r){void 0===n&&(n=pu.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Il=function(){function t(){this.S=0,this.D=Al(),this.C=pu.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},t.prototype.M=function(){var t=wl(),e=wl(),n=wl();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Ya()}}),new Sl(this.C,this.N,t,e,n)},t.prototype.L=function(){this.k=!1,this.D=Al()},t.prototype.B=function(t,e){this.k=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),Nl=function(){function t(t){this.W=t,this.G=new Map,this.H=gl(),this.J=jl(),this.Y=new dl(eu)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.F||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:Ya()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Gu(i))if(0===n){var o=new Su(i.path);this.tt(e,o,Bu.newNoDocument(o,ou.min()))}else Za(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&Gu(o.target)){var s=new Su(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,Bu.newNoDocument(s,t))}r.$&&(n.set(i,r.M()),r.L())}});var r=wl();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new xl(t,n,this.Y,this.H,r);return this.H=gl(),this.J=jl(),this.Y=new dl(eu),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Il,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new dl(eu),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Ka("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.F?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Il),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function jl(){return new cl(Su.comparator)}function Al(){return new cl(Su.comparator)}var Ml={asc:"ASCENDING",desc:"DESCENDING"},Pl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Rl=function(t,e){this.databaseId=t,this.I=e};function Dl(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ll(t,e){return t.I?e.toBase64():e.toUint8Array()}function Fl(t,e){return Dl(t,e.toTimestamp())}function Ul(t){return Za(!!t),ou.fromTimestamp(function(t){var e=mu(t);return new iu(e.seconds,e.nanos)}(t))}function Vl(t,e){return function(t){return new lu(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function ql(t){var e=lu.fromString(t);return Za(hh(e)),e}function Bl(t,e){return Vl(t.databaseId,e.path)}function zl(t,e){var n=ql(e);if(n.get(1)!==t.databaseId.projectId)throw new za(Ba.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new za(Ba.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Su(Gl(n))}function Hl(t,e){return Vl(t.databaseId,e)}function Wl(t){var e=ql(t);return 4===e.length?lu.emptyPath():Gl(e)}function Kl(t){return new lu(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Gl(t){return Za(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function $l(t,e,n){return{name:Bl(t,e),fields:n.value.mapValue.fields}}function Ql(t,e,n){var r=zl(t,e.name),i=Ul(e.updateTime),o=new Vu({mapValue:{fields:e.fields}}),s=Bu.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Yl(t,e){var n;if(e instanceof Zc)n={update:$l(t,e.key,e.value)};else if(e instanceof il)n={delete:Bl(t,e.key)};else if(e instanceof Xc)n={update:$l(t,e.key,e.data),updateMask:lh(e.fieldMask)};else{if(!(e instanceof ol))return Ya();n={verify:Bl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Mc)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Pc)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Dc)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Fc)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Ya()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Fl(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Ya()}(t,e.precondition)),n}function Zl(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?zc.updateTime(Ul(t.updateTime)):void 0!==t.exists?zc.exists(t.exists):zc.none()}(e.currentDocument):zc.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Za("REQUEST_TIME"===e.setToServerValue),n=new Mc):"appendMissingElements"in e?n=new Pc(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Dc(e.removeAllFromArray.values||[]):"increment"in e?n=new Fc(t,e.increment):Ya();var r=du.fromServerFormat(e.fieldPath);return new qc(r,n)}(t,e)}):[];if(e.update){var i=zl(t,e.update.name),o=new Vu({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new fu((t.fieldPaths||[]).map(function(t){return du.fromServerFormat(t)}))}(e.updateMask);return new Xc(i,o,s,n,r)}return new Zc(i,o,n,r)}if(e.delete){var a=zl(t,e.delete);return new il(a,n)}if(e.verify){var u=zl(t,e.verify);return new ol(u,n)}return Ya()}function Xl(t,e){return{documents:[Hl(t,e.path)]}}function Jl(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Hl(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Hl(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Lu(t.value))return{unaryFilter:{field:sh(t.field),op:"IS_NAN"}};if(Du(t.value))return{unaryFilter:{field:sh(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Lu(t.value))return{unaryFilter:{field:sh(t.field),op:"IS_NOT_NAN"}};if(Du(t.value))return{unaryFilter:{field:sh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sh(t.field),op:oh(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:sh(t.field),direction:ih(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||Cu(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=nh(e.startAt)),e.endAt&&(n.structuredQuery.endAt=nh(e.endAt)),n}function th(t){var e=Wl(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Za(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=eh(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new oc(ah(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return Cu(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=rh(n.startAt));var l=null;return n.endAt&&(l=rh(n.endAt)),lc(e,i,a,s,u,"F",c,l)}function eh(t){return t?void 0!==t.unaryFilter?[ch(t)]:void 0!==t.fieldFilter?[uh(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return eh(t)}).reduce(function(t,e){return t.concat(e)}):Ya():[]}function nh(t){return{before:t.before,values:t.position}}function rh(t){return new rc(t.values||[],!!t.before)}function ih(t){return Ml[t]}function oh(t){return Pl[t]}function sh(t){return{fieldPath:t.canonicalString()}}function ah(t){return du.fromServerFormat(t.fieldPath)}function uh(t){return $u.create(ah(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ya()}}(t.fieldFilter.op),t.fieldFilter.value)}function ch(t){switch(t.unaryFilter.op){case"IS_NAN":var e=ah(t.unaryFilter.field);return $u.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=ah(t.unaryFilter.field);return $u.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ah(t.unaryFilter.field);return $u.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ah(t.unaryFilter.field);return $u.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ya()}}function lh(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function hh(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function dh(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=ph(e)),e=fh(t.get(n),e);return ph(e)}function fh(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function ph(t){return t+"\x01\x01"}function gh(t){var e=t.length;if(Za(e>=2),2===e)return Za("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),lu.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Ya(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Ya()}o=s+2}return new lu(r)}var mh=function(t,e){this.seconds=t,this.nanoseconds=e},yh=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};yh.store="owner",yh.key="owner";var bh=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};bh.store="mutationQueues",bh.keyPath="userId";var vh=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};vh.store="mutations",vh.keyPath="batchId",vh.userMutationsIndex="userMutationsIndex",vh.userMutationsKeyPath=["userId","batchId"];var _h=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,dh(e)]},t.key=function(t,e,n){return[t,dh(e),n]},t}();_h.store="documentMutations",_h.PLACEHOLDER=new _h;var wh=function(t,e){this.path=t,this.readTime=e},Ch=function(t,e){this.path=t,this.version=e},Oh=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Oh.store="remoteDocuments",Oh.readTimeIndex="readTimeIndex",Oh.readTimeIndexPath="readTime",Oh.collectionReadTimeIndex="collectionReadTimeIndex",Oh.collectionReadTimeIndexPath=["parentPath","readTime"];var xh=function(t){this.byteSize=t};xh.store="remoteDocumentGlobal",xh.key="remoteDocumentGlobalKey";var Sh=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Sh.store="targets",Sh.keyPath="targetId",Sh.queryTargetsIndexName="queryTargetsIndex",Sh.queryTargetsKeyPath=["canonicalId","targetId"];var Th=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Th.store="targetDocuments",Th.keyPath=["targetId","path"],Th.documentTargetsIndex="documentTargetsIndex",Th.documentTargetsKeyPath=["path","targetId"];var Eh=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Eh.key="targetGlobalKey",Eh.store="targetGlobal";var kh=function(t,e){this.collectionId=t,this.parent=e};kh.store="collectionParents",kh.keyPath=["collectionId","parent"];var Ih=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Ih.store="clientMetadata",Ih.keyPath="clientId";var Nh=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Nh.store="bundles",Nh.keyPath="bundleId";var jh=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};jh.store="namedQueries",jh.keyPath="name";var Ah=Object(Ge.f)(Object(Ge.f)([],Object(Ge.f)(Object(Ge.f)([],Object(Ge.f)(Object(Ge.f)([],Object(Ge.f)(Object(Ge.f)([],[bh.store,vh.store,_h.store,Oh.store,Sh.store,yh.store,Eh.store,Th.store]),[Ih.store])),[xh.store])),[kh.store])),[Nh.store,jh.store]),Mh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ph=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Rh=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Dh=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Ya(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),Lh=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Rh,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Vh(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Wh(e.target.error);n.ft.reject(new Vh(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Vh(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Ka("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Bh(e)},t}(),Fh=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object($e.p)())&&Ga("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Ka("SimpleDb","Removing database:",t),zh(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object($e.p)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(Ge.b)(this,void 0,void 0,function(){var e,n=this;return Object(Ge.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Ka("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Vh(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new za(Ba.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Vh(t,n))},i.onupgradeneeded=function(t){Ka("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Ka("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Ge.b)(this,void 0,void 0,function(){var i,o,s,a,u;return Object(Ge.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(Ge.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=Lh.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),Dh.reject(t)}).toPromise(),u={},s.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return Ka("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Uh=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return zh(this.Pt.delete())},t}(),Vh=function(t){function e(e,n){var r=this;return(r=t.call(this,Ba.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Ge.c)(e,t),e}(za);function qh(t){return"IndexedDbTransactionError"===t.name}var Bh=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Ka("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Ka("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),zh(n)},t.prototype.add=function(t){return Ka("SimpleDb","ADD",this.store.name,t,t),zh(this.store.add(t))},t.prototype.get=function(t){var e=this;return zh(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Ka("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Ka("SimpleDb","DELETE",this.store.name,t),zh(this.store.delete(t))},t.prototype.count=function(){return Ka("SimpleDb","COUNT",this.store.name),zh(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.kt=function(t,e){Ka("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Ft=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new Dh(function(n,r){e.onerror=function(t){var e=Wh(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new Dh(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Uh(i),s=e(i.primaryKey,i.value,o);if(s instanceof Dh){var a=s.catch(function(t){return o.done(),Dh.reject(t)});n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return Dh.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Ft?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function zh(t){return new Dh(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Wh(t.target.error);n(e)}})}var Hh=!1;function Wh(t){var e=Fh._t(Object($e.p)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new za("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Hh||(Hh=!0,setTimeout(function(){throw r},0)),r}}return t}var Kh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(Ge.c)(e,t),e}(Ph);function Gh(t,e){var n=Xa(t);return Fh.It(n.Mt,e)}var $h=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Kc(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&Gc(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&Gc(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(ou.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},wl())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&nu(this.mutations,t.mutations,function(t,e){return Qc(t,e)})&&nu(this.baseMutations,t.baseMutations,function(t,e){return Qc(t,e)})},t}(),Qh=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Za(e.mutations.length===r.length);for(var i=vl(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Yh=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=ou.min()),void 0===o&&(o=ou.min()),void 0===s&&(s=pu.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Zh=function(t){this.Lt=t};function Xh(t,e){if(e.document)return Ql(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Su.fromSegments(e.noDocument.path),r=rd(e.noDocument.readTime),i=Bu.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=Su.fromSegments(e.unknownDocument.path);return r=rd(e.unknownDocument.version),Bu.newUnknownDocument(o,r)}return Ya()}function Jh(t,e,n){var r=td(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Bl(t,e.key),fields:e.data.value.mapValue.fields,updateTime:Dl(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new Oh(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=nd(e.version);return s=e.hasCommittedMutations,new Oh(null,new wh(a,u),null,s,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=nd(e.version);return new Oh(new Ch(c,l),null,null,!0,r,i)}return Ya()}function td(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function ed(t){var e=new iu(t[0],t[1]);return ou.fromTimestamp(e)}function nd(t){var e=t.toTimestamp();return new mh(e.seconds,e.nanoseconds)}function rd(t){var e=new iu(t.seconds,t.nanoseconds);return ou.fromTimestamp(e)}function id(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Zl(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return Zl(t.Lt,e)}),o=iu.fromMillis(e.localWriteTimeMs);return new $h(e.batchId,o,n,i)}function od(t){var e,n,r=rd(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?rd(t.lastLimboFreeSnapshotVersion):ou.min();return void 0!==t.query.documents?(Za(1===(n=t.query).documents.length),e=bc(hc(Wl(n.documents[0])))):e=function(t){return bc(th(t))}(t.query),new Yh(e,t.targetId,0,t.lastListenSequenceNumber,r,i,pu.fromBase64String(t.resumeToken))}function sd(t,e){var n,r=nd(e.snapshotVersion),i=nd(e.lastLimboFreeSnapshotVersion);n=Gu(e.target)?Xl(t.Lt,e.target):Jl(t.Lt,e.target);var o=e.resumeToken.toBase64();return new Sh(e.targetId,Wu(e.target),r,o,e.sequenceNumber,i,n)}function ad(t){var e=th({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?vc(e,e.limit,"L"):e}var ud=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return cd(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:rd(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return cd(t).put({bundleId:(n=e).id,createTime:nd(Ul(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return ld(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:ad(e.bundledQuery),readTime:rd(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return ld(t).put(function(t){return{name:t.name,readTime:nd(Ul(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function cd(t){return Gh(t,Nh.store)}function ld(t){return Gh(t,jh.store)}var hd=function(){function t(){this.Bt=new dd}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Dh.resolve()},t.prototype.getCollectionParents=function(t,e){return Dh.resolve(this.Bt.getEntries(e))},t}(),dd=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new dl(lu.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new dl(lu.comparator)).toArray()},t}(),fd=function(){function t(){this.qt=new dd}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:dh(i)};return pd(t).put(o)}return Dh.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[ru(e),""],!1,!0);return pd(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(gh(o.parent))}return n})},t}();function pd(t){return Gh(t,kh.store)}var gd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},md=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function yd(t,e,n){var r=t.store(vh.store),i=t.store(_h.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){Za(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=_h.key(e,d.key.path,n.batchId);o.push(i.delete(f)),c.push(d.key)}return Dh.waitFor(o).next(function(){return c})}function bd(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ya();e=t.noDocument}return JSON.stringify(e).length}md.DEFAULT_COLLECTION_PERCENTILE=10,md.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,md.DEFAULT=new md(41943040,md.DEFAULT_COLLECTION_PERCENTILE,md.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),md.DISABLED=new md(-1,0,0);var vd=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return Za(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return wd(t).$t({index:vh.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Cd(t),s=wd(t);return s.add({}).next(function(a){Za("number"==typeof a);for(var u=new $h(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Yl(t.Lt,e)}),i=n.mutations.map(function(e){return Yl(t.Lt,e)});return new vh(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new dl(function(t,e){return eu(t.canonicalString(),e.canonicalString())}),d=0,f=r;d<f.length;d++){var p=f[d],g=_h.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(g,_h.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Kt[a]=u.keys()}),Dh.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return wd(t).get(e).next(function(t){return t?(Za(t.userId===n.userId),id(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?Dh.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return wd(t).$t({index:vh.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Za(e.batchId>=r),o=id(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return wd(t).$t({index:vh.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return wd(t).Nt(vh.userMutationsIndex,n).next(function(t){return t.map(function(t){return id(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=_h.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Cd(t).$t({range:i},function(r,i,s){var a=r[0],u=r[2],c=gh(r[1]);if(a===n.userId&&e.path.isEqual(c))return wd(t).get(u).next(function(t){if(!t)throw Ya();Za(t.userId===n.userId),o.push(id(n.R,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new dl(eu),i=[];return e.forEach(function(e){var o=_h.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Cd(t).$t({range:s},function(t,i,o){var s=t[0],a=t[2],u=gh(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),Dh.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=_h.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new dl(eu);return Cd(t).$t({range:s},function(t,e,o){var s=t[0],u=t[2],c=gh(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(wd(t).get(e).next(function(t){if(null===t)throw Ya();Za(t.userId===n.userId),r.push(id(n.R,t))}))}),Dh.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return yd(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),Dh.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Dh.resolve();var r=IDBKeyRange.lowerBound(_h.prefixForUser(e.userId)),i=[];return Cd(t).$t({range:r},function(t,n,r){if(t[0]===e.userId){var o=gh(t[1]);i.push(o)}else r.done()}).next(function(){Za(0===i.length)})})},t.prototype.containsKey=function(t,e){return _d(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Od(t).get(this.userId).next(function(t){return t||new bh(e.userId,-1,"")})},t}();function _d(t,e,n){var r=_h.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Cd(t).$t({range:o,Ft:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function wd(t){return Gh(t,vh.store)}function Cd(t){return Gh(t,_h.store)}function Od(t){return Gh(t,bh.store)}var xd=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Sd=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new xd(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return ou.fromTimestamp(new iu(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Td(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return Za(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return Td(t).$t(function(s,a){var u=od(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return Dh.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return Td(t).$t(function(t,n){var r=od(n);e(r)})},t.prototype.Xt=function(t){return Ed(t).get(Eh.key).next(function(t){return Za(null!==t),t})},t.prototype.Zt=function(t,e){return Ed(t).put(Eh.key,e)},t.prototype.te=function(t,e){return Td(t).put(sd(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Wu(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Td(t).$t({range:r,index:Sh.queryTargetsIndexName},function(t,n,r){var o=od(n);Ku(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=kd(t);return e.forEach(function(e){var s=dh(e.path);i.push(o.put(new Th(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))}),Dh.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=kd(t);return Dh.forEach(e,function(e){var o=dh(e.path);return Dh.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=kd(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=kd(t),i=wl();return r.$t({range:n,Ft:!0},function(t,e,n){var r=gh(t[1]),o=new Su(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=dh(e.path),r=IDBKeyRange.bound([n],[ru(n)],!1,!0),i=0;return kd(t).$t({index:Th.documentTargetsIndex,Ft:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return Td(t).get(e).next(function(t){return t?od(t):null})},t}();function Td(t){return Gh(t,Sh.store)}function Ed(t){return Gh(t,Eh.store)}function kd(t){return Gh(t,Th.store)}function Id(t){return Object(Ge.b)(this,void 0,void 0,function(){return Object(Ge.d)(this,function(e){if(t.code!==Ba.FAILED_PRECONDITION||t.message!==Mh)throw t;return Ka("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Nd(t,e){var n=t[1],r=e[1],i=eu(t[0],e[0]);return 0===i?eu(n,r):i}var jd=function(){function t(t){this.ne=t,this.buffer=new dl(Nd),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Nd(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Ad=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Ka("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(Ge.b)(e,void 0,void 0,function(){var e;return Object(Ge.d)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return qh(e=n.sent())?(Ka("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Id(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),Md=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Dh.resolve(qa.o);var r=new jd(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Ka("LruGarbageCollector","Garbage collection skipped; disabled"),Dh.resolve(gd)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(Ka("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),gd):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(Ka("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),Wa()<=Ar.a.DEBUG&&Ka("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Dh.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Pd=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Md(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return Rd(t,n)},t.prototype.removeReference=function(t,e,n){return Rd(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Rd(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return Od(t).Ot(function(r){return _d(t,r,e).next(function(t){return t&&(n=!0),Dh.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(s,a){if(a<=e){var u=n._e(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),kd(t).delete([0,dh(s.path)])})});i.push(u)}}).next(function(){return Dh.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Rd(t,e)},t.prototype.we=function(t,e){var n,r=kd(t),i=qa.o;return r.$t({index:Th.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==qa.o&&e(new Su(gh(n)),i),i=s,n=o):i=qa.o}).next(function(){i!==qa.o&&e(new Su(gh(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Rd(t,e){return kd(t).put(function(t,e){return new Th(0,dh(t.path),e)}(e,t.currentSequenceNumber))}var Dd=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){au(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return uu(this.inner)},t}(),Ld=function(){function t(){this.changes=new Dd(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:ou.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Bu.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Dh.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Fd=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return qd(t).put(Bd(e),n)},t.prototype.removeEntry=function(t,e){var n=qd(t),r=Bd(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return qd(t).get(Bd(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return qd(t).get(Bd(e)).next(function(t){return{document:n.ye(e,t),size:bd(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=gl();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=gl(),i=new cl(Su.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,bd(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Dh.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return qd(t).$t({range:r},function(t,e,r){for(var s=Su.fromSegments(t);o&&Su.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=gl(),o=e.path.length+1,s={};if(n.isEqual(ou.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=td(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Oh.collectionReadTimeIndex}return qd(t).$t(s,function(t,n,s){if(t.length===o){var a=Xh(r.R,n);e.path.isPrefixOf(a.key.path)?Oc(e,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new Ud(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Vd(t).get(xh.key).next(function(t){return Za(!!t),t})},t.prototype.me=function(t,e){return Vd(t).put(xh.key,e)},t.prototype.ye=function(t,e){if(e){var n=Xh(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(ou.min()))return n}return Bu.newInvalidDocument(t)},t}(),Ud=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Dd(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Ge.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new dl(function(t,e){return eu(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=Jh(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=bd(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=Jh(e.Ie.R,Bu.newNoDocument(o,ou.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),Dh.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(Ld);function Vd(t){return Gh(t,xh.store)}function qd(t){return Gh(t,Oh.store)}function Bd(t){return t.path.toArray()}var zd=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Za(n<r&&n>=0&&r<=11);var o=new Lh("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(yh.store)}(t),function(t){t.createObjectStore(bh.store,{keyPath:bh.keyPath}),t.createObjectStore(vh.store,{keyPath:vh.keyPath,autoIncrement:!0}).createIndex(vh.userMutationsIndex,vh.userMutationsKeyPath,{unique:!0}),t.createObjectStore(_h.store)}(t),Hd(t),function(t){t.createObjectStore(Oh.store)}(t));var s=Dh.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Th.store),t.deleteObjectStore(Sh.store),t.deleteObjectStore(Eh.store)}(t),Hd(t)),s=s.next(function(){return function(t){var e=t.store(Eh.store),n=new Eh(0,0,ou.min().toTimestamp(),0);return e.put(Eh.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(vh.store).Nt().next(function(n){t.deleteObjectStore(vh.store),t.createObjectStore(vh.store,{keyPath:vh.keyPath,autoIncrement:!0}).createIndex(vh.userMutationsIndex,vh.userMutationsKeyPath,{unique:!0});var r=e.store(vh.store),i=n.map(function(t){return r.put(t)});return Dh.waitFor(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(Ih.store,{keyPath:Ih.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Re(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(xh.store)}(t),i.be(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ve(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Oh.store);e.createIndex(Oh.readTimeIndex,Oh.readTimeIndexPath,{unique:!1}),e.createIndex(Oh.collectionReadTimeIndex,Oh.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Ve(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(Nh.store,{keyPath:Nh.keyPath})}(t),function(t){t.createObjectStore(jh.store,{keyPath:jh.keyPath})}(t)})),s},t.prototype.be=function(t){var e=0;return t.store(Oh.store).$t(function(t,n){e+=bd(n)}).next(function(){var n=new xh(e);return t.store(xh.store).put(xh.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(bh.store),r=t.store(vh.store);return n.Nt().next(function(n){return Dh.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(vh.userMutationsIndex,i).next(function(r){return Dh.forEach(r,function(r){Za(r.userId===n.userId);var i=id(e.R,r);return yd(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(Th.store),n=t.store(Oh.store);return t.store(Eh.store).get(Eh.key).next(function(t){var r=[];return n.$t(function(n,i){var o=new lu(n),s=function(t){return[0,dh(t)]}(o);r.push(e.get(s).next(function(n){return n?Dh.resolve():function(n){return e.put(new Th(0,dh(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Dh.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(kh.store,{keyPath:kh.keyPath});var n=e.store(kh.store),r=new dd,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:dh(i)})}};return e.store(Oh.store).$t({Ft:!0},function(t,e){var n=new lu(t);return i(n.popLast())}).next(function(){return e.store(_h.store).$t({Ft:!0},function(t,e){var n=gh(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(Sh.store);return n.$t(function(t,r){var i=od(r),o=sd(e.R,i);return n.put(o)})},t}();function Hd(t){t.createObjectStore(Th.store,{keyPath:Th.keyPath}).createIndex(Th.documentTargetsIndex,Th.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Sh.store,{keyPath:Sh.keyPath}).createIndex(Sh.queryTargetsIndexName,Sh.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Eh.store)}var Wd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Kd=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new za(Ba.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Pd(this,i),this.Le=n+"main",this.R=new Zh(u),this.Be=new Fh(this.Le,11,new zd(this.R)),this.qe=new Sd(this.referenceDelegate,this.R),this.Ut=new fd,this.Ue=function(t,e){return new Fd(t,e)}(this.R,this.Ut),this.Ke=new ud,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&Ga("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new za(Ba.FAILED_PRECONDITION,Wd);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new qa(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(Ge.b)(e,void 0,void 0,function(){return Object(Ge.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(Ge.b)(e,void 0,void 0,function(){return Object(Ge.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(Ge.b)(e,void 0,void 0,function(){return Object(Ge.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return $d(e).put(new Ih(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(qh(e))return Ka("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Ka("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return Gd(t).get(yh.key).next(function(t){return Dh.resolve(e.tn(t))})},t.prototype.en=function(t){return $d(t).delete(this.clientId)},t.prototype.nn=function(){return Object(Ge.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(Ge.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Gh(t,Ih.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Dh.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)this.Qe.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Dh.resolve(!0):Gd(t).get(yh.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new za(Ba.FAILED_PRECONDITION,Wd);return!1}}return!(!e.networkEnabled||!e.inForeground)||$d(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Ka("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(Ge.b)(this,void 0,void 0,function(){var t=this;return Object(Ge.d)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[yh.store,Ih.store],function(e){var n=new Kh(e,qa.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return $d(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return vd.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Ka("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",Ah,function(o){return r=new Kh(o,i.Ne?i.Ne.next():qa.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw Ga("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new za(Ba.FAILED_PRECONDITION,Mh);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return Gd(t).get(yh.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new za(Ba.FAILED_PRECONDITION,Wd)})},t.prototype.Ze=function(t){var e=new yh(this.clientId,this.allowTabSynchronization,Date.now());return Gd(t).put(yh.key,e)},t.yt=function(){return Fh.yt()},t.prototype.Xe=function(t){var e=this,n=Gd(t);return n.get(yh.key).next(function(t){return e.tn(t)?(Ka("IndexedDbPersistence","Releasing primary lease."),n.delete(yh.key)):Dh.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Ga("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ke=function(){e.un(),Object($e.A)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return Ka("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Ga("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Ga("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Gd(t){return Gh(t,yh.store)}function $d(t){return Gh(t,Ih.store)}function Qd(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Yd=function(t,e){this.progress=t,this.wn=e},Zd=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Su.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):mc(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new Su(e)).next(function(t){var e=yl();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=yl();return this.Ut.getCollectionParents(t,i).next(function(s){return Dh.forEach(s,function(s){var a=function(t,e){return new cc(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=Bu.newInvalidDocument(c),r=r.insert(c,l)),Gc(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){Oc(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=wl(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Xc&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),Xd=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=wl(),i=wl(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Jd=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(ou.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var s=i.Cn(e,o);return(dc(e)||fc(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(Wa()<=Ar.a.DEBUG&&Ka("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Cc(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new dl(xc(t));return e.forEach(function(e,r){Oc(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Wa()<=Ar.a.DEBUG&&Ka("QueryEngine","Using full collection scan to execute query:",Cc(e)),this.Sn.getDocumentsMatchingQuery(t,e,ou.min())},t}(),tf=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.kn=new cl(eu),this.Fn=new Dd(function(t){return Wu(t)},Ku),this.$n=ou.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Zd(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.kn)})},t}();function ef(t,e,n,r){return new tf(t,e,n,r)}function nf(t,e){return Object(Ge.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Ge.d)(this,function(s){switch(s.label){case 0:return n=Xa(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new Zd(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],s=wl(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.pn(t,s).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function rf(t,e){var n=Xa(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Dh.resolve();return o.forEach(function(t){s=s.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);Za(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),s.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function of(t){var e=Xa(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function sf(t,e){var n=Xa(t),r=e.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var s=[];e.targetChanges.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Za(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}});var a=gl();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),s.push(af(t,o,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(ou.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});s.push(u)}return Dh.waitFor(s).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.kn=i,t})}function af(t,e,n,r,i){var o=wl();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=gl();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(ou.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):Ka("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function uf(t,e){var n=Xa(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function cf(t,e){var n=Xa(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?Dh.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new Yh(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.kn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(t.targetId,t),n.Fn.set(e,t.targetId)),t})}function lf(t,e,n){return Object(Ge.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Ge.d)(this,function(a){switch(a.label){case 0:r=Xa(t),i=r.kn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!qh(s=a.sent()))throw s;return Ka("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.kn=r.kn.remove(e),r.Fn.delete(i.target),[2]}})})}function hf(t,e,n){var r=Xa(t),i=ou.min(),o=wl();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Xa(t),i=r.Fn.get(n);return void 0!==i?Dh.resolve(r.kn.get(i)):r.qe.getTargetData(e,n)}(r,t,bc(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:ou.min(),n?o:wl())}).next(function(t){return{documents:t,Bn:o}})})}function df(t,e){var n=Xa(t),r=Xa(n.qe),i=n.kn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function ff(t){var e=Xa(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Xa(t),i=gl(),o=td(n),s=qd(e),a=IDBKeyRange.lowerBound(o,!0);return s.$t({index:Oh.readTimeIndex,range:a},function(t,e){var n=Xh(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:ed(o)}})}(e.On,t,e.$n)}).then(function(t){var n=t.wn;return e.$n=t.readTime,n})}function pf(t){return Object(Ge.b)(this,void 0,void 0,function(){var e;return Object(Ge.d)(this,function(n){return[2,(e=Xa(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=qd(t),n=ou.min();return e.$t({index:Oh.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=ed(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$n=t})]})})}function gf(t,e,n,r){return Object(Ge.b)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,d,f;return Object(Ge.d)(this,function(p){switch(p.label){case 0:for(i=Xa(t),o=wl(),s=gl(),a=vl(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Kn(l.metadata.readTime));return d=i.On.newChangeBuffer({trackRemovals:!0}),[4,cf(i,function(t){return bc(hc(lu.fromString("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return af(t,d,s,ou.min(),a).next(function(e){return d.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,f.targetId).next(function(){return i.qe.addMatchingKeys(t,o,f.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function mf(t,e,n){return void 0===n&&(n=wl()),Object(Ge.b)(this,void 0,void 0,function(){var r,i;return Object(Ge.d)(this,function(o){switch(o.label){case 0:return[4,cf(t,bc(ad(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Xa(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=Ul(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(t,e);var s=r.withResumeToken(pu.EMPTY_BYTE_STRING,o);return i.kn=i.kn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(t,e)})})]}})})}var yf=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Dh.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:Ul(n.createTime)}),Dh.resolve()},t.prototype.getNamedQuery=function(t,e){return Dh.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:ad(t.bundledQuery),readTime:Ul(t.readTime)}}(e)),Dh.resolve()},t}(),bf=function(){function t(){this.Wn=new dl(vf.Gn),this.zn=new dl(vf.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new vf(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new vf(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new Su(new lu([])),r=new vf(n,t),i=new vf(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new Su(new lu([])),n=new vf(e,t),r=new vf(e,t+1),i=wl();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new vf(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),vf=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return Su.comparator(t.key,e.key)||eu(t.ns,e.ns)},t.Hn=function(t,e){return eu(t.ns,e.ns)||Su.comparator(t.key,e.key)},t}(),_f=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new dl(vf.Gn)}return t.prototype.checkEmpty=function(t){return Dh.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new $h(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new vf(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Dh.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Dh.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return Dh.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Dh.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Dh.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new vf(e,0),i=new vf(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),Dh.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new dl(eu);return e.forEach(function(t){var e=new vf(t,0),i=new vf(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),Dh.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Su.isDocumentKey(i)||(i=i.child(""));var o=new vf(new Su(i),0),s=new dl(eu);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)},o),Dh.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Za(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Dh.forEach(e.mutations,function(i){var o=new vf(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new vf(e,0),r=this.rs.firstAfterOrEqual(n);return Dh.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Dh.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),wf=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new cl(Su.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Dh.resolve(n?n.document.clone():Bu.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=gl();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Bu.newInvalidDocument(t))}),Dh.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=gl(),i=new Su(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||Oc(e,u)&&(r=r.insert(u.key,u.clone()))}return Dh.resolve(r)},t.prototype.fs=function(t,e){return Dh.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new Cf(this)},t.prototype.getSize=function(t){return Dh.resolve(this.size)},t}(),Cf=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(Ge.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),Dh.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Ld),Of=function(){function t(t){this.persistence=t,this.ds=new Dd(function(t){return Wu(t)},Ku),this.lastRemoteSnapshotVersion=ou.min(),this.highestTargetId=0,this.ws=0,this._s=new bf,this.targetCount=0,this.ys=xd.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),Dh.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Dh.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Dh.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Dh.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Dh.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new xd(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Dh.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Dh.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Dh.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Dh.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return Dh.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Dh.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Dh.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Dh.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Dh.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Dh.resolve(n)},t.prototype.containsKey=function(t,e){return Dh.resolve(this._s.containsKey(e))},t}(),xf=function(){function t(t,e){var n=this;this.gs={},this.Ne=new qa(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Of(this),this.Ut=new hd,this.Ue=function(t,e){return new wf(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new Zh(e),this.Ke=new yf(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new _f(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;Ka("MemoryPersistence","Starting transaction:",t);var i=new Sf(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return Dh.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),Sf=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(Ge.c)(e,t),e}(Ph),Tf=function(){function t(t){this.persistence=t,this.As=new bf,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Ya()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Dh.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Dh.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Dh.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Dh.forEach(this.vs,function(r){var i=Su.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Dh.or([function(){return Dh.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),Ef=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function kf(t,e){return"firestore_clients_"+t+"_"+e}function If(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Nf(t,e){return"firestore_targets_"+t+"_"+e}Ef.UNAUTHENTICATED=new Ef(null),Ef.GOOGLE_CREDENTIALS=new Ef("google-credentials-uid"),Ef.FIRST_PARTY=new Ef("first-party-uid"),Ef.MOCK_USER=new Ef("mock-user");var jf=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new za(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Ga("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Af=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new za(i.error.code,i.error.message)),o?new t(e,i.state,r):(Ga("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Mf=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Ol(),s=0;i&&s<r.activeTargetIds.length;++s)i=xu(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Ga("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Pf=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Ga("SharedClientState","Failed to parse online state: "+e),null)},t}(),Rf=function(){function t(){this.activeTargetIds=Ol()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Df=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new cl(eu),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=kf(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Rf),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Ge.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(Ge.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(kf(this.persistenceKey,r)))&&(o=Mf.Vs(r,i))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.$s;u<c.length;u++)this.ks(c[u]);return this.$s=[],this.window.addEventListener("pagehide",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.Fs.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Nf(this.persistenceKey,t));if(n){var r=Af.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Nf(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Ka("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Ka("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Ka("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.ks=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Ka("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Ga("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(Ge.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(Ge.d)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=qa.o;if(null!=t)try{var n=JSON.parse(t);Za("number"==typeof n),e=n}catch(t){Ga("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==qa.o&&this.sequenceNumberHandler(s);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new jf(this.currentUser,t,e,n),i=If(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=If(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=Nf(this.persistenceKey,t),i=new Af(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Mf.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return jf.Vs(new Ef(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Af.Vs(r,e)},t.prototype.js=function(t){return Pf.Vs(t)},t.prototype.ii=function(t){return Object(Ge.b)(this,void 0,void 0,function(){return Object(Ge.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Ka("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.Fs.insert(t,e):this.Fs.remove(t),i=this.Gs(this.Fs),o=this.Gs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.Fs=r})},t.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Ol();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),Lf=function(){function t(){this.li=new Rf,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Rf,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Ff=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Uf=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Ka("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Ka("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Vf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},qf=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Bf=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return Object(Ge.c)(e,t),e.prototype.Fi=function(t,e,n,r){return new Promise(function(i,o){var s=new Va;s.listenOnce(Da.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Ra.NO_ERROR:var e=s.getResponseJson();Ka("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Ra.TIMEOUT:Ka("Connection",'RPC "'+t+'" timed out'),o(new za(Ba.DEADLINE_EXCEEDED,"Request time out"));break;case Ra.HTTP_ERROR:var n=s.getStatus();if(Ka("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Ba).indexOf(e)>=0?e:Ba.UNKNOWN}(r.status);o(new za(a,r.message))}else o(new za(Ba.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new za(Ba.UNAVAILABLE,"Connection failed."));break;default:Ya()}}finally{Ka("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Na,i=xo(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Fa({})),this.ki(o.initMessageHeaders,e),Object($e.w)()||Object($e.z)()||Object($e.t)()||Object($e.v)()||Object($e.B)()||Object($e.s)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Ka("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new qf({Ei:function(t){c?Ka("Connection","Not sending because WebChannel is closed:",t):(u||(Ka("Connection","Opening WebChannel transport."),a.open(),u=!0),Ka("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Ua.EventType.OPEN,function(){c||Ka("Connection","WebChannel transport opened.")}),h(a,Ua.EventType.CLOSE,function(){c||(c=!0,Ka("Connection","WebChannel transport closed"),l.Vi())}),h(a,Ua.EventType.ERROR,function(t){c||(c=!0,$a("Connection","WebChannel transport errored:",t),l.Vi(new za(Ba.UNAVAILABLE,"The operation could not be completed")))}),h(a,Ua.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Za(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Ka("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=nl[t];if(void 0!==e)return ul(e)}(i),s=r.message;void 0===o&&(o=Ba.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new za(o,s)),a.close()}else Ka("Connection","WebChannel received:",n),l.Si(n)}}),h(i,La.STAT_EVENT,function(t){10===t.stat?Ka("Connection","Detected buffering proxy"):11===t.stat&&Ka("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Ka("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(t,i,o,n).then(function(t){return Ka("RestConnection","Received: ",t),t},function(e){throw $a("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.ki=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+Vf[t]},t}());function zf(){return"undefined"!=typeof window?window:null}function Hf(){return"undefined"!=typeof document?document:null}function Wf(t){return new Rl(t,!0)}var Kf=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&Ka("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Gf=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Kf(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(Ge.b)(this,void 0,void 0,function(){return Object(Ge.d)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(Ge.b)(this,void 0,void 0,function(){return Object(Ge.d)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(Ge.b)(this,void 0,void 0,function(){return Object(Ge.d)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Ba.RESOURCE_EXHAUSTED?(Ga(e.toString()),Ga("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===Ba.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new za(Ba.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(Ge.b)(t,void 0,void 0,function(){return Object(Ge.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return Ka("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(Ka("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),$f=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return Object(Ge.c)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Ya()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Za(void 0===e||"string"==typeof e),pu.fromBase64String(e||"")):(Za(void 0===e||e instanceof Uint8Array),pu.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Ba.UNKNOWN:ul(t.code);return new za(e,t.message||"")}(a);n=new kl(r,i,o,s||null)}else if("documentChange"in e){i=zl(t,(r=e.documentChange).document.name),o=Ul(r.document.updateTime);var a=new Vu({mapValue:{fields:r.document.fields}}),u=(s=Bu.newFoundDocument(i,o,a),r.targetIds||[]);n=new Tl(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=zl(t,(r=e.documentDelete).document),o=r.readTime?Ul(r.readTime):ou.min(),a=Bu.newNoDocument(i,o),n=new Tl([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=zl(t,(r=e.documentRemove).document),n=new Tl([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Ya();var c=e.filter;i=new sl(r=c.count||0),n=new El(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return ou.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?ou.min():e.readTime?Ul(e.readTime):ou.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Kl(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Gu(r)?{documents:Xl(t,r)}:{query:Jl(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Ll(t,e.resumeToken):e.snapshotVersion.compareTo(ou.min())>0&&(n.readTime=Dl(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ya()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Kl(this.R),e.removeTarget=t,this.cr(e)},e}(Gf),Qf=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return Object(Ge.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(Za(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Za(void 0!==e),t.map(function(t){return function(t,e){var n=Ul(t.updateTime?t.updateTime:e);return n.isEqual(ou.min())&&(n=Ul(e)),new Bc(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=Ul(t.commitTime);return this.listener.Tr(n,e)}return Za(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Kl(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Yl(e.R,t)})};this.cr(n)},e}(Gf),Yf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(Ge.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new za(Ba.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Ba.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new za(Ba.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Ba.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new za(Ba.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),Zf=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.kr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Ga(e),this.Vr=!1):Ka("OnlineStateTracker",e)},t.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Xf=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(Ge.b)(o,void 0,void 0,function(){return Object(Ge.d)(this,function(t){switch(t.label){case 0:return ap(this)?(Ka("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Ge.b)(this,void 0,void 0,function(){var e;return Object(Ge.d)(this,function(n){switch(n.label){case 0:return(e=Xa(t)).Or.add(4),[4,tp(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,Jf(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new Zf(n,r)};function Jf(t){return Object(Ge.b)(this,void 0,void 0,function(){var e,n;return Object(Ge.d)(this,function(r){switch(r.label){case 0:if(!ap(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function tp(t){return Object(Ge.b)(this,void 0,void 0,function(){var e,n;return Object(Ge.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function ep(t,e){var n=Xa(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),sp(n)?op(n):Cp(n).er()&&rp(n,e))}function np(t,e){var n=Xa(t),r=Cp(n);n.$r.delete(e),r.er()&&ip(n,e),0===n.$r.size&&(r.er()?r.ir():ap(n)&&n.Br.set("Unknown"))}function rp(t,e){t.qr.U(e.targetId),Cp(t).mr(e)}function ip(t,e){t.qr.U(e),Cp(t).yr(e)}function op(t){t.qr=new Nl({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),Cp(t).start(),t.Br.Sr()}function sp(t){return ap(t)&&!Cp(t).tr()&&t.$r.size>0}function ap(t){return 0===Xa(t).Or.size}function up(t){t.qr=void 0}function cp(t){return Object(Ge.b)(this,void 0,void 0,function(){return Object(Ge.d)(this,function(e){return t.$r.forEach(function(e,n){rp(t,e)}),[2]})})}function lp(t,e){return Object(Ge.b)(this,void 0,void 0,function(){return Object(Ge.d)(this,function(n){return up(t),sp(t)?(t.Br.Nr(e),op(t)):t.Br.set("Unknown"),[2]})})}function hp(t,e,n){return Object(Ge.b)(this,void 0,void 0,function(){var r,i,o;return Object(Ge.d)(this,function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof kl&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(Ge.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Ge.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.$r.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.$r.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Ka("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,dp(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Tl?t.qr.X(e):e instanceof El?t.qr.rt(e):t.qr.et(e),n.isEqual(ou.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,of(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(pu.EMPTY_BYTE_STRING,n.snapshotVersion)),ip(t,e);var r=new Yh(n.target,e,1,n.sequenceNumber);rp(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Ka("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,dp(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function dp(t,e,n){return Object(Ge.b)(this,void 0,void 0,function(){var r=this;return Object(Ge.d)(this,function(i){switch(i.label){case 0:if(!qh(e))throw e;return t.Or.add(1),[4,tp(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return of(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(Ge.b)(r,void 0,void 0,function(){return Object(Ge.d)(this,function(e){switch(e.label){case 0:return Ka("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,Jf(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function fp(t,e){return e().catch(function(n){return dp(t,n,e)})}function pp(t){return Object(Ge.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(Ge.d)(this,function(s){switch(s.label){case 0:e=Xa(t),n=Op(e),r=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return ap(t)&&t.Fr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,uf(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.Fr.push(e);var n=Op(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,dp(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return gp(e)&&mp(e),[2]}})})}function gp(t){return ap(t)&&!Op(t).tr()&&t.Fr.length>0}function mp(t){Op(t).start()}function yp(t){return Object(Ge.b)(this,void 0,void 0,function(){return Object(Ge.d)(this,function(e){return Op(t).Ar(),[2]})})}function bp(t){return Object(Ge.b)(this,void 0,void 0,function(){var e,n,r;return Object(Ge.d)(this,function(i){for(e=Op(t),n=0,r=t.Fr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function vp(t,e,n){return Object(Ge.b)(this,void 0,void 0,function(){var r,i;return Object(Ge.d)(this,function(o){switch(o.label){case 0:return r=t.Fr.shift(),i=Qh.from(r,e,n),[4,fp(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,pp(t)];case 2:return o.sent(),[2]}})})}function _p(t,e){return Object(Ge.b)(this,void 0,void 0,function(){return Object(Ge.d)(this,function(n){switch(n.label){case 0:return e&&Op(t).pr?[4,function(t,e){return Object(Ge.b)(this,void 0,void 0,function(){var n,r;return Object(Ge.d)(this,function(i){switch(i.label){case 0:return al(r=e.code)&&r!==Ba.ABORTED?(n=t.Fr.shift(),Op(t).sr(),[4,fp(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,pp(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return gp(t)&&mp(t),[2]}})})}function wp(t,e){return Object(Ge.b)(this,void 0,void 0,function(){var n;return Object(Ge.d)(this,function(r){switch(r.label){case 0:return n=Xa(t),e?(n.Or.delete(2),[4,Jf(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,tp(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Cp(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Xa(t);return r.br(),new $f(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:cp.bind(null,t),Ri:lp.bind(null,t),_r:hp.bind(null,t)}),t.Mr.push(function(n){return Object(Ge.b)(e,void 0,void 0,function(){return Object(Ge.d)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),sp(t)?op(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),up(t),e.label=3;case 3:return[2]}})})})),t.Ur}function Op(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=Xa(t);return r.br(),new Qf(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:yp.bind(null,t),Ri:_p.bind(null,t),Ir:bp.bind(null,t),Tr:vp.bind(null,t)}),t.Mr.push(function(n){return Object(Ge.b)(e,void 0,void 0,function(){return Object(Ge.d)(this,function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,pp(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.Fr.length>0&&(Ka("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),e.label=4;case 4:return[2]}})})})),t.Kr}var xp=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Rh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new za(Ba.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Sp(t,e){if(Ga("AsyncQueue",e+": "+t),qh(t))return new za(Ba.UNAVAILABLE,e+": "+t);throw t}var Tp=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Su.comparator(e.key,n.key)}:function(t,e){return Su.comparator(t.key,e.key)},this.keyedMap=yl(),this.sortedSet=new cl(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Ep=function(){function t(){this.Qr=new cl(Su.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):Ya():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),kp=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,Tp.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_c(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Ip=function(){this.Wr=void 0,this.listeners=[]},Np=function(){this.queries=new Dd(function(t){return wc(t)},_c),this.onlineState="Unknown",this.Gr=new Set};function jp(t,e){return Object(Ge.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(Ge.d)(this,function(c){switch(c.label){case 0:if(n=Xa(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Ip),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=Sp(a,"Initialization of query '"+Cc(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&Rp(n),[2]}})})}function Ap(t,e){return Object(Ge.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Ge.d)(this,function(a){return n=Xa(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Mp(t,e){for(var n=Xa(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&Rp(n)}function Pp(t,e,n){var r=Xa(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Rp(t){t.Gr.forEach(function(t){t.next()})}var Dp=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new kp(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=kp.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Lp=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),Fp=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return zl(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Ql(this.R,t.document,!1):Bu.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return Ul(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new Fp(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||wl()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Ge.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(Ge.d)(this,function(o){switch(o.label){case 0:return[4,gf(this.localStore,new Fp(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,mf(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Yd(Object.assign({},this.progress),t))]}})})}}();var Up=function(t){this.key=t},Vp=function(t){this.key=t},qp=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=wl(),this.mutatedKeys=wl(),this.lo=xc(t),this.fo=new Tp(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new Ep,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=dc(this.query)&&i.size===this.query.limit?i.last():null,c=fc(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=Oc(n.query,e)?e:null,d=!!l&&n.mutatedKeys.has(l.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=f?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),dc(this.query)||fc(this.query))for(;s.size>this.query.limit;){var l=dc(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ya()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new kp(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Ep,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=wl(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new Vp(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new Up(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=wl();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return kp.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Bp=function(t,e,n){this.query=t,this.targetId=e,this.view=n},zp=function(t){this.key=t,this.bo=!1},Hp=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Dd(function(t){return wc(t)},_c),this.Vo=new Map,this.So=new Set,this.Do=new cl(Su.comparator),this.Co=new Map,this.No=new bf,this.xo={},this.ko=new Map,this.Fo=xd.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function Wp(t,e){return Object(Ge.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Ge.d)(this,function(a){switch(a.label){case 0:return n=_g(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,cf(n.localStore,bc(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,Kp(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&ep(n.remoteStore,o),a.label=4;case 4:return[2,r]}})})}function Kp(t,e,n,r){return Object(Ge.b)(this,void 0,void 0,function(){var i,o,s,a,u,c;return Object(Ge.d)(this,function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return Object(Ge.b)(this,void 0,void 0,function(){var i,o,s;return Object(Ge.d)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,hf(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(og(t,e.targetId,s.To),s.snapshot)]}})})}(t,e,n,r)},[4,hf(t.localStore,e,!0)];case 1:return i=l.sent(),o=new qp(e,i.Bn),s=o._o(i.documents),a=Sl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),og(t,n,u.To),c=new Bp(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function Gp(t,e){return Object(Ge.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ge.d)(this,function(o){switch(o.label){case 0:return n=Xa(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!_c(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,lf(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),np(n.remoteStore,r.targetId),rg(n,r.targetId)}).catch(Id)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return rg(n,r.targetId),[4,lf(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function $p(t,e,n){return Object(Ge.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Ge.d)(this,function(a){switch(a.label){case 0:r=wg(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Xa(t),i=iu.now(),o=e.reduce(function(t,e){return t.add(e.key)},wl());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=$c(c,n.get(c.key));null!=l&&s.push(new Xc(c.key,l,qu(l.value.mapValue),zc.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new cl(eu)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,ug(r,i.changes)];case 3:return a.sent(),[4,pp(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Sp(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function Qp(t,e){return Object(Ge.b)(this,void 0,void 0,function(){var n,r;return Object(Ge.d)(this,function(i){switch(i.label){case 0:n=Xa(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,sf(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(Za(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Za(r.bo):t.removedDocuments.size>0&&(Za(r.bo),r.bo=!1))}),[4,ug(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Id(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Yp(t,e,n){var r=Xa(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Xa(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&Rp(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Zp(t,e,n){return Object(Ge.b)(this,void 0,void 0,function(){var r,i,o,s,a,u;return Object(Ge.d)(this,function(c){switch(c.label){case 0:return(r=Xa(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new cl(Su.comparator)).insert(o,Bu.newNoDocument(o,ou.min())),a=wl().add(o),u=new xl(ou.min(),new Map,new dl(eu),s,a),[4,Qp(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),ag(r),[3,4];case 2:return[4,lf(r.localStore,e,!1).then(function(){return rg(r,e,n)}).catch(Id)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Xp(t,e){return Object(Ge.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ge.d)(this,function(o){switch(o.label){case 0:n=Xa(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,rf(n.localStore,e)];case 2:return i=o.sent(),ng(n,r,null),eg(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,ug(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Id(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Jp(t,e,n){return Object(Ge.b)(this,void 0,void 0,function(){var r,i;return Object(Ge.d)(this,function(o){switch(o.label){case 0:r=Xa(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Xa(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return Za(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),ng(r,e,n),eg(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,ug(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Id(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function tg(t,e){return Object(Ge.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Ge.d)(this,function(a){switch(a.label){case 0:ap((n=Xa(t)).remoteStore)||Ka("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Xa(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.ko.get(r)||[]).push(e),n.ko.set(r,i),[3,4]);case 3:return o=a.sent(),s=Sp(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function eg(t,e){(t.ko.get(e)||[]).forEach(function(t){t.resolve()}),t.ko.delete(e)}function ng(t,e,n){var r=Xa(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function rg(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||ig(t,e)})}function ig(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(np(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),ag(t))}function og(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Up?(t.No.addReference(o.key,e),sg(t,o)):o instanceof Vp?(Ka("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||ig(t,o.key)):Ya()}}function sg(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Ka("SyncEngine","New document in limbo: "+n),t.So.add(r),ag(t))}function ag(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Su(lu.fromString(e)),r=t.Fo.next();t.Co.set(r,new zp(n)),t.Do=t.Do.insert(n,r),ep(t.remoteStore,new Yh(bc(hc(n.path)),r,2,qa.o))}}function ug(t,e,n){return Object(Ge.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Ge.d)(this,function(a){switch(a.label){case 0:return r=Xa(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){s.push(r.Oo(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Xd.Pn(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(Ge.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return Object(Ge.d)(this,function(l){switch(l.label){case 0:n=Xa(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Dh.forEach(e,function(e){return Dh.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Dh.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!qh(r=l.sent()))throw r;return Ka("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.kn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.kn=n.kn.insert(a,c));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function cg(t,e){return Object(Ge.b)(this,void 0,void 0,function(){var n,r;return Object(Ge.d)(this,function(i){switch(i.label){case 0:return(n=Xa(t)).currentUser.isEqual(e)?[3,3]:(Ka("SyncEngine","User change. New user:",e.toKey()),[4,nf(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.ko.forEach(function(t){t.forEach(function(t){t.reject(new za(Ba.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.ko.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,ug(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function lg(t,e){var n=Xa(t),r=n.Co.get(e);if(r&&r.bo)return wl().add(r.key);var i=wl(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);i=i.unionWith(u.view.wo)}return i}function hg(t,e){return Object(Ge.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ge.d)(this,function(o){switch(o.label){case 0:return[4,hf((n=Xa(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&og(n,e.targetId,i.To),i)]}})})}function dg(t){return Object(Ge.b)(this,void 0,void 0,function(){var e;return Object(Ge.d)(this,function(n){return[2,ff((e=Xa(t)).localStore).then(function(t){return ug(e,t)})]})})}function fg(t,e,n,r){return Object(Ge.b)(this,void 0,void 0,function(){var i,o;return Object(Ge.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=Xa(t),r=Xa(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):Dh.resolve(null)})})}((i=Xa(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,pp(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(ng(i,e,r||null),eg(i,e),function(t,e){Xa(Xa(t)._n).Gt(e)}(i.localStore,e)):Ya(),s.label=4;case 4:return[4,ug(i,o)];case 5:return s.sent(),[3,7];case 6:Ka("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function pg(t,e){return Object(Ge.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(Ge.d)(this,function(c){switch(c.label){case 0:return _g(n=Xa(t)),wg(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,gg(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,wp(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)ep(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return rg(n,e),lf(n.localStore,e,!0)}),np(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,gg(n,a)];case 5:return c.sent(),function(t){var e=Xa(t);e.Co.forEach(function(t,n){np(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new cl(Su.comparator)}(n),n.$o=!1,[4,wp(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function gg(t,e,n){return Object(Ge.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,d,f,p;return Object(Ge.d)(this,function(g){switch(g.label){case 0:n=Xa(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Vo.get(a=s[o]))&&0!==c.length?[4,cf(n.localStore,bc(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(d=n.Po.get(h[l]),[4,hg(n,d)]):[3,6];case 4:(f=g.sent()).snapshot&&i.push(f.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,df(n.localStore,a)];case 8:return p=g.sent(),[4,cf(n.localStore,p)];case 9:return u=g.sent(),[4,Kp(n,mg(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function mg(t){return lc(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function yg(t){var e=Xa(t);return Xa(Xa(e.localStore).persistence).fn()}function bg(t,e,n,r){return Object(Ge.b)(this,void 0,void 0,function(){var i,o,s;return Object(Ge.d)(this,function(a){switch(a.label){case 0:return(i=Xa(t)).$o?(Ka("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,ff(i.localStore)];case 3:return o=a.sent(),s=xl.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,ug(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,lf(i.localStore,e,!0)];case 6:return a.sent(),rg(i,e,r),[3,8];case 7:Ya(),a.label=8;case 8:return[2]}})})}function vg(t,e,n){return Object(Ge.b)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return Object(Ge.d)(this,function(d){switch(d.label){case 0:if(!(r=_g(t)).$o)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(Ka("SyncEngine","Adding an already active target "+s),[3,5]):[4,df(r.localStore,s)]:[3,6];case 2:return a=d.sent(),[4,cf(r.localStore,a)];case 3:return u=d.sent(),[4,Kp(r,mg(a),u.targetId,!1)];case 4:d.sent(),ep(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Ge.d)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,lf(r.localStore,t,!1).then(function(){np(r.remoteStore,t),rg(r,t)}).catch(Id)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,d.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function _g(t){var e=Xa(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Qp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lg.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Zp.bind(null,e),e.vo._r=Mp.bind(null,e.eventManager),e.vo.Mo=Pp.bind(null,e.eventManager),e}function wg(t){var e=Xa(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Xp.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Jp.bind(null,e),e}var Cg=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Ge.b)(this,void 0,void 0,function(){return Object(Ge.d)(this,function(e){switch(e.label){case 0:return this.R=Wf(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return ef(this.persistence,new Jd,t.initialUser,this.R)},t.prototype.qo=function(t){return new xf(Tf.bs,this.R)},t.prototype.Bo=function(t){return new Lf},t.prototype.terminate=function(){return Object(Ge.b)(this,void 0,void 0,function(){return Object(Ge.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),Og=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Ge.c)(e,t),e.prototype.initialize=function(e){return Object(Ge.b)(this,void 0,void 0,function(){var n=this;return Object(Ge.d)(this,function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),[4,pf(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,e)];case 3:return r.sent(),[4,wg(this.Qo.syncEngine)];case 4:return r.sent(),[4,pp(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He(function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()})];case 6:return r.sent(),[2]}})})},e.prototype.Ko=function(t){return ef(this.persistence,new Jd,t.initialUser,this.R)},e.prototype.Uo=function(t){return new Ad(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Qd(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?md.withCacheSize(this.cacheSizeBytes):md.DEFAULT;return new Kd(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,zf(),Hf(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Lf},e}(Cg),xg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Ge.c)(e,t),e.prototype.initialize=function(e){return Object(Ge.b)(this,void 0,void 0,function(){var n,r=this;return Object(Ge.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Df?(this.sharedClientState.syncEngine={ui:fg.bind(null,n),ai:bg.bind(null,n),hi:vg.bind(null,n),fn:yg.bind(null,n),ci:dg.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return Object(Ge.b)(r,void 0,void 0,function(){return Object(Ge.d)(this,function(e){switch(e.label){case 0:return[4,pg(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=zf();if(!Df.yt(e))throw new za(Ba.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Qd(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Df(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Og),Sg=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Ge.b)(this,void 0,void 0,function(){var n=this;return Object(Ge.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Yp(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=cg.bind(null,this.syncEngine),[4,wp(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new Np},t.prototype.createDatastore=function(t){var e=Wf(t.databaseInfo.databaseId),n=new Bf(t.databaseInfo);return function(t,e,n){return new Yf(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Yp(s.syncEngine,t,0)},o=Uf.yt()?new Uf:new Ff,new Xf(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new Hp(t,e,n,r,i,o);return s&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(Ge.b)(this,void 0,void 0,function(){var e;return Object(Ge.d)(this,function(n){switch(n.label){case 0:return e=Xa(t),Ka("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,tp(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),Tg=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Eg=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Rh,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(Ge.b)(this,void 0,void 0,function(){return Object(Ge.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(Ge.b)(this,void 0,void 0,function(){return Object(Ge.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(Ge.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(Ge.d)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Lp(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(Ge.b)(this,void 0,void 0,function(){var t,e;return Object(Ge.d)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(Ge.b)(this,void 0,void 0,function(){var e;return Object(Ge.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(Ge.b)(this,void 0,void 0,function(){var t,e;return Object(Ge.d)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(Ge.b)(this,void 0,void 0,function(){var e,n=this;return Object(Ge.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new za(Ba.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Ge.b)(this,void 0,void 0,function(){var n,r,i,o,s,a;return Object(Ge.d)(this,function(u){switch(u.label){case 0:return n=Xa(t),r=Kl(n.R)+"/documents",i={documents:e.map(function(t){return Bl(n.R,t)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Za(!!e.found);var n=zl(t,e.found.name),r=Ul(e.found.updateTime),i=new Vu({mapValue:{fields:e.found.fields}});return Bu.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Za(!!e.missing),Za(!!e.readTime);var n=zl(t,e.missing),r=Ul(e.readTime);return Bu.newNoDocument(n,r)}(t,e):Ya()}(n.R,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());Za(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new il(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(Ge.b)(this,void 0,void 0,function(){var t,e=this;return Object(Ge.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Su.fromPath(n);e.mutations.push(new ol(r,e.precondition(r)))}),[4,function(t,e){return Object(Ge.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ge.d)(this,function(o){switch(o.label){case 0:return n=Xa(t),r=Kl(n.R)+"/documents",i={writes:e.map(function(t){return Yl(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Ya();e=ou.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new za(Ba.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?zc.updateTime(e):zc.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(ou.min()))throw new za(Ba.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return zc.updateTime(e)}return zc.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),kg=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Kf(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(Ge.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Ge.d)(this,function(r){return t=new Eg(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Cu(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!al(e)}return!1},t}(),Ig=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Ef.UNAUTHENTICATED,this.clientId=tu.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return Object(Ge.b)(r,void 0,void 0,function(){return Object(Ge.d)(this,function(e){switch(e.label){case 0:return Ka("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return Object(Ge.b)(this,void 0,void 0,function(){return Object(Ge.d)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new za(Ba.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Rh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Ge.b)(t,void 0,void 0,function(){var t,n;return Object(Ge.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Sp(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Ng(t,e){return Object(Ge.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(Ge.d)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Ka("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return Object(Ge.b)(i,void 0,void 0,function(){return Object(Ge.d)(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,nf(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function jg(t,e){return Object(Ge.b)(this,void 0,void 0,function(){var n,r;return Object(Ge.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Ag(t)];case 1:return n=i.sent(),Ka("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return Object(Ge.b)(this,void 0,void 0,function(){var n,r;return Object(Ge.d)(this,function(i){switch(i.label){case 0:return(n=Xa(t)).asyncQueue.verifyOperationInProgress(),Ka("RemoteStore","RemoteStore received new credentials"),r=ap(n),n.Or.add(3),[4,tp(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,Jf(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function Ag(t){return Object(Ge.b)(this,void 0,void 0,function(){return Object(Ge.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Ka("FirestoreClient","Using default OfflineComponentProvider"),[4,Ng(t,new Cg)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Mg(t){return Object(Ge.b)(this,void 0,void 0,function(){return Object(Ge.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Ka("FirestoreClient","Using default OnlineComponentProvider"),[4,jg(t,new Sg)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function Pg(t){return Ag(t).then(function(t){return t.persistence})}function Rg(t){return Ag(t).then(function(t){return t.localStore})}function Dg(t){return Mg(t).then(function(t){return t.remoteStore})}function Lg(t){return Mg(t).then(function(t){return t.syncEngine})}function Fg(t){return Object(Ge.b)(this,void 0,void 0,function(){var e,n;return Object(Ge.d)(this,function(r){switch(r.label){case 0:return[4,Mg(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Wp.bind(null,e.syncEngine),n.onUnlisten=Gp.bind(null,e.syncEngine),n)]}})})}function Ug(t,e,n){var r=this;void 0===n&&(n={});var i=new Rh;return t.asyncQueue.enqueueAndForget(function(){return Object(Ge.b)(r,void 0,void 0,function(){var r;return Object(Ge.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Tg({next:function(o){e.enqueueAndForget(function(){return Ap(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new za(Ba.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new za(Ba.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Dp(hc(n.path),o,{includeMetadataChanges:!0,so:!0});return jp(t,s)},[4,Fg(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function Vg(t,e,n){var r=this;void 0===n&&(n={});var i=new Rh;return t.asyncQueue.enqueueAndForget(function(){return Object(Ge.b)(r,void 0,void 0,function(){var r;return Object(Ge.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Tg({next:function(n){e.enqueueAndForget(function(){return Ap(t,s)}),n.fromCache&&"server"===r.source?i.reject(new za(Ba.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Dp(n,o,{includeMetadataChanges:!0,so:!0});return jp(t,s)},[4,Fg(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var qg=function(t,e,n,r,i,o,s,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},Bg=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),zg=new Map,Hg=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Wg=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(Ef.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Kg=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Gg=function(){function t(t){var e=this;this.currentUser=Ef.UNAUTHENTICATED,this.oc=new Rh,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){Ka("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(Ka("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(Ka("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Za("string"==typeof n.accessToken),new Hg(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return Object(Ge.b)(n,void 0,void 0,function(){return Object(Ge.d)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Za(null===t||"string"==typeof t),new Ef(t)},t}(),$g=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=Ef.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),Qg=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new $g(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(Ef.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Yg(t,e,n){if(!n)throw new za(Ba.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Zg(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new za(Ba.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Xg(t,e,n,r){if(!0===e&&!0===r)throw new za(Ba.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Jg(t){if(!Su.isDocumentKey(t))throw new za(Ba.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function tm(t){if(Su.isDocumentKey(t))throw new za(Ba.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function em(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Ya()}function nm(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new za(Ba.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=em(t);throw new za(Ba.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function rm(t,e){if(e<=0)throw new za(Ba.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var im=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new za(Ba.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new za(Ba.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Xg("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),om=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new im({}),this._settingsFrozen=!1,t instanceof Bg?(this._databaseId=t,this._credentials=new Wg):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new za(Ba.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bg(t.options.projectId)}(t),this._credentials=new Gg(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new za(Ba.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new za(Ba.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new im(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Wg;switch(t.type){case"gapi":var e=t.client;return Za(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Qg(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new za(Ba.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=zg.get(this))&&(Ka("ComponentProvider","Removing Datastore"),zg.delete(this),t.terminate()),Promise.resolve();var t},t}(),sm=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new um(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),am=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),um=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,hc(r))||this)._path=r,i.type="collection",i}return Object(Ge.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new sm(this.firestore,null,new Su(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(am);function cm(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object($e.o)(t),Yg("collection","path",e),t instanceof om)return tm(n=lu.fromString.apply(lu,Object(Ge.f)([e],r))),new um(t,null,n);if(!(t instanceof sm||t instanceof um))throw new za(Ba.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return tm(n=lu.fromString.apply(lu,Object(Ge.f)([t.path],r)).child(lu.fromString(e))),new um(t.firestore,null,n)}function lm(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object($e.o)(t),1===arguments.length&&(e=tu.u()),Yg("doc","path",e),t instanceof om)return Jg(n=lu.fromString.apply(lu,Object(Ge.f)([e],r))),new sm(t,null,new Su(n));if(!(t instanceof sm||t instanceof um))throw new za(Ba.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Jg(n=t._path.child(lu.fromString.apply(lu,Object(Ge.f)([e],r)))),new sm(t.firestore,t instanceof um?t.converter:null,new Su(n))}function hm(t,e){return t=Object($e.o)(t),e=Object($e.o)(e),(t instanceof sm||t instanceof um)&&(e instanceof sm||e instanceof um)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function dm(t,e){return t=Object($e.o)(t),e=Object($e.o)(e),t instanceof am&&e instanceof am&&t.firestore===e.firestore&&_c(t._query,e._query)&&t.converter===e.converter}var fm=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Kf(this,"async_queue_retry"),this.Ic=function(){var e=Hf();e&&Ka("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Hf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=Hf();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise(function(){});var n=new Rh;return this.Rc(function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.bc()})},t.prototype.bc=function(){return Object(Ge.b)(this,void 0,void 0,function(){var t,e=this;return Object(Ge.d)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!qh(t=n.sent()))throw t;return Ka("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.bc()}),n.label=5;case 5:return[2]}})})},t.prototype.Rc=function(t){var e=this,n=this.dc.then(function(){return e.gc=!0,t().catch(function(t){throw e.yc=t,e.gc=!1,Ga("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.gc=!1,t})});return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=xp.createAndSchedule(this,t,e,n,function(t){return r.vc(t)});return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&Ya()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return Object(Ge.b)(this,void 0,void 0,function(){var t;return Object(Ge.d)(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then(function(){e.mc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()})},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function pm(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Rh,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var gm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new fm,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(Ge.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||ym(this),this._firestoreClient.terminate()},e}(om);function mm(t){return t._firestoreClient||ym(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function ym(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new qg(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Ig(t._credentials,t._queue,r)}function bm(t,e,n){var r=this,i=new Rh;return t.asyncQueue.enqueue(function(){return Object(Ge.b)(r,void 0,void 0,function(){var r;return Object(Ge.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Ng(t,n)];case 1:return o.sent(),[4,jg(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Ba.FAILED_PRECONDITION||t.code===Ba.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function vm(t){if(t._initialized||t._terminated)throw new za(Ba.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var _m=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new za(Ba.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new du(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),wm=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(pu.fromBase64String(e))}catch(e){throw new za(Ba.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(pu.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Cm=function(t){this._methodName=t},Om=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new za(Ba.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new za(Ba.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return eu(this._lat,t._lat)||eu(this._long,t._long)},t}(),xm=/^__.*__$/,Sm=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Xc(t,this.data,this.fieldMask,e,this.fieldTransforms):new Zc(t,this.data,e,this.fieldTransforms)},t}(),Tm=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Xc(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function Em(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ya()}}var km=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(t){return $m(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(Em(this.Nc)&&xm.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),Im=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Wf(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new km({Nc:t,methodName:e,qc:n,path:du.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Nm(t){var e=t._freezeSettings(),n=Wf(t._databaseId);return new Im(t._databaseId,!!e.ignoreUndefinedProperties,n)}function jm(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);Hm("Data must be an object, but it was:",s,r);var a,u,c=Bm(r,s);if(o.merge)a=new fu(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,d=o.mergeFields;h<d.length;h++){var f=Wm(e,d[h],n);if(!s.contains(f))throw new za(Ba.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");Qm(l,f)||l.push(f)}a=new fu(l),u=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=s.fieldTransforms;return new Sm(new Vu(c),a,u)}var Am=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ge.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw t.Lc(1===t.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Cm);function Mm(t,e,n){return new km({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Pm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ge.c)(e,t),e.prototype._toFieldTransform=function(t){return new qc(t.path,new Mc)},e.prototype.isEqual=function(t){return t instanceof e},e}(Cm),Rm=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Object(Ge.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Mm(this,t,!0),n=this.Kc.map(function(t){return qm(t,e)}),r=new Pc(n);return new qc(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Cm),Dm=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Object(Ge.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Mm(this,t,!0),n=this.Kc.map(function(t){return qm(t,e)}),r=new Dc(n);return new qc(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Cm),Lm=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return Object(Ge.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new Fc(t.R,kc(t.R,this.Qc));return new qc(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Cm);function Fm(t,e,n,r){var i=t.Uc(1,e,n);Hm("Data must be an object, but it was:",i,r);var o=[],s=Vu.empty();au(r,function(t,r){var a=Gm(e,t,n);r=Object($e.o)(r);var u=i.Oc(a);if(r instanceof Am)o.push(a);else{var c=qm(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new fu(o);return new Tm(s,a,i.fieldTransforms)}function Um(t,e,n,r,i,o){var s=t.Uc(1,e,n),a=[Wm(e,r,n)],u=[i];if(o.length%2!=0)throw new za(Ba.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Wm(e,o[c])),u.push(o[c+1]);for(var l=[],h=Vu.empty(),d=a.length-1;d>=0;--d)if(!Qm(l,a[d])){var f=a[d],p=u[d];p=Object($e.o)(p);var g=s.Oc(f);if(p instanceof Am)l.push(f);else{var m=qm(p,g);null!=m&&(l.push(f),h.set(f,m))}}var y=new fu(l);return new Tm(h,y,s.fieldTransforms)}function Vm(t,e,n,r){return void 0===r&&(r=!1),qm(n,t.Uc(r?4:3,e))}function qm(t,e){if(zm(t=Object($e.o)(t)))return Hm("Unsupported field value:",e,t),Bm(t,e);if(t instanceof Cm)return function(t,e){if(!Em(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=qm(o[i],e.Mc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object($e.o)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return kc(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=iu.fromDate(t);return{timestampValue:Dl(e.R,n)}}if(t instanceof iu)return n=new iu(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Dl(e.R,n)};if(t instanceof Om)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof wm)return{bytesValue:Ll(e.R,t._byteString)};if(t instanceof sm){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Vl(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+em(t))}(t,e)}function Bm(t,e){var n={};return uu(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):au(t,function(t,r){var i=qm(r,e.kc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function zm(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof iu||t instanceof Om||t instanceof wm||t instanceof sm||t instanceof Cm)}function Hm(t,e,n){if(!zm(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=em(n);throw e.Lc("an object"===r?t+" a custom object":t+" "+r)}}function Wm(t,e,n){if((e=Object($e.o)(e))instanceof _m)return e._internalPath;if("string"==typeof e)return Gm(t,e);throw $m("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Km=new RegExp("[~\\*/\\[\\]]");function Gm(t,e,n){if(e.search(Km)>=0)throw $m("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(_m.bind.apply(_m,Object(Ge.f)([void 0],e.split(".")))))._internalPath}catch(Qy){throw $m("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function $m(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new za(Ba.INVALID_ARGUMENT,(a+=". ")+t+u)}function Qm(t,e){return t.some(function(t){return t.isEqual(e)})}var Ym=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new sm(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Zm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Xm("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Zm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ge.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Ym);function Xm(t,e){return"string"==typeof e?Gm(t,e):e instanceof _m?e._internalPath:e._delegate._internalPath}var Jm=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),ty=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return Object(Ge.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new ey(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Xm("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Ym),ey=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ge.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(ty),ny=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Jm(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new ey(n._firestore,n._userDataWriter,r.key,r,new Jm(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new za(Ba.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new ey(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Jm(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new ey(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Jm(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:ry(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function ry(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ya()}}function iy(t,e){return t instanceof ty&&e instanceof ty?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof ny&&e instanceof ny&&t._firestore===e._firestore&&dm(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function oy(t){if(fc(t)&&0===t.explicitOrderBy.length)throw new za(Ba.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var sy=function(){};function ay(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var uy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return Object(Ge.c)(e,t),e.prototype._apply=function(t){var e=Nm(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new za(Ba.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){gy(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(py(r,t,l[c]));a={arrayValue:{values:u}}}else a=py(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||gy(s,o),a=Vm(n,"where",s,"in"===o||"not-in"===o);var h=$u.create(i,o,a);return function(t,e){if(e.g()){var n=gc(t);if(null!==n&&!n.isEqual(e.field))throw new za(Ba.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=pc(t);null!==r&&my(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new za(Ba.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new am(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new cc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(sy),cy=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return Object(Ge.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new za(Ba.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new za(Ba.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new oc(e,n);return function(t,e){if(null===pc(t)){var n=gc(t);null!==n&&my(0,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new am(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new cc(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(sy),ly=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(Ge.c)(e,t),e.prototype._apply=function(t){return new am(t.firestore,t.converter,vc(t._query,this.Hc,this.Jc))},e}(sy),hy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return Object(Ge.c)(e,t),e.prototype._apply=function(t){var e=fy(t,this.type,this.Yc,this.Xc);return new am(t.firestore,t.converter,function(t,e){return new cc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(sy),dy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return Object(Ge.c)(e,t),e.prototype._apply=function(t){var e=fy(t,this.type,this.Yc,this.Xc);return new am(t.firestore,t.converter,function(t,e){return new cc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(sy);function fy(t,e,n,r){if(n[0]=Object($e.o)(n[0]),n[0]instanceof Ym)return function(t,e,n,r,i){if(!r)throw new za(Ba.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=yc(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(Mu(e,r.key));else{var c=r.data.field(u.field);if(vu(c))throw new za(Ba.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new za(Ba.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new rc(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Nm(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new za(Ba.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new za(Ba.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!mc(t)&&-1!==c.indexOf("/"))throw new za(Ba.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(lu.fromString(c));if(!Su.isDocumentKey(l))throw new za(Ba.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Su(l);a.push(Mu(e,h))}else{var d=Vm(n,r,c);a.push(d)}}return new rc(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function py(t,e,n){if("string"==typeof(n=Object($e.o)(n))){if(""===n)throw new za(Ba.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!mc(e)&&-1!==n.indexOf("/"))throw new za(Ba.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(lu.fromString(n));if(!Su.isDocumentKey(r))throw new za(Ba.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Mu(t,new Su(r))}if(n instanceof sm)return Mu(t,n._key);throw new za(Ba.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+em(n)+".")}function gy(t,e){if(!Array.isArray(t)||0===t.length)throw new za(Ba.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new za(Ba.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function my(t,e,n){if(!n.isEqual(e))throw new za(Ba.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var yy=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Tu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return yu(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(bu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Ya()}},t.prototype.convertObject=function(t,e){var n=this,r={};return au(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new Om(yu(t.latitude),yu(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=_u(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(wu(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=mu(t);return new iu(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=lu.fromString(t);Za(hh(n));var r=new Bg(n.get(1),n.get(3)),i=new Su(n.popFirst(5));return r.isEqual(e)||Ga("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function by(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var vy=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ge.c)(e,t),e.prototype.convertBytes=function(t){return new wm(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new sm(this.firestore,null,e)},e}(yy),_y=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Nm(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=wy(t,this._firestore),i=by(r.converter,e,n),o=jm(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,zc.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=wy(t,this._firestore);return o="string"==typeof(e=Object($e.o)(e))||e instanceof _m?Um(this._dataReader,"WriteBatch.update",s._key,e,n,r):Fm(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,zc.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=wy(t,this._firestore);return this._mutations=this._mutations.concat(new il(e._key,zc.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new za(Ba.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function wy(t,e){if((t=Object($e.o)(t)).firestore!==e)throw new za(Ba.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Cy=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ge.c)(e,t),e.prototype.convertBytes=function(t){return new wm(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new sm(this.firestore,null,e)},e}(yy);function Oy(t,e,n){t=nm(t,sm);var r=nm(t.firestore,gm),i=by(t.converter,e,n);return Ty(r,[jm(Nm(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,zc.none())])}function xy(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=nm(t,sm);var o=nm(t.firestore,gm),s=Nm(o);return Ty(o,[("string"==typeof(e=Object($e.o)(e))||e instanceof _m?Um(s,"updateDoc",t._key,e,n,r):Fm(s,"updateDoc",t._key,e)).toMutation(t._key,zc.exists(!0))])}function Sy(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Object($e.o)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||pm(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(pm(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof sm)c=nm(t.firestore,gm),l=hc(t._key.path),u={next:function(e){i[a]&&i[a](Ey(c,t,e))},error:i[a+1],complete:i[a+2]};else{var f=nm(t,am);c=nm(f.firestore,gm),l=f._query;var p=new Cy(c);u={next:function(t){i[a]&&i[a](new ny(c,p,f,t))},error:i[a+1],complete:i[a+2]},oy(t._query)}return function(t,e,n,r){var i=this,o=new Tg(r),s=new Dp(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return Object(Ge.b)(i,void 0,void 0,function(){var e;return Object(Ge.d)(this,function(n){switch(n.label){case 0:return e=jp,[4,Fg(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(Ge.b)(i,void 0,void 0,function(){var e;return Object(Ge.d)(this,function(n){switch(n.label){case 0:return e=Ap,[4,Fg(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(mm(c),l,h,u)}function Ty(t,e){return function(t,e){var n=this,r=new Rh;return t.asyncQueue.enqueueAndForget(function(){return Object(Ge.b)(n,void 0,void 0,function(){var n;return Object(Ge.d)(this,function(i){switch(i.label){case 0:return n=$p,[4,Lg(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(mm(t),e)}function Ey(t,e,n){var r=n.docs.get(e._key),i=new Cy(t);return new ty(t,i,e._key,r,new Jm(n.hasPendingWrites,n.fromCache),e.converter)}var ky=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(Ge.c)(e,t),e.prototype.get=function(e){var n=this,r=wy(e,this._firestore),i=new Cy(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new ty(n._firestore,i,r._key,t._document,new Jm(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Nm(t)}return t.prototype.get=function(t){var e=this,n=wy(t,this._firestore),r=new vy(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Ya();var i=t[0];if(i.isFoundDocument())return new Ym(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Ym(e._firestore,r,n._key,null,n.converter);throw Ya()})},t.prototype.set=function(t,e,n){var r=wy(t,this._firestore),i=by(r.converter,e,n),o=jm(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=wy(t,this._firestore);return o="string"==typeof(e=Object($e.o)(e))||e instanceof _m?Um(this._dataReader,"Transaction.update",s._key,e,n,r):Fm(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=wy(t,this._firestore);return this._transaction.delete(e._key),this},t}());function Iy(){if("undefined"==typeof Uint8Array)throw new za(Ba.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Ny(){if("undefined"==typeof atob)throw new za(Ba.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var jy=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return Ny(),new t(wm.fromBase64String(e))},t.fromUint8Array=function(e){return Iy(),new t(wm.fromUint8Array(e))},t.prototype.toBase64=function(){return Ny(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Iy(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Ay=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){vm(t=nm(t,gm));var n=mm(t),r=t._freezeSettings(),i=new Sg;return bm(n,i,new Og(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){vm(t=nm(t,gm));var e=mm(t),n=t._freezeSettings(),r=new Sg;return bm(e,r,new xg(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new za(Ba.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Rh;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Ge.b)(e,void 0,void 0,function(){var e;return Object(Ge.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Ge.b)(this,void 0,void 0,function(){return Object(Ge.d)(this,function(e){switch(e.label){case 0:return Fh.yt()?[4,Fh.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Qd(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),My=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Bg||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||$a("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){var i;void 0===r&&(r={});var o=(t=nm(t,om))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&$a("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:e+":"+n,ssl:!1})),r.mockUserToken){var s,a;if("string"==typeof r.mockUserToken)s=r.mockUserToken,a=Ef.MOCK_USER;else{s=Object($e.j)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);var u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new za(Ba.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Ef(u)}t._credentials=new Kg(new Hg(s,a))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Ge.b)(e,void 0,void 0,function(){var e,n;return Object(Ge.d)(this,function(r){switch(r.label){case 0:return[4,Pg(t)];case 1:return e=r.sent(),[4,Dg(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Xa(t);return e.Or.delete(0),Jf(e)}(n))]}})})})}(mm(nm(this._delegate,gm)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Ge.b)(e,void 0,void 0,function(){var e,n;return Object(Ge.d)(this,function(r){switch(r.label){case 0:return[4,Pg(t)];case 1:return e=r.sent(),[4,Dg(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(Ge.b)(this,void 0,void 0,function(){var e;return Object(Ge.d)(this,function(n){switch(n.label){case 0:return(e=Xa(t)).Or.add(0),[4,tp(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(mm(nm(this._delegate,gm)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Xg("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Rh;return t.asyncQueue.enqueueAndForget(function(){return Object(Ge.b)(e,void 0,void 0,function(){var e;return Object(Ge.d)(this,function(r){switch(r.label){case 0:return e=tg,[4,Lg(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(mm(nm(this._delegate,gm)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Tg(e);return t.asyncQueue.enqueueAndForget(function(){return Object(Ge.b)(n,void 0,void 0,function(){var e;return Object(Ge.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Xa(t).Gr.add(e),e.next()},[4,Fg(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(Ge.b)(n,void 0,void 0,function(){var e;return Object(Ge.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Xa(t).Gr.delete(e)},[4,Fg(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(mm(t=nm(t,gm)),pm(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new za(Ba.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Gy(this,cm(this._delegate,t))}catch(t){throw Uy(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new Fy(this,lm(this._delegate,t))}catch(t){throw Uy(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Hy(this,function(t,e){if(t=nm(t,om),Yg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new za(Ba.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new am(t,null,function(t){return new cc(lu.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Uy(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Rh;return t.asyncQueue.enqueueAndForget(function(){return Object(Ge.b)(n,void 0,void 0,function(){var n;return Object(Ge.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return Mg(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new kg(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(mm(t),function(n){return e(new ky(t,n))})}(this._delegate,function(n){return t(new Ry(e,n))})},t.prototype.batch=function(){var t=this;return mm(this._delegate),new Dy(new _y(this._delegate,function(e){return Ty(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new za(Ba.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new za(Ba.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Py=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ge.c)(e,t),e.prototype.convertBytes=function(t){return new jy(new wm(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Fy.eu(e,this.firestore,null)},e}(yy),Ry=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Py(t)}return t.prototype.get=function(t){var e=this,n=$y(t);return this._delegate.get(n).then(function(t){return new By(e._firestore,new ty(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=$y(t);return n?(Zg("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=$y(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(Ge.f)([s,e,n],i)),this},t.prototype.delete=function(t){var e=$y(t);return this._delegate.delete(e),this},t}(),Dy=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=$y(t);return n?(Zg("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=$y(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(Ge.f)([s,e,n],i)),this},t.prototype.delete=function(t){var e=$y(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Ly=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new ey(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new zy(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new Py(e),n),i.set(n,o)),o},t}();Ly.su=new WeakMap;var Fy=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Py(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new za(Ba.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new sm(n._delegate,r,new Su(e)))},t.eu=function(e,n,r){return new t(n,new sm(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Gy(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Gy(this.firestore,cm(this._delegate,t))}catch(t){throw Uy(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object($e.o)(t))instanceof sm&&hm(this._delegate,t)},t.prototype.set=function(t,e){e=Zg("DocumentReference.set",e);try{return e?Oy(this._delegate,t,e):Oy(this._delegate,t)}catch(t){throw Uy(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?xy(this._delegate,t):xy.apply(void 0,Object(Ge.f)([this._delegate,t,e],n))}catch(t){throw Uy(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Ty(nm((t=this._delegate).firestore,gm),[new il(t._key,zc.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Vy(e),i=qy(e,function(e){return new By(t.firestore,new ty(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return Sy(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=nm(t,sm);var e=nm(t.firestore,gm),n=mm(e),r=new Cy(e);return function(t,e){var n=this,r=new Rh;return t.asyncQueue.enqueueAndForget(function(){return Object(Ge.b)(n,void 0,void 0,function(){var n;return Object(Ge.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Ge.b)(this,void 0,void 0,function(){var r,i;return Object(Ge.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Xa(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new za(Ba.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Sp(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Rg(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new ty(e,r,t._key,n,new Jm(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=nm(t,sm);var e=nm(t.firestore,gm);return Ug(mm(e),t._key,{source:"server"}).then(function(n){return Ey(e,t,n)})}(this._delegate):function(t){t=nm(t,sm);var e=nm(t.firestore,gm);return Ug(mm(e),t._key).then(function(n){return Ey(e,t,n)})}(this._delegate)).then(function(t){return new By(e.firestore,new ty(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Ly.nu(this.firestore,e):null))},t}();function Uy(t,e,n){return t.message=t.message.replace(e,n),t}function Vy(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!pm(r))return r}return{}}function qy(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=pm(t[0])?t[0]:pm(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var By=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Fy(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return iy(this._delegate,t._delegate)},t}(),zy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ge.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(By),Hy=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Py(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,ay(this._delegate,function(t,e,n){var r=e,i=Xm("where",t);return new uy(i,r,n)}(e,n,r)))}catch(e){throw Uy(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,ay(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Xm("orderBy",t);return new cy(r,n)}(e,n)))}catch(e){throw Uy(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,ay(this._delegate,function(t){return rm("limit",t),new ly("limit",t,"F")}(e)))}catch(e){throw Uy(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,ay(this._delegate,function(t){return rm("limitToLast",t),new ly("limitToLast",t,"L")}(e)))}catch(e){throw Uy(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,ay(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new hy("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw Uy(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,ay(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new hy("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw Uy(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,ay(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new dy("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw Uy(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,ay(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new dy("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw Uy(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return dm(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=nm(t,am);var e=nm(t.firestore,gm),n=mm(e),r=new Cy(e);return function(t,e){var n=this,r=new Rh;return t.asyncQueue.enqueueAndForget(function(){return Object(Ge.b)(n,void 0,void 0,function(){var n;return Object(Ge.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Ge.b)(this,void 0,void 0,function(){var r,i,o,s,a;return Object(Ge.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,hf(t,e,!0)];case 1:return a=u.sent(),r=new qp(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=Sp(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Rg(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new ny(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=nm(t,am);var e=nm(t.firestore,gm),n=mm(e),r=new Cy(e);return Vg(n,t._query,{source:"server"}).then(function(n){return new ny(e,r,t,n)})}(this._delegate):function(t){t=nm(t,am);var e=nm(t.firestore,gm),n=mm(e),r=new Cy(e);return oy(t._query),Vg(n,t._query).then(function(n){return new ny(e,r,t,n)})}(this._delegate)).then(function(t){return new Ky(e.firestore,new ny(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Vy(e),i=qy(e,function(e){return new Ky(t.firestore,new ny(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return Sy(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Ly.nu(this.firestore,e):null))},t}(),Wy=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new zy(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Ky=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Hy(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new zy(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new Wy(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new zy(n._firestore,r))})},t.prototype.isEqual=function(t){return iy(this._delegate,t._delegate)},t}(),Gy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(Ge.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Fy(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Fy(this.firestore,void 0===t?lm(this._delegate):lm(this._delegate,t))}catch(t){throw Uy(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=nm(t.firestore,gm),r=lm(t),i=by(t.converter,e);return Ty(n,[jm(Nm(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,zc.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new Fy(e.firestore,t)})},e.prototype.isEqual=function(t){return hm(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Ly.nu(this.firestore,t):null))},e}(Hy);function $y(t){return nm(t,sm)}var Qy,Yy=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(_m.bind.apply(_m,Object(Ge.f)([void 0],t)))}return t.documentId=function(){return new t(du.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object($e.o)(t))instanceof _m&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Zy=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Pm("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Am("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Rm("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Dm("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Lm("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),Xy={Firestore:My,GeoPoint:Om,Timestamp:iu,Blob:jy,Transaction:Ry,WriteBatch:Dy,DocumentReference:Fy,DocumentSnapshot:By,Query:Hy,QueryDocumentSnapshot:zy,QuerySnapshot:Ky,CollectionReference:Gy,FieldPath:Yy,FieldValue:Zy,setLogLevel:function(t){Ha.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function Jy(t,e){return function(t,e=yt.b){return new bt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function tb(t,e){return Jy(t,e).pipe(Object(wt.a)(t=>({payload:t,type:"query"})))}function eb(t,e){return tb(t,e).pipe(kr(void 0),Ir(),Object(wt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function nb(t,e,n){return eb(t,n).pipe(It((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return rb(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return rb(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return rb(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),At(),Object(wt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function rb(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function ib(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(function(t,e){t.INTERNAL.registerComponent(new Qe.a("firestore",function(t){return function(t,e){return new My(t,new gm(t,e),new Ay)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Xy)))})(Qy=Ke.a),Qy.registerVersion("@firebase/firestore","2.4.1");class ob{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=eb(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(wt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(kr(void 0),Ir(),Jt(([t,e])=>e.length>0||!t),Object(wt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(It((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=ib(t);return nb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return tb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(wt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Ot.a)(this.query.get(t)).pipe(Object(Ht.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new sb(this.ref.doc(t),this.afs)}}class sb{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=db(n,e);return new ob(r,i,this.afs)}snapshotChanges(){return Jy(this.ref,this.afs.schedulers.outsideAngular).pipe(kr(void 0),Ir(),Object(wt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(wt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(Ot.a)(this.ref.get(t)).pipe(Object(Ht.b)(this.afs.schedulers.insideAngular))}}class ab{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?eb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(wt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Jt(t=>t.length>0),this.afs.keepUnstableUntilFirst):eb(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(It((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=ib(t);return nb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return tb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(wt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Ot.a)(this.query.get(t)).pipe(Object(Ht.b)(this.afs.schedulers.insideAngular))}}const ub=new r.r("angularfire2.enableFirestorePersistence"),cb=new r.r("angularfire2.firestore.persistenceSettings"),lb=new r.r("angularfire2.firestore.settings"),hb=new r.r("angularfire2.firestore.use-emulator");function db(t,e=(t=>t)){return{query:e(t),ref:t}}let fb=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new mt.d(o),this.keepUnstableUntilFirst=Object(mt.h)(this.schedulers);const c=Object(mt.g)(t,o,e);!Te.a.auth&&u&&Object(mt.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(mt.f)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!L(i)){const e=()=>{try{return Object(Ot.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(Qy){return"undefined"!=typeof console&&console.warn(Qy),Object(vt.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(vt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=db(n,e),o=this.schedulers.ngZone.run(()=>r);return new ob(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new ab(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new sb(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(mt.c),r.Rb(mt.b,8),r.Rb(ub,8),r.Rb(lb,8),r.Rb(r.C),r.Rb(r.A),r.Rb(cb,8),r.Rb(hb,8),r.Rb(be,8))},t.\u0275prov=r.Gb({factory:function(){return new t(r.Rb(mt.c),r.Rb(mt.b,8),r.Rb(ub,8),r.Rb(lb,8),r.Rb(r.C),r.Rb(r.A),r.Rb(cb,8),r.Rb(hb,8),r.Rb(be,8))},token:t,providedIn:"any"}),t})(),pb=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:ub,useValue:!0},{provide:cb,useValue:e}]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[fb]}),t})();const gb={apiKey:"AIzaSyDyawPquR9k41-4DIY1YX2cnCZhtvlPfbo",authDomain:"go2parts-senior-3490d.firebaseapp.com",projectId:"go2parts-senior-3490d",storageBucket:"go2parts-senior-3490d.appspot.com",messagingSenderId:"225368192480",appId:"1:225368192480:web:ee2fa075afd79ef20aa785"};function mb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function yb(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mb(Object(n),!0).forEach(function(e){vb(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mb(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function bb(t){return(bb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _b(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(u){a=!0,i=u}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(t,e)||Cb(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wb(t){return function(t){if(Array.isArray(t))return Ob(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Cb(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cb(t,e){if(t){if("string"==typeof t)return Ob(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ob(t,e):void 0}}function Ob(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var xb=function(){},Sb={},Tb={},Eb=null,kb={mark:xb,measure:xb};try{"undefined"!=typeof window&&(Sb=window),"undefined"!=typeof document&&(Tb=document),"undefined"!=typeof MutationObserver&&(Eb=MutationObserver),"undefined"!=typeof performance&&(kb=performance)}catch(Qy){}var Ib=(Sb.navigator||{}).userAgent,Nb=void 0===Ib?"":Ib,jb=Sb,Ab=Tb,Mb=Eb,Pb=kb,Rb=!!Ab.documentElement&&!!Ab.head&&"function"==typeof Ab.addEventListener&&"function"==typeof Ab.createElement,Db=~Nb.indexOf("MSIE")||~Nb.indexOf("Trident/"),Lb="svg-inline--fa",Fb="data-fa-i2svg",Ub="data-fa-pseudo-element",Vb="data-prefix",qb="data-icon",Bb="fontawesome-i2svg",zb=["HTML","HEAD","STYLE","SCRIPT"],Hb=function(){try{return!0}catch(Qy){return!1}}(),Wb={fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit",fa:"solid"},Kb={solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"},Gb={fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},$b={"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},Qb=/fa[srltdbk\-\ ]/,Yb="fa-layers-text",Zb=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Kit)?.*/i,Xb={900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},Jb=[1,2,3,4,5,6,7,8,9,10],tv=Jb.concat([11,12,13,14,15,16,17,18,19,20]),ev=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],nv="duotone-group",rv="primary",iv="secondary",ov=[].concat(wb(Object.keys(Kb)),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",nv,"swap-opacity",rv,iv]).concat(Jb.map(function(t){return"".concat(t,"x")})).concat(tv.map(function(t){return"w-".concat(t)})),sv=jb.FontAwesomeConfig||{};Ab&&"function"==typeof Ab.querySelector&&[["data-family-prefix","familyPrefix"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=_b(t,2),n=e[1],r=function(t){return""===t||"false"!==t&&("true"===t||t)}(function(t){var e=Ab.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=r&&(sv[n]=r)});var av=yb(yb({},{familyPrefix:"fa",styleDefault:"solid",replacementClass:Lb,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0}),sv);av.autoReplaceSvg||(av.observeMutations=!1);var uv={};Object.keys(av).forEach(function(t){Object.defineProperty(uv,t,{enumerable:!0,set:function(e){av[t]=e,cv.forEach(function(t){return t(uv)})},get:function(){return av[t]}})}),jb.FontAwesomeConfig=uv;var cv=[],lv=16,hv={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function dv(){for(var t=12,e="";t-- >0;)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return e}function fv(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function pv(t){return t.classList?fv(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(t){return t})}function gv(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function mv(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function yv(t){return t.size!==hv.size||t.x!==hv.x||t.y!==hv.y||t.rotate!==hv.rotate||t.flipX||t.flipY}function bv(){var t="fa",e=Lb,n=uv.familyPrefix,r=uv.replacementClass,i=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(n!==t||r!==e){var o=new RegExp("\\.".concat(t,"\\-"),"g"),s=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(o,".".concat(n,"-")).replace(s,"--".concat(n,"-")).replace(a,".".concat(r))}return i}var vv=!1;function _v(){uv.autoAddCss&&!vv&&(function(t){if(t&&Rb){var e=Ab.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Ab.head.childNodes,r=null,i=n.length-1;i>-1;i--){var o=n[i],s=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(r=o)}Ab.head.insertBefore(e,r)}}(bv()),vv=!0)}var wv={mixout:function(){return{dom:{css:bv,insertCss:_v}}},hooks:function(){return{beforeDOMElementCreation:function(){_v()},beforeI2svg:function(){_v()}}}},Cv=jb||{};Cv.___FONT_AWESOME___||(Cv.___FONT_AWESOME___={}),Cv.___FONT_AWESOME___.styles||(Cv.___FONT_AWESOME___.styles={}),Cv.___FONT_AWESOME___.hooks||(Cv.___FONT_AWESOME___.hooks={}),Cv.___FONT_AWESOME___.shims||(Cv.___FONT_AWESOME___.shims=[]);var Ov=Cv.___FONT_AWESOME___,xv=[],Sv=!1;function Tv(t){Rb&&(Sv?setTimeout(t,0):xv.push(t))}function Ev(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,o=void 0===i?[]:i;return"string"==typeof t?gv(t):"<".concat(e," ").concat(function(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(gv(t[n]),'" ')},"").trim()}(r),">").concat(o.map(Ev).join(""),"</").concat(e,">")}function kv(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}Rb&&((Sv=(Ab.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Ab.readyState))||Ab.addEventListener("DOMContentLoaded",function t(){Ab.removeEventListener("DOMContentLoaded",t),Sv=1,xv.map(function(t){return t()})}));var Iv=function(t,e,n,r){var i,o,s,a=Object.keys(t),u=a.length,c=void 0!==r?function(t,e){return function(n,r,i,o){return t.call(e,n,r,i,o)}}(e,r):e;for(void 0===n?(i=1,s=t[a[0]]):(i=0,s=n);i<u;i++)s=c(s,t[o=a[i]],o,t);return s};function Nv(t){var e=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=t.charCodeAt(n++);56320==(64512&o)?e.push(((1023&i)<<10)+(1023&o)+65536):(e.push(i),n--)}else e.push(i)}return e}(t);return 1===e.length?e[0].toString(16):null}function jv(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function Av(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,i=void 0!==r&&r,o=jv(e);"function"!=typeof Ov.hooks.addPack||i?Ov.styles[t]=yb(yb({},Ov.styles[t]||{}),o):Ov.hooks.addPack(t,jv(e)),"fas"===t&&Av("fa",e)}var Mv=Ov.styles,Pv=Ov.shims,Rv=Object.values(Gb),Dv=null,Lv={},Fv={},Uv={},Vv={},qv={},Bv=Object.keys(Wb);function zv(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r!==t||""===i||~ov.indexOf(i)?null:i}var Hv=function(){var t=function(t){return Iv(Mv,function(e,n,r){return e[r]=Iv(n,t,{}),e},{})};Lv=t(function(t,e,n){return e[3]&&(t[e[3]]=n),e[2]&&e[2].filter(function(t){return"number"==typeof t}).forEach(function(e){t[e.toString(16)]=n}),t}),Fv=t(function(t,e,n){return t[n]=n,e[2]&&e[2].filter(function(t){return"string"==typeof t}).forEach(function(e){t[e]=n}),t}),qv=t(function(t,e,n){var r=e[2];return t[n]=n,r.forEach(function(e){t[e]=n}),t});var e="far"in Mv||uv.autoFetchSvg,n=Iv(Pv,function(t,n){var r=n[0],i=n[1],o=n[2];return"far"!==i||e||(i="fas"),"string"==typeof r&&(t.names[r]={prefix:i,iconName:o}),"number"==typeof r&&(t.unicodes[r.toString(16)]={prefix:i,iconName:o}),t},{names:{},unicodes:{}});Uv=n.names,Vv=n.unicodes,Dv=Qv(uv.styleDefault)};function Wv(t,e){return(Lv[t]||{})[e]}function Kv(t,e){return(qv[t]||{})[e]}function Gv(t){return Uv[t]||{prefix:null,iconName:null}}function $v(){return Dv}function Qv(t){return Kb[t]||Kb[Wb[t]]||(t in Ov.styles?t:null)||null}function Yv(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.skipLookups,r=void 0!==n&&n,i=null,o=t.reduce(function(t,e){var n=zv(uv.familyPrefix,e);if(Mv[e]?(e=Rv.includes(e)?$b[e]:e,i=e,t.prefix=e):Bv.indexOf(e)>-1?(i=e,t.prefix=Qv(e)):n?t.iconName=n:e!==uv.replacementClass&&t.rest.push(e),!r&&t.prefix&&t.iconName){var o="fa"===i?Gv(t.iconName):{},s=Kv(t.prefix,t.iconName);o.prefix&&(i=null),t.iconName=o.iconName||s||t.iconName,t.prefix=o.prefix||t.prefix,"far"!==t.prefix||Mv.far||!Mv.fas||uv.autoFetchSvg||(t.prefix="fas")}return t},{prefix:null,iconName:null,rest:[]});return"fa"!==o.prefix&&"fa"!==i||(o.prefix=$v()||"fas"),o}cv.push(function(t){Dv=Qv(t.styleDefault)}),Hv();var Zv=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.definitions={}}var e,n;return e=t,(n=[{key:"add",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(function(e){t.definitions[e]=yb(yb({},t.definitions[e]||{}),i[e]),Av(e,i[e]);var n=Gb[e];n&&Av(n,i[e]),Hv()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,e){var n=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(n).map(function(e){var r=n[e],i=r.prefix,o=r.iconName,s=r.icon,a=s[2];t[i]||(t[i]={}),a.length>0&&a.forEach(function(e){"string"==typeof e&&(t[i][e]=s)}),t[i][o]=s}),t}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Xv=[],Jv={},t_={},e_=Object.keys(t_);function n_(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=Jv[t]||[];return o.forEach(function(t){e=t.apply(null,[e].concat(r))}),e}function r_(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=Jv[t]||[];i.forEach(function(t){t.apply(null,n)})}function i_(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return t_[t]?t_[t].apply(null,e):void 0}function o_(t){"fa"===t.prefix&&(t.prefix="fas");var e=t.iconName,n=t.prefix||$v();if(e)return e=Kv(n,e)||e,kv(s_.definitions,n,e)||kv(Ov.styles,n,e)}var s_=new Zv,a_={i2svg:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Rb?(r_("beforeI2svg",t),i_("pseudoElements2svg",t),i_("i2svg",t)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.autoReplaceSvgRoot;!1===uv.autoReplaceSvg&&(uv.autoReplaceSvg=!0),uv.observeMutations=!0,Tv(function(){c_({autoReplaceSvgRoot:e}),r_("watch",t)})}},u_={noAuto:function(){uv.autoReplaceSvg=!1,uv.observeMutations=!1,r_("noAuto")},config:uv,dom:a_,parse:{icon:function(t){if(null===t)return null;if("object"===bb(t)&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:Kv(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&2===t.length){var e=0===t[1].indexOf("fa-")?t[1].slice(3):t[1],n=Qv(t[0]);return{prefix:n,iconName:Kv(n,e)||e}}if("string"==typeof t&&(t.indexOf("".concat(uv.familyPrefix,"-"))>-1||t.match(Qb))){var r=Yv(t.split(" "),{skipLookups:!0});return{prefix:r.prefix||$v(),iconName:Kv(r.prefix,r.iconName)||r.iconName}}if("string"==typeof t){var i=$v();return{prefix:i,iconName:Kv(i,t)||t}}}},library:s_,findIconDefinition:o_,toHtml:Ev},c_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.autoReplaceSvgRoot,n=void 0===e?Ab:e;(Object.keys(Ov.styles).length>0||uv.autoFetchSvg)&&Rb&&uv.autoReplaceSvg&&u_.dom.i2svg({node:n})};function l_(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(t){return Ev(t)})}}),Object.defineProperty(t,"node",{get:function(){if(Rb){var e=Ab.createElement("div");return e.innerHTML=t.html,e.children}}}),t}function h_(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,o=t.iconName,s=t.transform,a=t.symbol,u=t.title,c=t.maskId,l=t.titleId,h=t.extra,d=t.watchable,f=void 0!==d&&d,p=r.found?r:n,g=p.width,m=p.height,y="fak"===i,b=[uv.replacementClass,o?"".concat(uv.familyPrefix,"-").concat(o):""].filter(function(t){return-1===h.classes.indexOf(t)}).filter(function(t){return""!==t||!!t}).concat(h.classes).join(" "),v={children:[],attributes:yb(yb({},h.attributes),{},{"data-prefix":i,"data-icon":o,class:b,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(m)})},_=y&&!~h.classes.indexOf("fa-fw")?{width:"".concat(g/m*16*.0625,"em")}:{};f&&(v.attributes[Fb]=""),u&&(v.children.push({tag:"title",attributes:{id:v.attributes["aria-labelledby"]||"title-".concat(l||dv())},children:[u]}),delete v.attributes.title);var w=yb(yb({},v),{},{prefix:i,iconName:o,main:n,mask:r,maskId:c,transform:s,symbol:a,styles:yb(yb({},_),h.styles)}),C=r.found&&n.found?i_("generateAbstractMask",w)||{children:[],attributes:{}}:i_("generateAbstractIcon",w)||{children:[],attributes:{}},O=C.attributes;return w.children=C.children,w.attributes=O,a?function(t){var e=t.iconName,n=t.children,r=t.attributes,i=t.symbol,o=!0===i?"".concat(t.prefix,"-").concat(uv.familyPrefix,"-").concat(e):i;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:yb(yb({},r),{},{id:o}),children:n}]}]}(w):function(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,o=t.styles,s=t.transform;if(yv(s)&&n.found&&!r.found){var a={x:n.width/n.height/2,y:.5};i.style=mv(yb(yb({},o),{},{"transform-origin":"".concat(a.x+s.x/16,"em ").concat(a.y+s.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(w)}function d_(t){var e=t.content,n=t.width,r=t.height,i=t.transform,o=t.title,s=t.extra,a=t.watchable,u=void 0!==a&&a,c=yb(yb(yb({},s.attributes),o?{title:o}:{}),{},{class:s.classes.join(" ")});u&&(c[Fb]="");var l=yb({},s.styles);yv(i)&&(l.transform=function(t){var e=t.transform,n=t.width,r=t.height,i=void 0===r?16:r,o=t.startCentered,s=void 0!==o&&o,a="";return a+=s&&Db?"translate(".concat(e.x/lv-(void 0===n?16:n)/2,"em, ").concat(e.y/lv-i/2,"em) "):s?"translate(calc(-50% + ".concat(e.x/lv,"em), calc(-50% + ").concat(e.y/lv,"em)) "):"translate(".concat(e.x/lv,"em, ").concat(e.y/lv,"em) "),(a+="scale(".concat(e.size/lv*(e.flipX?-1:1),", ").concat(e.size/lv*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),l["-webkit-transform"]=l.transform);var h=mv(l);h.length>0&&(c.style=h);var d=[];return d.push({tag:"span",attributes:c,children:[e]}),o&&d.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),d}function f_(t){var e=t.content,n=t.title,r=t.extra,i=yb(yb(yb({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),o=mv(r.styles);o.length>0&&(i.style=o);var s=[];return s.push({tag:"span",attributes:i,children:[e]}),n&&s.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),s}var p_=Ov.styles;function g_(t){var e=t[0],n=t[1],r=_b(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(uv.familyPrefix,"-").concat(nv)},children:[{tag:"path",attributes:{class:"".concat(uv.familyPrefix,"-").concat(iv),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(uv.familyPrefix,"-").concat(rv),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}var m_={found:!1,width:512,height:512};function y_(t,e){var n=e;return"fa"===e&&null!==uv.styleDefault&&(e=$v()),new Promise(function(r,i){if(i_("missingIconAbstract"),"fa"===n){var o=Gv(t)||{};t=o.iconName||t,e=o.prefix||e}if(t&&e&&p_[e]&&p_[e][t])return r(g_(p_[e][t]));!function(t,e){Hb||uv.showMissingIcons||!t||console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}(t,e),r(yb(yb({},m_),{},{icon:uv.showMissingIcons&&t&&i_("missingIconAbstract")||{}}))})}var b_=function(){},v_=uv.measurePerformance&&Pb&&Pb.mark&&Pb.measure?Pb:{mark:b_,measure:b_},__='FA "6.0.0"',w_=function(t){return v_.mark("".concat(__," ").concat(t," begins")),function(){return function(t){v_.mark("".concat(__," ").concat(t," ends")),v_.measure("".concat(__," ").concat(t),"".concat(__," ").concat(t," begins"),"".concat(__," ").concat(t," ends"))}(t)}},C_=function(){};function O_(t){return"string"==typeof(t.getAttribute?t.getAttribute(Fb):null)}function x_(t){return Ab.createElementNS("http://www.w3.org/2000/svg",t)}function S_(t){return Ab.createElement(t)}function T_(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.ceFn,r=void 0===n?"svg"===t.tag?x_:S_:n;if("string"==typeof t)return Ab.createTextNode(t);var i=r(t.tag);Object.keys(t.attributes||[]).forEach(function(e){i.setAttribute(e,t.attributes[e])});var o=t.children||[];return o.forEach(function(t){i.appendChild(T_(t,{ceFn:r}))}),i}var E_={replace:function(t){var e=t[0];if(e.parentNode)if(t[1].forEach(function(t){e.parentNode.insertBefore(T_(t),e)}),null===e.getAttribute(Fb)&&uv.keepOriginalSource){var n=Ab.createComment(function(t){var e=" ".concat(t.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){var e=t[0],n=t[1];if(~pv(e).indexOf(uv.replacementClass))return E_.replace(t);var r=new RegExp("".concat(uv.familyPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var i=n[0].attributes.class.split(" ").reduce(function(t,e){return e===uv.replacementClass||e.match(r)?t.toSvg.push(e):t.toNode.push(e),t},{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),0===i.toNode.length?e.removeAttribute("class"):e.setAttribute("class",i.toNode.join(" "))}var o=n.map(function(t){return Ev(t)}).join("\n");e.setAttribute(Fb,""),e.innerHTML=o}};function k_(t){t()}function I_(t,e){var n="function"==typeof e?e:C_;if(0===t.length)n();else{var r=k_;"async"===uv.mutateApproach&&(r=jb.requestAnimationFrame||k_),r(function(){var e=!0===uv.autoReplaceSvg?E_.replace:E_[uv.autoReplaceSvg]||E_.replace,r=w_("mutate");t.map(e),r(),n()})}}var N_=!1;function j_(){N_=!0}function A_(){N_=!1}var M_=null;function P_(t){if(Mb&&uv.observeMutations){var e=t.treeCallback,n=void 0===e?C_:e,r=t.nodeCallback,i=void 0===r?C_:r,o=t.pseudoElementsCallback,s=void 0===o?C_:o,a=t.observeMutationsRoot,u=void 0===a?Ab:a;M_=new Mb(function(t){if(!N_){var e=$v();fv(t).forEach(function(t){if("childList"===t.type&&t.addedNodes.length>0&&!O_(t.addedNodes[0])&&(uv.searchPseudoElements&&s(t.target),n(t.target)),"attributes"===t.type&&t.target.parentNode&&uv.searchPseudoElements&&s(t.target.parentNode),"attributes"===t.type&&O_(t.target)&&~ev.indexOf(t.attributeName))if("class"===t.attributeName&&function(t){var e=t.getAttribute?t.getAttribute(Vb):null,n=t.getAttribute?t.getAttribute(qb):null;return e&&n}(t.target)){var r=Yv(pv(t.target)),o=r.iconName;t.target.setAttribute(Vb,r.prefix||e),o&&t.target.setAttribute(qb,o)}else(a=t.target)&&a.classList&&a.classList.contains&&a.classList.contains(uv.replacementClass)&&i(t.target);var a})}}),Rb&&M_.observe(u,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function R_(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(t,e){var n=e.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(t[r]=i.join(":").trim()),t},{})),n}function D_(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=void 0!==t.innerText?t.innerText.trim():"",i=Yv(pv(t));return i.prefix||(i.prefix=$v()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||i.prefix&&r.length>0&&(i.iconName=(Fv[i.prefix]||{})[t.innerText]||Wv(i.prefix,Nv(t.innerText))),i}function L_(t){var e=fv(t.attributes).reduce(function(t,e){return"class"!==t.name&&"style"!==t.name&&(t[e.name]=e.value),t},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return uv.autoA11y&&(n?e["aria-labelledby"]="".concat(uv.replacementClass,"-title-").concat(r||dv()):(e["aria-hidden"]="true",e.focusable="false")),e}function F_(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=D_(t),r=n.iconName,i=n.prefix,o=n.rest,s=L_(t),a=n_("parseNodeAttributes",{},t),u=e.styleParser?R_(t):[];return yb({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:hv,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:o,styles:u,attributes:s}},a)}var U_=Ov.styles;function V_(t){var e="nest"===uv.autoReplaceSvg?F_(t,{styleParser:!1}):F_(t);return~e.extra.classes.indexOf(Yb)?i_("generateLayersText",t,e):i_("generateSvgReplacementMutation",t,e)}function q_(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Rb)return Promise.resolve();var n=Ab.documentElement.classList,r=function(t){return n.add("".concat(Bb,"-").concat(t))},i=function(t){return n.remove("".concat(Bb,"-").concat(t))},o=Object.keys(uv.autoFetchSvg?Wb:U_),s=[".".concat(Yb,":not([").concat(Fb,"])")].concat(o.map(function(t){return".".concat(t,":not([").concat(Fb,"])")})).join(", ");if(0===s.length)return Promise.resolve();var a=[];try{a=fv(t.querySelectorAll(s))}catch(Qy){}if(!(a.length>0))return Promise.resolve();r("pending"),i("complete");var u=w_("onTree"),c=a.reduce(function(t,e){try{var n=V_(e);n&&t.push(n)}catch(Qy){Hb||"MissingIcon"===Qy.name&&console.error(Qy)}return t},[]);return new Promise(function(t,n){Promise.all(c).then(function(n){I_(n,function(){r("active"),r("complete"),i("pending"),"function"==typeof e&&e(),u(),t()})}).catch(function(t){u(),n(t)})})}function B_(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;V_(t).then(function(t){t&&I_([t],e)})}var z_=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.transform,r=void 0===n?hv:n,i=e.symbol,o=void 0!==i&&i,s=e.mask,a=void 0===s?null:s,u=e.maskId,c=void 0===u?null:u,l=e.title,h=void 0===l?null:l,d=e.titleId,f=void 0===d?null:d,p=e.classes,g=void 0===p?[]:p,m=e.attributes,y=void 0===m?{}:m,b=e.styles,v=void 0===b?{}:b;if(t){var _=t.prefix,w=t.iconName,C=t.icon;return l_(yb({type:"icon"},t),function(){return r_("beforeDOMElementCreation",{iconDefinition:t,params:e}),uv.autoA11y&&(h?y["aria-labelledby"]="".concat(uv.replacementClass,"-title-").concat(f||dv()):(y["aria-hidden"]="true",y.focusable="false")),h_({icons:{main:g_(C),mask:a?g_(a.icon):{found:!1,width:null,height:null,icon:{}}},prefix:_,iconName:w,transform:yb(yb({},hv),r),symbol:o,title:h,maskId:c,titleId:f,extra:{attributes:y,styles:v,classes:g}})})}},H_={mixout:function(){return{icon:(t=z_,function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:o_(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:o_(i||{})),t(r,yb(yb({},n),{},{mask:i}))})};var t},hooks:function(){return{mutationObserverCallbacks:function(t){return t.treeCallback=q_,t.nodeCallback=B_,t}}},provides:function(t){t.i2svg=function(t){var e=t.node,n=t.callback;return q_(void 0===e?Ab:e,void 0===n?function(){}:n)},t.generateSvgReplacementMutation=function(t,e){var n=e.iconName,r=e.title,i=e.titleId,o=e.prefix,s=e.transform,a=e.symbol,u=e.mask,c=e.maskId,l=e.extra;return new Promise(function(e,h){Promise.all([y_(n,o),u.iconName?y_(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(u){var h=_b(u,2);e([t,h_({icons:{main:h[0],mask:h[1]},prefix:o,iconName:n,transform:s,symbol:a,maskId:c,title:r,titleId:i,extra:l,watchable:!0})])}).catch(h)})},t.generateAbstractIcon=function(t){var e,n=t.children,r=t.attributes,i=t.main,o=t.transform,s=mv(t.styles);return s.length>0&&(r.style=s),yv(o)&&(e=i_("generateAbstractTransformGrouping",{main:i,transform:o,containerWidth:i.width,iconWidth:i.width})),n.push(e||i.icon),{children:n,attributes:r}}}},W_={mixout:function(){return{layer:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.classes,r=void 0===n?[]:n;return l_({type:"layer"},function(){r_("beforeDOMElementCreation",{assembler:t,params:e});var n=[];return t(function(t){Array.isArray(t)?t.map(function(t){n=n.concat(t.abstract)}):n=n.concat(t.abstract)}),[{tag:"span",attributes:{class:["".concat(uv.familyPrefix,"-layers")].concat(wb(r)).join(" ")},children:n}]})}}}},K_={mixout:function(){return{counter:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.title,r=void 0===n?null:n,i=e.classes,o=void 0===i?[]:i,s=e.attributes,a=void 0===s?{}:s,u=e.styles,c=void 0===u?{}:u;return l_({type:"counter",content:t},function(){return r_("beforeDOMElementCreation",{content:t,params:e}),f_({content:t.toString(),title:r,extra:{attributes:a,styles:c,classes:["".concat(uv.familyPrefix,"-layers-counter")].concat(wb(o))}})})}}}},G_={mixout:function(){return{text:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.transform,r=void 0===n?hv:n,i=e.title,o=void 0===i?null:i,s=e.classes,a=void 0===s?[]:s,u=e.attributes,c=void 0===u?{}:u,l=e.styles,h=void 0===l?{}:l;return l_({type:"text",content:t},function(){return r_("beforeDOMElementCreation",{content:t,params:e}),d_({content:t,transform:yb(yb({},hv),r),title:o,extra:{attributes:c,styles:h,classes:["".concat(uv.familyPrefix,"-layers-text")].concat(wb(a))}})})}}},provides:function(t){t.generateLayersText=function(t,e){var n=e.title,r=e.transform,i=e.extra,o=null,s=null;if(Db){var a=parseInt(getComputedStyle(t).fontSize,10),u=t.getBoundingClientRect();o=u.width/a,s=u.height/a}return uv.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([t,d_({content:t.innerHTML,width:o,height:s,transform:r,title:n,extra:i,watchable:!0})])}}},$_=new RegExp('"',"ug"),Q_=[1105920,1112319];function Y_(t,e){var n="".concat("data-fa-pseudo-element-pending").concat(e.replace(":","-"));return new Promise(function(r,i){if(null!==t.getAttribute(n))return r();var o,s,a,u=fv(t.children).filter(function(t){return t.getAttribute(Ub)===e})[0],c=jb.getComputedStyle(t,e),l=c.getPropertyValue("font-family").match(Zb),h=c.getPropertyValue("font-weight"),d=c.getPropertyValue("content");if(u&&!l)return t.removeChild(u),r();if(l&&"none"!==d&&""!==d){var f=c.getPropertyValue("content"),p=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(l[2])?Kb[l[2].toLowerCase()]:Xb[h],g=function(t){var e,n,r,i,o=t.replace($_,""),s=(r=(e=o).length,(i=e.charCodeAt(0))>=55296&&i<=56319&&r>1&&(n=e.charCodeAt(1))>=56320&&n<=57343?1024*(i-55296)+n-56320+65536:i),a=s>=Q_[0]&&s<=Q_[1],u=2===o.length&&o[0]===o[1];return{value:Nv(u?o[0]:o),isSecondary:a||u}}(f),m=g.value,y=g.isSecondary,b=l[0].startsWith("FontAwesome"),v=Wv(p,m),_=v;if(b){var w=(s=Vv[o=m],a=Wv("fas",o),s||(a?{prefix:"fas",iconName:a}:null)||{prefix:null,iconName:null});w.iconName&&w.prefix&&(v=w.iconName,p=w.prefix)}if(!v||y||u&&u.getAttribute(Vb)===p&&u.getAttribute(qb)===_)r();else{t.setAttribute(n,_),u&&t.removeChild(u);var C={iconName:null,title:null,titleId:null,prefix:null,transform:hv,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},O=C.extra;O.attributes[Ub]=e,y_(v,p).then(function(i){var o=h_(yb(yb({},C),{},{icons:{main:i,mask:{prefix:null,iconName:null,rest:[]}},prefix:p,iconName:_,extra:O,watchable:!0})),s=Ab.createElement("svg");"::before"===e?t.insertBefore(s,t.firstChild):t.appendChild(s),s.outerHTML=o.map(function(t){return Ev(t)}).join("\n"),t.removeAttribute(n),r()}).catch(i)}}else r()})}function Z_(t){return Promise.all([Y_(t,"::before"),Y_(t,"::after")])}function X_(t){return!(t.parentNode===document.head||~zb.indexOf(t.tagName.toUpperCase())||t.getAttribute(Ub)||t.parentNode&&"svg"===t.parentNode.tagName)}function J_(t){if(Rb)return new Promise(function(e,n){var r=fv(t.querySelectorAll("*")).filter(X_).map(Z_),i=w_("searchPseudoElements");j_(),Promise.all(r).then(function(){i(),A_(),e()}).catch(function(){i(),A_(),n()})})}var tw,ew=!1,nw=function(t){return t.toLowerCase().split(" ").reduce(function(t,e){var n=e.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return t.flipX=!0,t;if(r&&"v"===i)return t.flipY=!0,t;if(i=parseFloat(i),isNaN(i))return t;switch(r){case"grow":t.size=t.size+i;break;case"shrink":t.size=t.size-i;break;case"left":t.x=t.x-i;break;case"right":t.x=t.x+i;break;case"up":t.y=t.y-i;break;case"down":t.y=t.y+i;break;case"rotate":t.rotate=t.rotate+i}return t},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},rw={x:0,y:0,width:"100%",height:"100%"};function iw(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}tw=u_,Xv=[wv,H_,W_,K_,G_,{hooks:function(){return{mutationObserverCallbacks:function(t){return t.pseudoElementsCallback=J_,t}}},provides:function(t){t.pseudoElements2svg=function(t){var e=t.node;uv.searchPseudoElements&&J_(void 0===e?Ab:e)}}},{mixout:function(){return{dom:{unwatch:function(){j_(),ew=!0}}}},hooks:function(){return{bootstrap:function(){P_(n_("mutationObserverCallbacks",{}))},noAuto:function(){M_&&M_.disconnect()},watch:function(t){var e=t.observeMutationsRoot;ew?A_():P_(n_("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}},{mixout:function(){return{parse:{transform:function(t){return nw(t)}}}},hooks:function(){return{parseNodeAttributes:function(t,e){var n=e.getAttribute("data-fa-transform");return n&&(t.transform=nw(n)),t}}},provides:function(t){t.generateAbstractTransformGrouping=function(t){var e=t.main,n=t.transform,r=t.iconWidth,i={transform:"translate(".concat(t.containerWidth/2," 256)")},o="translate(".concat(32*n.x,", ").concat(32*n.y,") "),s="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),a="rotate(".concat(n.rotate," 0 0)"),u={outer:i,inner:{transform:"".concat(o," ").concat(s," ").concat(a)},path:{transform:"translate(".concat(r/2*-1," -256)")}};return{tag:"g",attributes:yb({},u.outer),children:[{tag:"g",attributes:yb({},u.inner),children:[{tag:e.icon.tag,children:e.icon.children,attributes:yb(yb({},e.icon.attributes),u.path)}]}]}}}},{hooks:function(){return{parseNodeAttributes:function(t,e){var n=e.getAttribute("data-fa-mask"),r=n?Yv(n.split(" ").map(function(t){return t.trim()})):{prefix:null,iconName:null,rest:[]};return r.prefix||(r.prefix=$v()),t.mask=r,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides:function(t){t.generateAbstractMask=function(t){var e,n=t.children,r=t.attributes,i=t.main,o=t.mask,s=t.maskId,a=i.icon,u=o.icon,c=function(t){var e=t.transform,n=t.iconWidth,r={transform:"translate(".concat(t.containerWidth/2," 256)")},i="translate(".concat(32*e.x,", ").concat(32*e.y,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),s="rotate(".concat(e.rotate," 0 0)");return{outer:r,inner:{transform:"".concat(i," ").concat(o," ").concat(s)},path:{transform:"translate(".concat(n/2*-1," -256)")}}}({transform:t.transform,containerWidth:o.width,iconWidth:i.width}),l={tag:"rect",attributes:yb(yb({},rw),{},{fill:"white"})},h=a.children?{children:a.children.map(iw)}:{},d={tag:"g",attributes:yb({},c.inner),children:[iw(yb({tag:a.tag,attributes:yb(yb({},a.attributes),c.path)},h))]},f={tag:"g",attributes:yb({},c.outer),children:[d]},p="mask-".concat(s||dv()),g="clip-".concat(s||dv()),m={tag:"mask",attributes:yb(yb({},rw),{},{id:p,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[l,f]},y={tag:"defs",children:[{tag:"clipPath",attributes:{id:g},children:(e=u,"g"===e.tag?e.children:[e])},m]};return n.push(y,{tag:"rect",attributes:yb({fill:"currentColor","clip-path":"url(#".concat(g,")"),mask:"url(#".concat(p,")")},rw)}),{children:n,attributes:r}}}},{provides:function(t){var e=!1;jb.matchMedia&&(e=jb.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){var t=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};t.push({tag:"path",attributes:yb(yb({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var i=yb(yb({},r),{},{attributeName:"opacity"}),o={tag:"circle",attributes:yb(yb({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||o.children.push({tag:"animate",attributes:yb(yb({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:yb(yb({},i),{},{values:"1;0;1;1;0;1;"})}),t.push(o),t.push({tag:"path",attributes:yb(yb({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:yb(yb({},i),{},{values:"1;0;0;0;0;1;"})}]}),e||t.push({tag:"path",attributes:yb(yb({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:yb(yb({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:t}}}},{hooks:function(){return{parseNodeAttributes:function(t,e){var n=e.getAttribute("data-fa-symbol");return t.symbol=null!==n&&(""===n||n),t}}}}],Jv={},Object.keys(t_).forEach(function(t){-1===e_.indexOf(t)&&delete t_[t]}),Xv.forEach(function(t){var e=t.mixout?t.mixout():{};if(Object.keys(e).forEach(function(t){"function"==typeof e[t]&&(tw[t]=e[t]),"object"===bb(e[t])&&Object.keys(e[t]).forEach(function(n){tw[t]||(tw[t]={}),tw[t][n]=e[t][n]})}),t.hooks){var n=t.hooks();Object.keys(n).forEach(function(t){Jv[t]||(Jv[t]=[]),Jv[t].push(n[t])})}t.provides&&t.provides(t_)});let ow=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})();class sw extends zt.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Gt.a;return this._value}next(t){super.next(this._value=t)}}var aw=n("DH7j"),uw=n("yCtX");const cw={};class lw{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new hw(t,this.resultSelector))}}class hw extends Rt{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(cw),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Ft(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===cw?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function dw(t){return new bt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Ot.a)(n):Object(re.b)()).subscribe(e)})}function fw(t){return function(e){const n=new pw(t),r=e.lift(n);return n.caught=r}}class pw{constructor(t){this.selector=t}call(t,e){return e.subscribe(new gw(t,this.selector,this.caught))}}class gw extends xt.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new xt.a(this);this.add(r);const i=Object(xt.c)(n,r);i!==r&&this.add(i)}}}var mw=n("5+tZ");function yw(t,e){return Object(mw.a)(t,e,1)}function bw(t){return function(e){return 0===t?Object(re.b)():e.lift(new vw(t))}}class vw{constructor(t){if(this.total=t,this.total<0)throw new ne}call(t,e){return e.subscribe(new _w(t,this.total))}}class _w extends kt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}var ww=n("vkgz");class Cw{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Ow(t,this.callback))}}class Ow extends kt.a{constructor(t,e){super(t),this.add(new Kt.a(e))}}class xw{constructor(t,e){this.id=t,this.url=e}}class Sw extends xw{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Tw extends xw{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ew extends xw{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class kw extends xw{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Iw extends xw{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nw extends xw{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jw extends xw{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Aw extends xw{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mw extends xw{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pw{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Rw{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Dw{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lw{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fw{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Uw{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vw{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const qw="primary";class Bw{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function zw(t){return new Bw(t)}function Hw(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Ww(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Kw(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Gw(t[i],e[i]))return!1;return!0}function Gw(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function $w(t){return Array.prototype.concat.apply([],t)}function Qw(t){return t.length>0?t[t.length-1]:null}function Yw(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Zw(t){return Object(r.qb)(t)?t:Object(r.rb)(t)?Object(Ot.a)(Promise.resolve(t)):Object(vt.a)(t)}function Xw(t,e,n){return n?function(t,e){return Kw(t,e)}(t.queryParams,e.queryParams)&&Jw(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Gw(t[n],e[n]))}(t.queryParams,e.queryParams)&&tC(t.root,e.root)}function Jw(t,e){if(!oC(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Jw(t.children[n],e.children[n]))return!1}return!0}function tC(t,e){return eC(t,e,e.segments)}function eC(t,e,n){if(t.segments.length>n.length)return!!oC(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!oC(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!tC(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!oC(t.segments,r)&&!!t.children.primary&&eC(t.children.primary,e,i)}}class nC{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zw(this.queryParams)),this._queryParamMap}toString(){return uC.serialize(this)}}class rC{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Yw(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cC(this)}}class iC{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=zw(this.parameters)),this._parameterMap}toString(){return mC(this)}}function oC(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class sC{}class aC{parse(t){const e=new wC(t);return new nC(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${lC(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${dC(e)}=${dC(t)}`).join("&"):`${dC(e)}=${dC(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const uC=new aC;function cC(t){return t.segments.map(t=>mC(t)).join("/")}function lC(t,e){if(!t.hasChildren())return cC(t);if(e){const e=t.children.primary?lC(t.children.primary,!1):"",n=[];return Yw(t.children,(t,e)=>{e!==qw&&n.push(`${e}:${lC(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return Yw(t.children,(t,r)=>{r===qw&&(n=n.concat(e(t,r)))}),Yw(t.children,(t,r)=>{r!==qw&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===qw?[lC(t.children.primary,!1)]:[`${n}:${lC(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${cC(t)}/${e[0]}`:`${cC(t)}/(${e.join("//")})`}}function hC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dC(t){return hC(t).replace(/%3B/gi,";")}function fC(t){return hC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pC(t){return decodeURIComponent(t)}function gC(t){return pC(t.replace(/\+/g,"%20"))}function mC(t){return`${fC(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${fC(t)}=${fC(e[t])}`).join("")}`;var e}const yC=/^[^\/()?;=#]+/;function bC(t){const e=t.match(yC);return e?e[0]:""}const vC=/^[^=?&#]+/,_C=/^[^?&#]+/;class wC{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new rC([],{}):new rC([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new rC(t,e)),n}parseSegment(){const t=bC(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new iC(pC(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=bC(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=bC(this.remaining);t&&(n=t,this.capture(n))}t[pC(e)]=pC(n)}parseQueryParam(t){const e=function(t){const e=t.match(vC);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(_C);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=gC(e),i=gC(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=bC(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=qw);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new rC([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class CC{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=OC(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=OC(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=xC(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return xC(t,this._root).map(t=>t.value)}}function OC(t,e){if(t===e.value)return e;for(const n of e.children){const e=OC(t,n);if(e)return e}return null}function xC(t,e){if(t===e.value)return[e];for(const n of e.children){const r=xC(t,n);if(r.length)return r.unshift(e),r}return[]}class SC{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function TC(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class EC extends CC{constructor(t,e){super(t),this.snapshot=e,MC(this,t)}toString(){return this.snapshot.toString()}}function kC(t,e){const n=function(t,e){const n=new jC([],{},{},"",{},qw,e,null,t.root,-1,{});return new AC("",new SC(n,[]))}(t,e),r=new sw([new iC("",{})]),i=new sw({}),o=new sw({}),s=new sw({}),a=new sw(""),u=new IC(r,i,s,a,o,qw,e,n.root);return u.snapshot=n.root,new EC(new SC(u,[]),n)}class IC{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(wt.a)(t=>zw(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(wt.a)(t=>zw(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function NC(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class jC{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=zw(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zw(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class AC extends CC{constructor(t,e){super(e),this.url=t,MC(this,e)}toString(){return PC(this._root)}}function MC(t,e){e.value._routerState=t,e.children.forEach(e=>MC(t,e))}function PC(t){const e=t.children.length>0?` { ${t.children.map(PC).join(", ")} } `:"";return`${t.value}${e}`}function RC(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Kw(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Kw(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Kw(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Kw(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function DC(t,e){return Kw(t.params,e.params)&&function(t,e){return oC(t,e)&&t.every((t,n)=>Kw(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||DC(t.parent,e.parent))}function LC(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return LC(t,e,r);return LC(t,e)})}(t,e,n);return new SC(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return FC(e,t),t}{const n=new IC(new sw((r=e.value).url),new sw(r.params),new sw(r.queryParams),new sw(r.fragment),new sw(r.data),r.outlet,r.component,r),i=e.children.map(e=>LC(t,e));return new SC(n,i)}}var r}function FC(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)FC(t.children[n],e.children[n])}function UC(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function VC(t){return"object"==typeof t&&null!=t&&t.outlets}function qC(t,e,n,r,i){let o={};return r&&Yw(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new nC(n.root===t?e:BC(n.root,t,e),o,i)}function BC(t,e,n){const r={};return Yw(t.children,(t,i)=>{r[i]=t===e?n:BC(t,e,n)}),new rC(t.segments,r)}class zC{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&UC(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(VC);if(r&&r!==Qw(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class HC{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function WC(t,e,n){if(t||(t=new rC([],{})),0===t.segments.length&&t.hasChildren())return KC(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(VC(s))break;const a=`${s}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!YC(a,u,e))return o;r+=2}else{if(!YC(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new rC(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new rC(t.segments.slice(r.pathIndex),t.children),KC(e,0,i)}return r.match&&0===i.length?new rC(t.segments,{}):r.match&&!t.hasChildren()?GC(t,e,n):r.match?KC(t,0,i):GC(t,e,n)}function KC(t,e,n){if(0===n.length)return new rC(t.segments,{});{const r=function(t){return VC(t[0])?t[0].outlets:{[qw]:t}}(n),i={};return Yw(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=WC(t.children[r],e,n))}),Yw(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new rC(t.segments,i)}}function GC(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(VC(o)){const t=$C(o.outlets);return new rC(r,t)}if(0===i&&UC(n[0])){r.push(new iC(t.segments[e].path,QC(n[0]))),i++;continue}const s=VC(o)?o.outlets.primary:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&UC(a)?(r.push(new iC(s,QC(a))),i+=2):(r.push(new iC(s,{})),i++)}return new rC(r,{})}function $C(t){const e={};return Yw(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=GC(new rC([],{}),0,t))}),e}function QC(t){const e={};return Yw(t,(t,n)=>e[n]=`${t}`),e}function YC(t,e,n){return t==n.path&&Kw(e,n.parameters)}class ZC{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),RC(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=TC(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Yw(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=TC(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=TC(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Uw(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Lw(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(RC(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),XC(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function XC(t){RC(t.value),t.children.forEach(XC)}class JC{constructor(t,e){this.routes=t,this.module=e}}function tO(t){return"function"==typeof t}function eO(t){return t instanceof nC}const nO=Symbol("INITIAL_VALUE");function rO(){return St(t=>function(...t){let e,n;return Object(Er.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(aw.a)(t[0])&&(t=t[0]),Object(uw.a)(t,n).lift(new lw(e))}(t.map(t=>t.pipe(ie(1),kr(nO)))).pipe(It((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==nO)return t;if(r===nO&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||eO(r))return r}return t},t)},nO),Jt(t=>t!==nO),Object(wt.a)(t=>eO(t)?t:!0===t),ie(1)))}let iO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Lb(0,"router-outlet")},directives:function(){return[ZO]},encapsulation:2}),t})();function oO(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];sO(r,aO(e,r))}}function sO(t,e){t.children&&oO(t.children,e)}function aO(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function uO(t){const e=t.children&&t.children.map(uO),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==qw&&(n.component=iO),n}function cO(t){return t.outlet||qw}function lO(t,e){const n=t.filter(t=>cO(t)===e);return n.push(...t.filter(t=>cO(t)!==e)),n}const hO={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function dO(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},hO):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Ww)(n,t,e);if(!i)return Object.assign({},hO);const o={};Yw(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function fO(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>pO(t,e,n)&&cO(n)!==qw)}(t,n,r)){const i=new rC(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&cO(o)!==qw){const n=new rC([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[cO(o)]=n}return i}(t,e,r,new rC(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>pO(t,e,n))}(t,n,r)){const o=new rC(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(pO(t,n,a)&&!i[cO(a)]){const n=new rC([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[cO(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new rC(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function pO(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function gO(t,e,n,r){return!!(cO(t)===r||r!==qw&&pO(e,n,t))&&("**"===t.path||dO(e,t,n).matched)}function mO(t,e,n){return 0===e.length&&!t.children[n]}class yO{constructor(t){this.segmentGroup=t||null}}class bO{constructor(t){this.urlTree=t}}function vO(t){return new bt.a(e=>e.error(new yO(t)))}function _O(t){return new bt.a(e=>e.error(new bO(t)))}function wO(t){return new bt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class CO{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.y)}apply(){const t=fO(this.urlTree.root,[],[],this.config).segmentGroup,e=new rC(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,qw).pipe(Object(wt.a)(t=>this.createUrlTree(OO(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(fw(t=>{if(t instanceof bO)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof yO)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,qw).pipe(Object(wt.a)(e=>this.createUrlTree(OO(e),t.queryParams,t.fragment))).pipe(fw(t=>{if(t instanceof yO)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new rC([],{[qw]:t}):t;return new nC(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(wt.a)(t=>new rC([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(Ot.a)(r).pipe(yw(r=>{const i=n.children[r],o=lO(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(Object(wt.a)(t=>({segment:t,outlet:r})))}),It((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Jt((e,n)=>t(e,n,r)):pe.a,bw(1),n?ae(e):le(()=>new Xt))}())}expandSegment(t,e,n,r,i,o){return Object(Ot.a)(n).pipe(yw(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(fw(t=>{if(t instanceof yO)return Object(vt.a)(null);throw t}))),ge(t=>!!t),fw((t,n)=>{if(t instanceof Xt||"EmptyError"===t.name){if(mO(e,r,i))return Object(vt.a)(new rC([],{}));throw new yO(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return gO(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):vO(e):vO(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?_O(i):this.lineralizeSegments(n,i).pipe(Object(mw.a)(n=>{const i=new rC(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=dO(e,r,i);if(!s)return vO(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?_O(l):this.lineralizeSegments(r,l).pipe(Object(mw.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(wt.a)(t=>(n._loadedConfig=t,new rC(r,{})))):Object(vt.a)(new rC(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=dO(e,n,r);if(!o)return vO(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(mw.a)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=fO(e,s,u,o),l=new rC(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe(Object(wt.a)(t=>new rC(s,t)));if(0===o.length&&0===c.length)return Object(vt.a)(new rC(s,{}));const h=cO(n)===i;return this.expandSegment(r,l,o,c,h?qw:i,!0).pipe(Object(wt.a)(t=>new rC(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(vt.a)(new JC(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(vt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(mw.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(wt.a)(t=>(e._loadedConfig=t,t))):function(t){return new bt.a(e=>e.error(Hw(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(vt.a)(new JC([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(vt.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&tO(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!tO(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Zw(o)});return Object(vt.a)(i).pipe(rO(),Object(ww.a)(t=>{if(!eO(t))return;const e=Hw(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(wt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(vt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return wO(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new nC(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Yw(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Yw(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new rC(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function OO(t){const e={};for(const n of Object.keys(t.children)){const r=OO(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new rC(t.segments.concat(e.segments),e.children)}return t}(new rC(t.segments,e))}class xO{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class SO{constructor(t,e){this.component=t,this.route=e}}function TO(t,e,n){const r=t._root;return kO(r,e?e._root:null,n,[r.value])}function EO(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function kO(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=TC(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!oC(t.url,e.url);case"pathParamsOrQueryParamsChange":return!oC(t.url,e.url)||!Kw(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!DC(t,e)||!Kw(t.queryParams,e.queryParams);case"paramsChange":default:return!DC(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new xO(r)):(o.data=s.data,o._resolvedData=s._resolvedData),kO(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new SO(a.outlet.component,s))}else s&&IO(e,a,i),i.canActivateChecks.push(new xO(r)),kO(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),Yw(o,(t,e)=>IO(t,n.getContext(e),i)),i}function IO(t,e,n){const r=TC(t),i=t.value;Yw(r,(t,r)=>{IO(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new SO(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class NO{}function jO(t){return new bt.a(e=>e.error(t))}class AO{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=fO(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,qw);if(null===e)return null;const n=new jC([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},qw,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new SC(n,e),i=new AC(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=NC(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=lO(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=function(t){const e=[];for(const n of t){if(!MO(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>t.value.outlet===qw?-1:e.value.outlet===qw?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return mO(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!gO(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?Qw(n).parameters:{};i=new jC(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,DO(t),cO(t),t.component,t,PO(e),RO(e)+n.length,LO(t))}else{const r=dO(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new jC(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,DO(t),cO(t),t.component,t,PO(e),RO(e)+o.length,LO(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=fO(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new SC(i,t)]}if(0===a.length&&0===c.length)return[new SC(i,[])];const l=cO(t)===r,h=this.processSegment(a,u,c,l?qw:r);return null===h?null:[new SC(i,h)]}}function MO(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function PO(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function RO(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function DO(t){return t.data||{}}function LO(t){return t.resolve||{}}function FO(t){return St(e=>{const n=t(e);return n?Object(Ot.a)(n).pipe(Object(wt.a)(()=>e)):Object(vt.a)(e)})}class UO extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const VO=new r.r("ROUTES");class qO{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(wt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new JC($w(i.injector.get(VO,void 0,r.q.Self|r.q.Optional)).map(uO),i)}))}loadModuleFactory(t){return"string"==typeof t?Object(Ot.a)(this.loader.load(t)):Zw(t()).pipe(Object(mw.a)(t=>t instanceof r.w?Object(vt.a)(t):Object(Ot.a)(this.compiler.compileModuleAsync(t))))}}class BO{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new zO,this.attachRef=null}}class zO{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new BO,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class HO{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function WO(t){throw t}function KO(t,e,n){return e.parse("/")}function GO(t,e){return Object(vt.a)(null)}let $O=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new zt.a,this.errorHandler=WO,this.malformedUriErrorHandler=KO,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:GO,afterPreactivation:GO},this.urlHandlingStrategy=new HO,this.routeReuseStrategy=new UO,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.y),this.console=o.get(r.Y);const c=o.get(r.A);this.isNgZoneEnabled=c instanceof r.A&&r.A.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new nC(new rC([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new qO(s,a,t=>this.triggerEvent(new Pw(t)),t=>this.triggerEvent(new Rw(t))),this.routerState=kC(this.currentUrlTree,this.rootComponentType),this.transitions=new sw({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Jt(t=>0!==t.id),Object(wt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),St(t=>{let n=!1,r=!1;return Object(vt.a)(t).pipe(Object(ww.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),St(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(vt.a)(t).pipe(St(t=>{const n=this.transitions.getValue();return e.next(new Sw(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?re.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,St(t=>function(t,e,n,r,i){return new CO(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(wt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(ww.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(mw.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new AO(t,e,n,r,i,o).recognize();return null===s?jO(new NO):Object(vt.a)(s)}catch(Qy){return jO(Qy)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(wt.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(ww.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new Iw(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new Sw(n,this.serializeUrl(r),i,o);e.next(a);const u=kC(r,this.rootComponentType).snapshot;return Object(vt.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),re.a}),FO(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(ww.a)(t=>{const e=new Nw(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(wt.a)(t=>Object.assign(Object.assign({},t),{guards:TO(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(mw.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(vt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Ot.a)(t).pipe(Object(mw.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(vt.a)(!0);const s=o.map(o=>{const s=EO(o,e,i);let a;if(function(t){return t&&tO(t.canDeactivate)}(s))a=Zw(s.canDeactivate(t,e,n,r));else{if(!tO(s))throw new Error("Invalid CanDeactivate guard");a=Zw(s(t,e,n,r))}return a.pipe(ge())});return Object(vt.a)(s).pipe(rO())}(t.component,t.route,n,e,r)),ge(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(mw.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(Ot.a)(e).pipe(yw(e=>Tr(function(t,e){return null!==t&&e&&e(new Dw(t)),Object(vt.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Fw(t)),Object(vt.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>dw(()=>{const i=e.guards.map(i=>{const o=EO(i,e.node,n);let s;if(function(t){return t&&tO(t.canActivateChild)}(o))s=Zw(o.canActivateChild(r,t));else{if(!tO(o))throw new Error("Invalid CanActivateChild guard");s=Zw(o(r,t))}return s.pipe(ge())});return Object(vt.a)(i).pipe(rO())}));return Object(vt.a)(i).pipe(rO())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(vt.a)(!0);const i=r.map(r=>dw(()=>{const i=EO(r,e,n);let o;if(function(t){return t&&tO(t.canActivate)}(i))o=Zw(i.canActivate(e,t));else{if(!tO(i))throw new Error("Invalid CanActivate guard");o=Zw(i(e,t))}return o.pipe(ge())}));return Object(vt.a)(i).pipe(rO())}(t,e.route,n))),ge(t=>!0!==t,!0))}(r,o,t,e):Object(vt.a)(n)),Object(wt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(ww.a)(t=>{if(eO(t.guardsResult)){const e=Hw(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new jw(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Jt(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Ew(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),FO(t=>{if(t.guards.canActivateChecks.length)return Object(vt.a)(t).pipe(Object(ww.a)(t=>{const e=new Aw(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),St(t=>{let n=!1;return Object(vt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(mw.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(vt.a)(t);let o=0;return Object(Ot.a)(n).pipe(yw(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(vt.a)({});const o={};return Object(Ot.a)(i).pipe(Object(mw.a)(i=>function(t,e,n,r){const i=EO(t,e,r);return Zw(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(ww.a)(t=>{o[i]=t}))),bw(1),Object(mw.a)(()=>Object.keys(o).length===i.length?Object(vt.a)(o):re.a))}(t._resolve,t,e,r).pipe(Object(wt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),NC(t,n).resolve),null)))}(t.route,e,r,i)),Object(ww.a)(()=>o++),bw(1),Object(mw.a)(e=>o===n.length?Object(vt.a)(t):re.a))})),Object(ww.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Ew(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(ww.a)(t=>{const e=new Mw(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),FO(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(wt.a)(t=>{const e=function(t,e,n){const r=LC(t,e._root,n?n._root:void 0);return new EC(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(ww.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(wt.a)(t=>(new ZC(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Object(ww.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Ew(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Cw(i))),fw(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=eO(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Ew(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new kw(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(yc){t.reject(yc)}}var i;return re.a}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){oO(t),this.config=t.map(uO),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return qC(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new zC(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Yw(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new zC(n,e,r)}(n);if(o.toRoot())return qC(e.root,new rC([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new HC(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new HC(t,t===e.root,0)}const r=UC(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new HC(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?KC(s.segmentGroup,s.index,o.commands):WC(s.segmentGroup,s.index,o.commands);return qC(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=eO(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(Qy){e=this.malformedUriErrorHandler(Qy,this.urlSerializer,t)}return e}isActive(t,e){if(eO(t))return Xw(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Xw(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Tw(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.N),r.Rb(sC),r.Rb(zO),r.Rb(w),r.Rb(r.s),r.Rb(r.x),r.Rb(r.i),r.Rb(void 0))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),QO=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new zt.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:YO(this.skipLocationChange),replaceUrl:YO(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:YO(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb($O),r.Kb(IC),r.Sb("tabindex"),r.Kb(r.E),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Ub("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.yb]}),t})();function YO(t){return""===t||!!t}let ZO=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||qw,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new XO(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(zO),r.Kb(r.Q),r.Kb(r.j),r.Sb("name"),r.Kb(r.h))},t.\u0275dir=r.Fb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class XO{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===IC?this.route:t===zO?this.childContexts:this.parent.get(t,e)}}class JO{}class tx{preload(t,e){return Object(vt.a)(null)}}let ex=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new qO(e,n,e=>t.triggerEvent(new Pw(e)),e=>t.triggerEvent(new Rw(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Jt(t=>t instanceof Tw),yw(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(Ot.a)(n).pipe(Object(Sr.a)(),Object(wt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(mw.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb($O),r.Rb(r.x),r.Rb(r.i),r.Rb(r.s),r.Rb(JO))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),nx=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Sw?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Tw&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Vw&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Vw(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb($O),r.Rb(F),r.Rb(void 0))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const rx=new r.r("ROUTER_CONFIGURATION"),ix=new r.r("ROUTER_FORROOT_GUARD"),ox=[w,{provide:sC,useClass:aC},{provide:$O,useFactory:function(t,e,n,r,i,s,a,u={},c,l){const h=new $O(null,t,e,n,r,i,s,$w(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[sC,zO,w,r.s,r.x,r.i,VO,rx,[class{},new r.B],[class{},new r.B]]},zO,{provide:IC,useFactory:function(t){return t.routerState.root},deps:[$O]},{provide:r.x,useClass:r.K},ex,tx,class{preload(t,e){return e().pipe(fw(()=>Object(vt.a)(null)))}},{provide:rx,useValue:{enableTracing:!1}}];function sx(){return new r.z("Router",$O)}let ax=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[ox,hx(e),{provide:ix,useFactory:lx,deps:[[$O,new r.B,new r.J]]},{provide:rx,useValue:n||{}},{provide:m,useFactory:cx,deps:[a,[new r.p(b),new r.B],rx]},{provide:nx,useFactory:ux,deps:[$O,F,rx]},{provide:JO,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:tx},{provide:r.z,multi:!0,useFactory:sx},[dx,{provide:r.d,multi:!0,useFactory:fx,deps:[dx]},{provide:gx,useFactory:px,deps:[dx]},{provide:r.b,multi:!0,useExisting:gx}]]}}static forChild(e){return{ngModule:t,providers:[hx(e)]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Rb(ix,8),r.Rb($O,8))}}),t})();function ux(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new nx(t,e,n)}function cx(t,e,n={}){return n.useHash?new _(t,e):new v(t,e)}function lx(t){return"guarded"}function hx(t){return[{provide:r.a,multi:!0,useValue:t},{provide:VO,multi:!0,useValue:t}]}let dx=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new zt.a}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get($O),r=this.injector.get(rx);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(vt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(rx),n=this.injector.get(ex),i=this.injector.get(nx),o=this.injector.get($O),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.s))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();function fx(t){return t.appInitializer.bind(t)}function px(t){return t.bootstrapListener.bind(t)}const gx=new r.r("Router Initializer");var mx={prefix:"fas",iconName:"arrow-left",icon:[448,512,[],"f060","M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"]},yx={prefix:"fas",iconName:"bell",icon:[448,512,[],"f0f3","M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"]},bx={prefix:"fas",iconName:"car",icon:[512,512,[],"f1b9","M499.99 176h-59.87l-16.64-41.6C406.38 91.63 365.57 64 319.5 64h-127c-46.06 0-86.88 27.63-103.99 70.4L71.87 176H12.01C4.2 176-1.53 183.34.37 190.91l6 24C7.7 220.25 12.5 224 18.01 224h20.07C24.65 235.73 16 252.78 16 272v48c0 16.12 6.16 30.67 16 41.93V416c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-32h256v32c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-54.07c9.84-11.25 16-25.8 16-41.93v-48c0-19.22-8.65-36.27-22.07-48H494c5.51 0 10.31-3.75 11.64-9.09l6-24c1.89-7.57-3.84-14.91-11.65-14.91zm-352.06-17.83c7.29-18.22 24.94-30.17 44.57-30.17h127c19.63 0 37.28 11.95 44.57 30.17L384 208H128l19.93-49.83zM96 319.8c-19.2 0-32-12.76-32-31.9S76.8 256 96 256s48 28.71 48 47.85-28.8 15.95-48 15.95zm320 0c-19.2 0-48 3.19-48-15.95S396.8 256 416 256s32 12.76 32 31.9-12.8 31.9-32 31.9z"]},vx={prefix:"fas",iconName:"edit",icon:[576,512,[],"f044","M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"]},_x={prefix:"fas",iconName:"hand-holding-heart",icon:[576,512,[],"f4be","M275.3 250.5c7 7.4 18.4 7.4 25.5 0l108.9-114.2c31.6-33.2 29.8-88.2-5.6-118.8-30.8-26.7-76.7-21.9-104.9 7.7L288 36.9l-11.1-11.6C248.7-4.4 202.8-9.2 172 17.5c-35.3 30.6-37.2 85.6-5.6 118.8l108.9 114.2zm290 77.6c-11.8-10.7-30.2-10-42.6 0L430.3 402c-11.3 9.1-25.4 14-40 14H272c-8.8 0-16-7.2-16-16s7.2-16 16-16h78.3c15.9 0 30.7-10.9 33.3-26.6 3.3-20-12.1-37.4-31.6-37.4H192c-27 0-53.1 9.3-74.1 26.3L71.4 384H16c-8.8 0-16 7.2-16 16v96c0 8.8 7.2 16 16 16h356.8c14.5 0 28.6-4.9 40-14L564 377c15.2-12.1 16.4-35.3 1.3-48.9z"]},wx={prefix:"fas",iconName:"home",icon:[576,512,[],"f015","M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"]},Cx={prefix:"fas",iconName:"magnet",icon:[512,512,[],"f076","M164.07 148.1H12a12 12 0 0 1-12-12v-80a36 36 0 0 1 36-36h104a36 36 0 0 1 36 36v80a11.89 11.89 0 0 1-11.93 12zm347.93-12V56a36 36 0 0 0-36-36H372a36 36 0 0 0-36 36v80a12 12 0 0 0 12 12h152a11.89 11.89 0 0 0 12-11.9zm-164 44a12 12 0 0 0-12 12v52c0 128.1-160 127.9-160 0v-52a12 12 0 0 0-12-12H12.1a12 12 0 0 0-12 12.1c.1 21.4.6 40.3 0 53.3 0 150.6 136.17 246.6 256.75 246.6s255-96 255-246.7c-.6-12.8-.2-33 0-53.2a12 12 0 0 0-12-12.1z"]},Ox={prefix:"fas",iconName:"shopping-basket",icon:[576,512,[],"f291","M576 216v16c0 13.255-10.745 24-24 24h-8l-26.113 182.788C514.509 462.435 494.257 480 470.37 480H105.63c-23.887 0-44.139-17.565-47.518-41.212L32 256h-8c-13.255 0-24-10.745-24-24v-16c0-13.255 10.745-24 24-24h67.341l106.78-146.821c10.395-14.292 30.407-17.453 44.701-7.058 14.293 10.395 17.453 30.408 7.058 44.701L170.477 192h235.046L326.12 82.821c-10.395-14.292-7.234-34.306 7.059-44.701 14.291-10.395 34.306-7.235 44.701 7.058L484.659 192H552c13.255 0 24 10.745 24 24zM312 392V280c0-13.255-10.745-24-24-24s-24 10.745-24 24v112c0 13.255 10.745 24 24 24s24-10.745 24-24zm112 0V280c0-13.255-10.745-24-24-24s-24 10.745-24 24v112c0 13.255 10.745 24 24 24s24-10.745 24-24zm-224 0V280c0-13.255-10.745-24-24-24s-24 10.745-24 24v112c0 13.255 10.745 24 24 24s24-10.745 24-24z"]},xx={prefix:"fas",iconName:"user-alt",icon:[512,512,[],"f406","M256 288c79.5 0 144-64.5 144-144S335.5 0 256 0 112 64.5 112 144s64.5 144 144 144zm128 32h-55.1c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16H128C57.3 320 0 377.3 0 448v16c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48v-16c0-70.7-57.3-128-128-128z"]};function Sx(t,e){if(1&t&&(r.Nb(0,"tr"),r.Lb(1,"th",14),r.Nb(2,"td"),r.jc(3),r.Mb(),r.Nb(4,"td"),r.jc(5),r.Mb(),r.Nb(6,"td"),r.jc(7),r.Mb(),r.Nb(8,"td"),r.jc(9),r.Mb(),r.Mb()),2&t){const t=e.$implicit;r.Ab(3),r.kc(t.name),r.Ab(2),r.kc(t.email),r.Ab(2),r.kc(t.phone),r.Ab(2),r.kc(t.address)}}let Tx=(()=>{class t{constructor(t,e,n){this.database=t,this.fbs=e,this.firestore=n,this.faEdit=vx,this.showInput=!1,this.showSeacrhSpace=!1,this.showInfo=!1,this.filterBy="category",this.dropDownOn1=!1,this.dropDownOn2=!1,this.chosenTopic="new",this.docs=[],this.myArray=[],this.loading=!0}ngOnInit(){this.database.list("users").valueChanges().subscribe(t=>{this.customers=t,this.docs=[],this.fbs.collection("users").valueChanges().subscribe(t=>{this.myArray=t,console.log(t)})})}showInputMeth(){this.showInput=!this.showInput}setFilterBy(t){this.filterBy=t,this.dropDownOn1=!1}filter(t){this.database.list("orders/",e=>e.orderByChild(`${this.filterBy}`).equalTo(t)).valueChanges().subscribe(t=>{this.customers=t,this.loading=!1})}getData(){return this.fbs.collection("users").snapshotChanges()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(qe),r.Kb(fb),r.Kb(fb))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-customers"]],decls:31,vars:1,consts:[["id","main",1,"main"],[1,"pagetitle"],[1,"breadcrumb"],["routerLink","registration",1,"breadcrumb-item"],["href","dashboard"],[1,"section"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"table","datatable"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"]],template:function(t,e){1&t&&(r.Nb(0,"main",0),r.Nb(1,"div",1),r.Nb(2,"h1"),r.jc(3,"Customers"),r.Mb(),r.Nb(4,"nav"),r.Nb(5,"ol",2),r.Nb(6,"li",3),r.Nb(7,"a",4),r.jc(8,"Home"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(9,"section",5),r.Nb(10,"div",6),r.Nb(11,"div",7),r.Nb(12,"div",8),r.Nb(13,"div",9),r.Nb(14,"h5",10),r.jc(15,"Customers "),r.Mb(),r.Nb(16,"table",11),r.Nb(17,"thead"),r.Nb(18,"tr"),r.Nb(19,"th",12),r.jc(20,"#"),r.Mb(),r.Nb(21,"th",12),r.jc(22,"Name"),r.Mb(),r.Nb(23,"th",12),r.jc(24,"Email"),r.Mb(),r.Nb(25,"th",12),r.jc(26,"phone"),r.Mb(),r.Nb(27,"th",12),r.jc(28,"Address"),r.Mb(),r.Mb(),r.Mb(),r.Nb(29,"tbody"),r.ic(30,Sx,10,4,"tr",13),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb()),2&t&&(r.Ab(30),r.Zb("ngForOf",e.myArray))},directives:[QO,N],styles:[".main-customers[_ngcontent-%COMP%]{width:100%;height:100%}.mock-line[_ngcontent-%COMP%]{background-color:hsla(0,0%,50.2%,.425);width:100%;margin-top:5%;margin-bottom:5%;height:1px}.top-bar[_ngcontent-%COMP%]{width:100%;height:8.5vh;display:flex;align-items:center;justify-content:space-between;padding-left:1.5rem;padding-right:1.5rem}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:17rem;margin-right:1%;border-radius:.5rem;border:none;font-size:16px;padding:4px 4px 4px 10px;animation-name:input-anim;animation-duration:.5s;transition:ease-in-out}@keyframes input-anim{0%{width:1rem}to{width:17rem}}.search-button[_ngcontent-%COMP%]{border:none;margin-right:1%;cursor:pointer;padding:7px;border-radius:.5rem;transition:.2s ease-in-out;font-weight:700;background-color:#fff}.search-button[_ngcontent-%COMP%]:hover{transform:scale(105%);background-color:#038138;color:#fff}.search-space[_ngcontent-%COMP%]{position:absolute;width:21.5rem;top:0;right:0;background-color:#f4fdeb;height:100Vh;animation-name:search-space-anim-in;animation-duration:.5s;transition:ease-in-out;box-shadow:-3px 0 5px -2px grey;z-index:5}.search-space-top[_ngcontent-%COMP%]{width:90%;margin-left:7.5%;margin-top:5%;display:flex;flex-direction:row;align-items:center;gap:.5rem}.search-input[_ngcontent-%COMP%]{border:1px solid grey}@keyframes search-space-anim-in{0%{width:1rem}to{width:21.5rem}}@keyframes search-space-anim-out{0%{width:21.5rem}to{width:0}}h3[_ngcontent-%COMP%]{padding-left:1rem;font-weight:700;color:#fff}.toggle-details[_ngcontent-%COMP%], .toggle-details-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.toggle-details[_ngcontent-%COMP%]{gap:1rem;margin-right:2rem}.showDetails[_ngcontent-%COMP%]{margin-left:1rem;min-width:4rem}.filter-dropdown[_ngcontent-%COMP%]{z-index:3}.filterBy-span[_ngcontent-%COMP%]{font-size:14px;text-align:center;font-weight:700;cursor:pointer}.drop-down-container[_ngcontent-%COMP%], .filterBy-span[_ngcontent-%COMP%]{width:5rem;padding:4px;background-color:#fff}.drop-down-container[_ngcontent-%COMP%]{display:flex;list-style-type:none;flex-direction:column;align-items:center;justify-content:center;position:absolute;max-height:5rem;animation-name:drop-down-anim-in;animation-duration:.2s;transition:ease-in-out;box-shadow:0 3px 3px 2px hsla(0,0%,50.2%,.445)}.drop-down-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;cursor:pointer;border-bottom:1px solid hsla(0,0%,50.2%,.37);width:100%;text-align:center}.drop-down-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.drop-down-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{opacity:.8}@keyframes drop-down-anim-in{0%{height:1rem}to{height:5rem}}.top-table[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;align-items:center;gap:1rem;flex-wrap:nowrap;border-bottom:1px solid hsla(0,0%,50.2%,.848);padding-top:5px;padding-bottom:5px;font-weight:700;text-align:center;position:sticky;top:0}.customers[_ngcontent-%COMP%]{overflow-y:scroll;height:100vh;padding-top:1.5%}.customers[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;width:95%;margin:.5% 2.5% 2.5%;overflow:hidden;padding:1rem;height:84vh;overflow-y:scroll;background-color:rgba(229,233,236,.8274509803921568);border-radius:.5rem;box-shadow:2px 2px 5px 2px rgba(20,20,20,.096)}.customers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;align-items:center;gap:1rem;flex-wrap:nowrap;border-bottom:1px solid rgba(77,76,76,.182);padding-top:5px;padding-bottom:5px;text-align:center;transition:.2s ease-in-out}.customers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:rgba(204,202,202,.363)}.customers-individual[_ngcontent-%COMP%]{width:10rem;overflow:hidden}.cancel[_ngcontent-%COMP%]{background-color:tomato;width:5rem;cursor:pointer;border-radius:.5rem;transition:.3s ease-in-out;color:bisque}.cancel[_ngcontent-%COMP%]:hover{background-color:brown;color:#fff}.canceled[_ngcontent-%COMP%]{background-color:tomato;cursor:default;color:bisque;opacity:.4}.canceled[_ngcontent-%COMP%], .edit[_ngcontent-%COMP%]{width:5rem;border-radius:.5rem}.edit[_ngcontent-%COMP%]{background-color:#d3fd85;cursor:pointer;transition:.3s ease-in-out;color:#000}.edit[_ngcontent-%COMP%]:hover{background-color:#694b13;color:#fff}.freeze[_ngcontent-%COMP%]{background-color:#47f3ff;width:5rem;cursor:pointer;border-radius:.5rem;transition:.3s ease-in-out;color:#000}.freeze[_ngcontent-%COMP%]:hover{background-color:#21487c;color:#fff}#addbutton[_ngcontent-%COMP%]{line-height:12px;width:18px;font-size:8pt;font-family:tahoma;margin-top:1px;margin-right:2px;position:absolute;top:20;right:0;color:green}"]}),t})(),Ex=(()=>{class t{constructor(){this.destroy$=new zt.a}ngOnInit(){}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-dashboard"]],decls:323,vars:0,consts:[["id","main",1,"main"],[1,"pagetitle"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","index.html"],[1,"breadcrumb-item","active"],[1,"section","dashboard"],[1,"row"],[1,"col-lg-8"],[1,"col-xxl-4","col-md-6"],[1,"card","info-card","sales-card"],[1,"filter"],["href","#","data-bs-toggle","dropdown",1,"icon"],[1,"bi","bi-three-dots"],[1,"dropdown-menu","dropdown-menu-end","dropdown-menu-arrow"],[1,"dropdown-header","text-start"],["href","#",1,"dropdown-item"],[1,"card-body"],[1,"card-title"],[1,"d-flex","align-items-center"],[1,"card-icon","rounded-circle","d-flex","align-items-center","justify-content-center"],[1,"bi","bi-cart"],[1,"ps-3"],[1,"text-success","small","pt-1","fw-bold"],[1,"text-muted","small","pt-2","ps-1"],[1,"card","info-card","revenue-card"],[1,"bi","bi-currency-dollar"],[1,"col-xxl-4","col-xl-12"],[1,"card","info-card","customers-card"],[1,"bi","bi-people"],[1,"text-danger","small","pt-1","fw-bold"],[1,"col-12"],[1,"card","recent-sales","overflow-auto"],[1,"table","table-borderless","datatable"],["scope","col"],["scope","row"],["href","#"],["href","#",1,"text-primary"],[1,"badge","bg-success"],[1,"badge","bg-warning"],["href","#",1,"text-primar"],[1,"badge","bg-danger"],[1,"card","top-selling","overflow-auto"],[1,"card-body","pb-0"],[1,"table","table-borderless"],["src","assets/img/product-1.jpg","alt",""],["href","#",1,"text-primary","fw-bold"],[1,"fw-bold"],["src","assets/img/product-2.jpg","alt",""],["src","assets/img/product-3.jpg","alt",""],["src","assets/img/product-4.jpg","alt",""],["src","assets/img/product-5.jpg","alt",""]],template:function(t,e){1&t&&(r.Nb(0,"main",0),r.Nb(1,"div",1),r.Nb(2,"h1"),r.jc(3,"Dashboard"),r.Mb(),r.Nb(4,"nav"),r.Nb(5,"ol",2),r.Nb(6,"li",3),r.Nb(7,"a",4),r.jc(8,"Home"),r.Mb(),r.Mb(),r.Nb(9,"li",5),r.jc(10,"Dashboard"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(11,"section",6),r.Nb(12,"div",7),r.Nb(13,"div",8),r.Nb(14,"div",7),r.Nb(15,"div",9),r.Nb(16,"div",10),r.Nb(17,"div",11),r.Nb(18,"a",12),r.Lb(19,"i",13),r.Mb(),r.Nb(20,"ul",14),r.Nb(21,"li",15),r.Nb(22,"h6"),r.jc(23,"Filter"),r.Mb(),r.Mb(),r.Nb(24,"li"),r.Nb(25,"a",16),r.jc(26,"Today"),r.Mb(),r.Mb(),r.Nb(27,"li"),r.Nb(28,"a",16),r.jc(29,"This Month"),r.Mb(),r.Mb(),r.Nb(30,"li"),r.Nb(31,"a",16),r.jc(32,"This Year"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(33,"div",17),r.Nb(34,"h5",18),r.jc(35,"Sales "),r.Nb(36,"span"),r.jc(37,"| Today"),r.Mb(),r.Mb(),r.Nb(38,"div",19),r.Nb(39,"div",20),r.Lb(40,"i",21),r.Mb(),r.Nb(41,"div",22),r.Nb(42,"h6"),r.jc(43,"145"),r.Mb(),r.Nb(44,"span",23),r.jc(45,"12%"),r.Mb(),r.Nb(46,"span",24),r.jc(47,"increase"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(48,"div",9),r.Nb(49,"div",25),r.Nb(50,"div",11),r.Nb(51,"a",12),r.Lb(52,"i",13),r.Mb(),r.Nb(53,"ul",14),r.Nb(54,"li",15),r.Nb(55,"h6"),r.jc(56,"Filter"),r.Mb(),r.Mb(),r.Nb(57,"li"),r.Nb(58,"a",16),r.jc(59,"Today"),r.Mb(),r.Mb(),r.Nb(60,"li"),r.Nb(61,"a",16),r.jc(62,"This Month"),r.Mb(),r.Mb(),r.Nb(63,"li"),r.Nb(64,"a",16),r.jc(65,"This Year"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(66,"div",17),r.Nb(67,"h5",18),r.jc(68,"Revenue "),r.Nb(69,"span"),r.jc(70,"| This Month"),r.Mb(),r.Mb(),r.Nb(71,"div",19),r.Nb(72,"div",20),r.Lb(73,"i",26),r.Mb(),r.Nb(74,"div",22),r.Nb(75,"h6"),r.jc(76,"$3,264"),r.Mb(),r.Nb(77,"span",23),r.jc(78,"8%"),r.Mb(),r.Nb(79,"span",24),r.jc(80,"increase"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(81,"div",27),r.Nb(82,"div",28),r.Nb(83,"div",11),r.Nb(84,"a",12),r.Lb(85,"i",13),r.Mb(),r.Nb(86,"ul",14),r.Nb(87,"li",15),r.Nb(88,"h6"),r.jc(89,"Filter"),r.Mb(),r.Mb(),r.Nb(90,"li"),r.Nb(91,"a",16),r.jc(92,"Today"),r.Mb(),r.Mb(),r.Nb(93,"li"),r.Nb(94,"a",16),r.jc(95,"This Month"),r.Mb(),r.Mb(),r.Nb(96,"li"),r.Nb(97,"a",16),r.jc(98,"This Year"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(99,"div",17),r.Nb(100,"h5",18),r.jc(101,"Customers "),r.Nb(102,"span"),r.jc(103,"| This Year"),r.Mb(),r.Mb(),r.Nb(104,"div",19),r.Nb(105,"div",20),r.Lb(106,"i",29),r.Mb(),r.Nb(107,"div",22),r.Nb(108,"h6"),r.jc(109,"1244"),r.Mb(),r.Nb(110,"span",30),r.jc(111,"12%"),r.Mb(),r.Nb(112,"span",24),r.jc(113,"decrease"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(114,"div",31),r.Nb(115,"div",32),r.Nb(116,"div",11),r.Nb(117,"a",12),r.Lb(118,"i",13),r.Mb(),r.Nb(119,"ul",14),r.Nb(120,"li",15),r.Nb(121,"h6"),r.jc(122,"Filter"),r.Mb(),r.Mb(),r.Nb(123,"li"),r.Nb(124,"a",16),r.jc(125,"Today"),r.Mb(),r.Mb(),r.Nb(126,"li"),r.Nb(127,"a",16),r.jc(128,"This Month"),r.Mb(),r.Mb(),r.Nb(129,"li"),r.Nb(130,"a",16),r.jc(131,"This Year"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(132,"div",17),r.Nb(133,"h5",18),r.jc(134,"Recent Sales "),r.Nb(135,"span"),r.jc(136,"| Today"),r.Mb(),r.Mb(),r.Nb(137,"table",33),r.Nb(138,"thead"),r.Nb(139,"tr"),r.Nb(140,"th",34),r.jc(141,"#"),r.Mb(),r.Nb(142,"th",34),r.jc(143,"Customer"),r.Mb(),r.Nb(144,"th",34),r.jc(145,"Product"),r.Mb(),r.Nb(146,"th",34),r.jc(147,"Price"),r.Mb(),r.Nb(148,"th",34),r.jc(149,"Status"),r.Mb(),r.Mb(),r.Mb(),r.Nb(150,"tbody"),r.Nb(151,"tr"),r.Nb(152,"th",35),r.Nb(153,"a",36),r.jc(154,"#2457"),r.Mb(),r.Mb(),r.Nb(155,"td"),r.jc(156,"zaher najib"),r.Mb(),r.Nb(157,"td"),r.Nb(158,"a",37),r.jc(159,"At praesentium minu"),r.Mb(),r.Mb(),r.Nb(160,"td"),r.jc(161,"$64"),r.Mb(),r.Nb(162,"td"),r.Nb(163,"span",38),r.jc(164,"Approved"),r.Mb(),r.Mb(),r.Mb(),r.Nb(165,"tr"),r.Nb(166,"th",35),r.Nb(167,"a",36),r.jc(168,"#2147"),r.Mb(),r.Mb(),r.Nb(169,"td"),r.jc(170,"Bridie Kessler"),r.Mb(),r.Nb(171,"td"),r.Nb(172,"a",37),r.jc(173,"Blanditiis dolor omnis similique"),r.Mb(),r.Mb(),r.Nb(174,"td"),r.jc(175,"$47"),r.Mb(),r.Nb(176,"td"),r.Nb(177,"span",39),r.jc(178,"Pending"),r.Mb(),r.Mb(),r.Mb(),r.Nb(179,"tr"),r.Nb(180,"th",35),r.Nb(181,"a",36),r.jc(182,"#2049"),r.Mb(),r.Mb(),r.Nb(183,"td"),r.jc(184,"Ashleigh Langosh"),r.Mb(),r.Nb(185,"td"),r.Nb(186,"a",37),r.jc(187,"At recusandae consectetur"),r.Mb(),r.Mb(),r.Nb(188,"td"),r.jc(189,"$147"),r.Mb(),r.Nb(190,"td"),r.Nb(191,"span",38),r.jc(192,"Approved"),r.Mb(),r.Mb(),r.Mb(),r.Nb(193,"tr"),r.Nb(194,"th",35),r.Nb(195,"a",36),r.jc(196,"#2644"),r.Mb(),r.Mb(),r.Nb(197,"td"),r.jc(198,"Angus Grady"),r.Mb(),r.Nb(199,"td"),r.Nb(200,"a",40),r.jc(201,"Ut voluptatem id earum et"),r.Mb(),r.Mb(),r.Nb(202,"td"),r.jc(203,"$67"),r.Mb(),r.Nb(204,"td"),r.Nb(205,"span",41),r.jc(206,"Rejected"),r.Mb(),r.Mb(),r.Mb(),r.Nb(207,"tr"),r.Nb(208,"th",35),r.Nb(209,"a",36),r.jc(210,"#2644"),r.Mb(),r.Mb(),r.Nb(211,"td"),r.jc(212,"Raheem Lehner"),r.Mb(),r.Nb(213,"td"),r.Nb(214,"a",37),r.jc(215,"Sunt similique distinctio"),r.Mb(),r.Mb(),r.Nb(216,"td"),r.jc(217,"$165"),r.Mb(),r.Nb(218,"td"),r.Nb(219,"span",38),r.jc(220,"Approved"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(221,"div",31),r.Nb(222,"div",42),r.Nb(223,"div",11),r.Nb(224,"a",12),r.Lb(225,"i",13),r.Mb(),r.Nb(226,"ul",14),r.Nb(227,"li",15),r.Nb(228,"h6"),r.jc(229,"Filter"),r.Mb(),r.Mb(),r.Nb(230,"li"),r.Nb(231,"a",16),r.jc(232,"Today"),r.Mb(),r.Mb(),r.Nb(233,"li"),r.Nb(234,"a",16),r.jc(235,"This Month"),r.Mb(),r.Mb(),r.Nb(236,"li"),r.Nb(237,"a",16),r.jc(238,"This Year"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(239,"div",43),r.Nb(240,"h5",18),r.jc(241,"Top Selling "),r.Nb(242,"span"),r.jc(243,"| Today"),r.Mb(),r.Mb(),r.Nb(244,"table",44),r.Nb(245,"thead"),r.Nb(246,"tr"),r.Nb(247,"th",34),r.jc(248,"Preview"),r.Mb(),r.Nb(249,"th",34),r.jc(250,"Product"),r.Mb(),r.Nb(251,"th",34),r.jc(252,"Price"),r.Mb(),r.Nb(253,"th",34),r.jc(254,"Sold"),r.Mb(),r.Nb(255,"th",34),r.jc(256,"Revenue"),r.Mb(),r.Mb(),r.Mb(),r.Nb(257,"tbody"),r.Nb(258,"tr"),r.Nb(259,"th",35),r.Nb(260,"a",36),r.Lb(261,"img",45),r.Mb(),r.Mb(),r.Nb(262,"td"),r.Nb(263,"a",46),r.jc(264,"Ut inventore ipsa voluptas nulla"),r.Mb(),r.Mb(),r.Nb(265,"td"),r.jc(266,"$64"),r.Mb(),r.Nb(267,"td",47),r.jc(268,"124"),r.Mb(),r.Nb(269,"td"),r.jc(270,"$5,828"),r.Mb(),r.Mb(),r.Nb(271,"tr"),r.Nb(272,"th",35),r.Nb(273,"a",36),r.Lb(274,"img",48),r.Mb(),r.Mb(),r.Nb(275,"td"),r.Nb(276,"a",46),r.jc(277,"Exercitationem similique doloremque"),r.Mb(),r.Mb(),r.Nb(278,"td"),r.jc(279,"$46"),r.Mb(),r.Nb(280,"td",47),r.jc(281,"98"),r.Mb(),r.Nb(282,"td"),r.jc(283,"$4,508"),r.Mb(),r.Mb(),r.Nb(284,"tr"),r.Nb(285,"th",35),r.Nb(286,"a",36),r.Lb(287,"img",49),r.Mb(),r.Mb(),r.Nb(288,"td"),r.Nb(289,"a",46),r.jc(290,"Doloribus nisi exercitationem"),r.Mb(),r.Mb(),r.Nb(291,"td"),r.jc(292,"$59"),r.Mb(),r.Nb(293,"td",47),r.jc(294,"74"),r.Mb(),r.Nb(295,"td"),r.jc(296,"$4,366"),r.Mb(),r.Mb(),r.Nb(297,"tr"),r.Nb(298,"th",35),r.Nb(299,"a",36),r.Lb(300,"img",50),r.Mb(),r.Mb(),r.Nb(301,"td"),r.Nb(302,"a",46),r.jc(303,"Officiis quaerat sint rerum error"),r.Mb(),r.Mb(),r.Nb(304,"td"),r.jc(305,"$32"),r.Mb(),r.Nb(306,"td",47),r.jc(307,"63"),r.Mb(),r.Nb(308,"td"),r.jc(309,"$2,016"),r.Mb(),r.Mb(),r.Nb(310,"tr"),r.Nb(311,"th",35),r.Nb(312,"a",36),r.Lb(313,"img",51),r.Mb(),r.Mb(),r.Nb(314,"td"),r.Nb(315,"a",46),r.jc(316,"Sit unde debitis delectus repellendus"),r.Mb(),r.Mb(),r.Nb(317,"td"),r.jc(318,"$79"),r.Mb(),r.Nb(319,"td",47),r.jc(320,"41"),r.Mb(),r.Nb(321,"td"),r.jc(322,"$3,239"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb())},styles:[""]}),t})();function kx(t,e){if(1&t&&(r.Nb(0,"tr"),r.Lb(1,"th",11),r.Nb(2,"td"),r.jc(3),r.Mb(),r.Nb(4,"td"),r.jc(5),r.Mb(),r.Nb(6,"td"),r.jc(7),r.Mb(),r.Nb(8,"td"),r.jc(9),r.Mb(),r.Nb(10,"td"),r.Nb(11,"span",12),r.jc(12,"Approve"),r.Mb(),r.jc(13," \xa0 "),r.Nb(14,"span",13),r.jc(15,"Reject"),r.Mb(),r.Mb(),r.Mb()),2&t){const t=e.$implicit;r.Ab(3),r.kc(t.shopname),r.Ab(2),r.kc(t.email),r.Ab(2),r.kc(t.phone),r.Ab(2),r.kc(t.Address)}}let Ix=(()=>{class t{constructor(t){this.fbs=t,this.faArrowLeft=mx,this.myArray=[]}ngOnInit(){this.fbs.collection("shopOwners",t=>t.where("isverified","==","false")).valueChanges().subscribe(t=>{this.myArray=t,console.log(t)})}changeName(t){this.shopname=t}changeAddress(t){this.shopAdress=t}changeDescription(t){this.shopDescription=t}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(fb))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-edit-shop"]],decls:27,vars:1,consts:[["id","main",1,"main"],[1,"section"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],["id","Addbutton","type","button",1,"btn","btn-primary"],[1,"table","datatable"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],["onclick","console.log('approved shopowners')",1,"badge","bg-success"],["onclick","console.log('rejected shopowners')",1,"badge","bg-danger"]],template:function(t,e){1&t&&(r.Nb(0,"main",0),r.Nb(1,"section",1),r.Nb(2,"div",2),r.Nb(3,"div",3),r.Nb(4,"div",4),r.Nb(5,"div",5),r.Nb(6,"h5",6),r.jc(7," Edit Shopowners "),r.Nb(8,"button",7),r.jc(9,"Add shopowner"),r.Mb(),r.Mb(),r.Nb(10,"table",8),r.Nb(11,"thead"),r.Nb(12,"tr"),r.Nb(13,"th",9),r.jc(14,"#"),r.Mb(),r.Nb(15,"th",9),r.jc(16,"ShopName"),r.Mb(),r.Nb(17,"th",9),r.jc(18,"Email"),r.Mb(),r.Nb(19,"th",9),r.jc(20,"phone"),r.Mb(),r.Nb(21,"th",9),r.jc(22,"Address"),r.Mb(),r.Nb(23,"th",9),r.jc(24,"Status"),r.Mb(),r.Mb(),r.Mb(),r.Nb(25,"tbody"),r.ic(26,kx,16,4,"tr",10),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb()),2&t&&(r.Ab(26),r.Zb("ngForOf",e.myArray))},directives:[N],styles:[".main-customers[_ngcontent-%COMP%]{width:100%;height:100%}.mock-line[_ngcontent-%COMP%]{background-color:hsla(0,0%,50.2%,.425);width:100%;margin-top:5%;margin-bottom:5%;height:1px}.top-bar[_ngcontent-%COMP%]{height:8.5vh;align-items:center;justify-content:space-between;padding-left:1.5rem;padding-right:1.5rem}.container[_ngcontent-%COMP%], .top-bar[_ngcontent-%COMP%]{width:100%;display:flex}.container[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:nowrap;padding-top:1rem}h1[_ngcontent-%COMP%]{font-weight:700;font-size:18px;margin-bottom:3rem;height:2rem;width:100%;text-align:center}.left[_ngcontent-%COMP%]{width:80%;height:91.5vh;border-right:2px solid hsla(0,0%,50.2%,.247);padding-top:1rem}form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center}label[_ngcontent-%COMP%]{font-weight:700;margin-top:1rem;margin-bottom:.5rem}input[_ngcontent-%COMP%]{border-radius:.3rem;background-color:rgba(206,211,214,.28627450980392155);border:none;padding:8px;width:30%}.right[_ngcontent-%COMP%]{width:30%;height:91.5vh;display:flex;flex-direction:column;align-items:center;padding-top:1rem}.mobile[_ngcontent-%COMP%]{width:15rem;height:28rem;border:1px solid grey;border-radius:1rem;padding:1.5%}.mobile-top-bar[_ngcontent-%COMP%]{width:100%;height:5%}.mobile-shop-title[_ngcontent-%COMP%]{padding:0;font-size:14px;margin-top:.3rem;font-weight:700}.moble-shop-address[_ngcontent-%COMP%]{font-size:10px}.mobile-shop-description[_ngcontent-%COMP%]{font-size:12px;font-weight:lighter;line-height:.85rem;margin-top:.3rem}.mobile-shop-news-image[_ngcontent-%COMP%]{width:100%;height:7rem;margin-top:.7rem;border-radius:.3rem;background-position:50%;background-size:cover;background-image:url(https://blog.businesswire.com/hubfs/Images/All%20Stock%20Images/AdobeStock_76425572-media.jpg)}#Addbutton[_ngcontent-%COMP%]{line-height:12px;width:18px;font-size:8pt;font-family:tahoma;margin-top:1px;margin-right:2px;position:absolute;top:20;right:0;color:green}"]}),t})();var Nx=n("XoHu");function jx(t,e){return new bt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object(Ot.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Ax=new r.r("NgValueAccessor"),Mx={provide:Ax,useExisting:Object(r.U)(()=>Px),multi:!0};let Px=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Ub("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.zb([Mx])]}),t})();const Rx={provide:Ax,useExisting:Object(r.U)(()=>Lx),multi:!0},Dx=new r.r("CompositionEventMode");let Lx=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l),r.Kb(Dx,8))},t.\u0275dir=r.Fb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Ub("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.zb([Rx])]}),t})();function Fx(t){return null==t||0===t.length}function Ux(t){return null!=t&&"number"==typeof t.length}const Vx=new r.r("NgValidators"),qx=new r.r("NgAsyncValidators"),Bx=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class zx{static min(t){return e=>{if(Fx(e.value)||Fx(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Fx(e.value)||Fx(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Fx(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Fx(t.value)||Bx.test(t.value)?null:{email:!0}}static minLength(t){return e=>Fx(e.value)||!Ux(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Ux(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return zx.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Fx(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Hx);return 0==e.length?null:function(t){return Kx(Gx(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Hx);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(aw.a)(e))return jx(e,null);if(Object(Nx.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return jx(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return jx(t=1===t.length&&Object(aw.a)(t[0])?t[0]:t,null).pipe(Object(wt.a)(t=>e(...t)))}return jx(t,null)}(Gx(t,e).map(Wx)).pipe(Object(wt.a)(Kx))}}}function Hx(t){return null!=t}function Wx(t){const e=Object(r.rb)(t)?Object(Ot.a)(t):t;return Object(r.qb)(e),e}function Kx(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Gx(t,e){return e.map(e=>e(t))}function $x(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Qx(t){return null!=t?zx.compose($x(t)):null}function Yx(t){return null!=t?zx.composeAsync($x(t)):null}function Zx(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}let Xx=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Qx(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Yx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t}),t})(),Jx=(()=>{class t extends Xx{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return tS(e||t)},t.\u0275dir=r.Fb({type:t,features:[r.xb]}),t})();const tS=r.Pb(Jx);class eS extends Xx{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class nS{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let rS=(()=>{class t extends nS{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(eS,2))},t.\u0275dir=r.Fb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Cb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.xb]}),t})(),iS=(()=>{class t extends nS{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Jx,10))},t.\u0275dir=r.Fb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Cb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.xb]}),t})();const oS={provide:Ax,useExisting:Object(r.U)(()=>sS),multi:!0};let sS=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Ub("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.zb([oS])]}),t})();const aS={provide:Ax,useExisting:Object(r.U)(()=>cS),multi:!0};let uS=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),cS=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(eS),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l),r.Kb(uS),r.Kb(r.s))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Ub("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.zb([aS])]}),t})();const lS={provide:Ax,useExisting:Object(r.U)(()=>hS),multi:!0};let hS=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Ub("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.zb([lS])]}),t})();const dS={provide:Ax,useExisting:Object(r.U)(()=>fS),multi:!0};let fS=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Ub("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.zb([dS])]}),t})();const pS={provide:Ax,useExisting:Object(r.U)(()=>gS),multi:!0};let gS=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Ub("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.zb([pS])]}),t})();function mS(t,e){bS(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&vS(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&vS(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function yS(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function bS(t,e,n){const r=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(Zx(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=function(t){return t._rawAsyncValidators}(t);if(null!==e.asyncValidator?t.setAsyncValidators(Zx(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();yS(e._rawValidators,n),yS(e._rawAsyncValidators,n)}}function vS(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const _S=[Px,hS,sS,fS,gS,cS];function wS(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const CS="VALID",OS="INVALID",xS="PENDING",SS="DISABLED";function TS(t){return(NS(t)?t.validators:t)||null}function ES(t){return Array.isArray(t)?Qx(t):t||null}function kS(t,e){return(NS(e)?e.asyncValidators:t)||null}function IS(t){return Array.isArray(t)?Yx(t):t||null}function NS(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class jS{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=ES(this._rawValidators),this._composedAsyncValidatorFn=IS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===CS}get invalid(){return this.status===OS}get pending(){return this.status==xS}get disabled(){return this.status===SS}get enabled(){return this.status!==SS}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=ES(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=IS(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=xS,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=SS,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=CS,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==CS&&this.status!==xS||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?SS:CS}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=xS,this._hasOwnPendingAsyncValidator=!0;const e=Wx(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof MS?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof PS&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?SS:this.errors?OS:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xS)?xS:this._anyControlsHaveStatus(OS)?OS:CS}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){NS(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class AS extends jS{constructor(t=null,e,n){super(TS(e),kS(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){wS(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){wS(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class MS extends jS{constructor(t,e,n){super(TS(e),kS(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof AS?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class PS extends jS{constructor(t,e,n){super(TS(e),kS(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof AS?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const RS={provide:Jx,useExisting:Object(r.U)(()=>LS)},DS=(()=>Promise.resolve(null))();let LS=(()=>{class t extends Jx{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new MS({},Qx(t),Yx(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){DS.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),mS(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){DS.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),wS(this._directives,t)})}addFormGroup(t){DS.then(()=>{const e=this._findContainer(t.path),n=new MS({});(function(t,e){bS(t,e,!1)})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){DS.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){DS.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Vx,10),r.Kb(qx,10))},t.\u0275dir=r.Fb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.Ub("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.zb([RS]),r.xb]}),t})();const FS={provide:eS,useExisting:Object(r.U)(()=>VS)},US=(()=>Promise.resolve(null))();let VS=(()=>{class t extends eS{constructor(t,e,n,i){super(),this.control=new AS,this._registered=!1,this.update=new r.n,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{var e;t.constructor===Lx?n=t:(e=t,_S.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){mS(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){US.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;US.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Jx,9),r.Kb(Vx,10),r.Kb(qx,10),r.Kb(Ax,10))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.zb([FS]),r.xb,r.yb]}),t})(),qS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),BS=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})(),zS=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[uS],imports:[BS]}),t})();function HS(t){return e=>e.lift(new WS(t))}class WS{constructor(t){this.notifier=t}call(t,e){const n=new KS(t),r=Object(xt.c)(this.notifier,new xt.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class KS extends xt.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}const GS=["newIngredient"],$S=function(t){return{"background-image":t}};function QS(t,e){1&t&&r.Lb(0,"div",11),2&t&&r.Zb("ngStyle",r.bc(1,$S,"url("+e.$implicit+")"))}let YS=(()=>{class t{constructor(t,e){this.auth=t,this.firestore=e,this.destroy$=new zt.a}ngOnInit(){this.itemId?this.firestore.collection("items").doc(this.itemId).valueChanges().pipe(HS(this.destroy$)).subscribe(t=>{t&&(this.item=t)}):alert("something went wrong! ")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}editPrice(t){var e=this.firestore.firestore.batch(),n=this.firestore.firestore.collection("items").doc(this.itemId);e.update(n,{price:+t});var r=this.firestore.firestore.collection("shopOwners").doc(this.uid).collection("items").doc(this.itemId);e.update(r,{price:+t}),e.commit().catch(t=>{t&&alert(t)})}editQuantity(t){var e=this.firestore.firestore.batch(),n=this.firestore.firestore.collection("items").doc(this.itemId);e.update(n,{quantity:+t});var r=this.firestore.firestore.collection("shopOwners").doc(this.uid).collection("items").doc(this.itemId);e.update(r,{quantity:+t}),e.commit().catch(t=>{t&&alert(t)})}editCategory(t){var e=this.firestore.firestore.batch(),n=this.firestore.firestore.collection("items").doc(this.itemId);e.update(n,{category:t});var r=this.firestore.firestore.collection("shopOwners").doc(this.uid).collection("items").doc(this.itemId);e.update(r,{category:t}),e.commit().catch(t=>{t&&alert(t)}),this.firestore.collection("items").doc(this.itemId).update({category:t}).catch(t=>alert(t))}editCarBrand(t){var e=this.firestore.firestore.batch(),n=this.firestore.firestore.collection("items").doc(this.itemId);e.update(n,{brand:t});var r=this.firestore.firestore.collection("shopOwners").doc(this.uid).collection("items").doc(this.itemId);e.update(r,{brand:t}),e.commit().catch(t=>{t&&alert(t)}),this.firestore.collection("items").doc(this.itemId).update({brand:t}).catch(t=>alert(t))}editTopic(t){var e=this.firestore.firestore.batch(),n=this.firestore.firestore.collection("items").doc(this.itemId);e.update(n,{topics:t});var r=this.firestore.firestore.collection("shopOwners").doc(this.uid).collection("items").doc(this.itemId);e.update(r,{topics:t}),e.commit().catch(t=>{t&&alert(t)})}editDescription(t){var e=this.firestore.firestore.batch(),n=this.firestore.firestore.collection("items").doc(this.itemId);e.update(n,{description:t});var r=this.firestore.firestore.collection("shopOwners").doc(this.uid).collection("items").doc(this.itemId);e.update(r,{description:t}),e.commit().catch(t=>{t&&alert(t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(xe),r.Kb(fb))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-inside-item"]],viewQuery:function(t,e){if(1&t&&r.mc(GS,1),2&t){let t;r.cc(t=r.Vb())&&(e.ingredientHTML=t.first)}},inputs:{itemId:"itemId",uid:"uid"},decls:32,vars:6,consts:[[1,"prviewContainer"],["class","prviewImage",3,"ngStyle",4,"ngFor","ngForOf"],[2,"font-size","20px"],["type","text",3,"ngModel","keyUp.enter"],["itemPrice",""],["itemQuantity",""],["type","text",2,"width","10rem",3,"ngModel","keyUp.enter"],["itemCategory",""],["carBrand",""],["type","text",2,"width","100%",3,"ngModel","keyUp.enter"],["itemDescription",""],[1,"prviewImage",3,"ngStyle"]],template:function(t,e){if(1&t){const t=r.Ob();r.Nb(0,"div",0),r.ic(1,QS,1,3,"div",1),r.Mb(),r.Nb(2,"div"),r.Nb(3,"p",2),r.Nb(4,"strong"),r.jc(5,"Item Price $"),r.Mb(),r.Mb(),r.Nb(6,"input",3,4),r.Ub("keyUp.enter",function(){r.ec(t);const n=r.dc(7);return e.editPrice(n.value)}),r.Mb(),r.Mb(),r.Nb(8,"div"),r.Nb(9,"p",2),r.Nb(10,"strong"),r.jc(11,"Item Quantity"),r.Mb(),r.Mb(),r.Nb(12,"input",3,5),r.Ub("keyUp.enter",function(){r.ec(t);const n=r.dc(13);return e.editQuantity(n.value)}),r.Mb(),r.Mb(),r.Nb(14,"div"),r.Nb(15,"p",2),r.Nb(16,"strong"),r.jc(17,"Item Category"),r.Mb(),r.Mb(),r.Nb(18,"input",6,7),r.Ub("keyUp.enter",function(){r.ec(t);const n=r.dc(19);return e.editCategory(n.value)}),r.Mb(),r.Mb(),r.Nb(20,"div"),r.Nb(21,"p",2),r.Nb(22,"strong"),r.jc(23,"Car Brand"),r.Mb(),r.Mb(),r.Nb(24,"input",6,8),r.Ub("keyUp.enter",function(){r.ec(t);const n=r.dc(25);return e.editCarBrand(n.value)}),r.Mb(),r.Mb(),r.Nb(26,"div"),r.Nb(27,"p",2),r.Nb(28,"strong"),r.jc(29,"Item Description"),r.Mb(),r.Mb(),r.Nb(30,"textarea",9,10),r.Ub("keyUp.enter",function(){r.ec(t);const n=r.dc(31);return e.editDescription(n.value)}),r.Mb(),r.Mb()}2&t&&(r.Ab(1),r.Zb("ngForOf",e.item.url),r.Ab(5),r.Zb("ngModel",e.item.price),r.Ab(6),r.Zb("ngModel",e.item.quantity),r.Ab(6),r.Zb("ngModel",e.item.category),r.Ab(6),r.Zb("ngModel",e.item.brand),r.Ab(6),r.Zb("ngModel",e.item.description))},directives:[N,Lx,rS,VS,R],styles:[".info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:4rem;margin-right:1%;border-radius:.5rem;border:1px solid grey;font-size:16px;padding:4px 4px 4px 10px;margin-top:.25rem;margin-bottom:.5rem}.tag[_ngcontent-%COMP%]{animation-name:ingredient-tag-in;animation-duration:.2s;transition:ease-in-out}@keyframes ingredient-tag-in{0%{width:1rem}to{width:4rem}}.prviewContainer[_ngcontent-%COMP%]{width:100%;height:20rem;overflow-x:scroll;display:flex;flex-direction:row;flex-wrap:nowrap;scroll-snap-type:x mandatory;margin-bottom:.7rem}.prviewImage[_ngcontent-%COMP%]{width:100%;height:100%;background-position:50%;background-size:cover;scroll-behavior:smooth;flex-grow:0;flex-shrink:0;scroll-snap-align:start}"]}),t})(),ZS=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-loader"]],decls:2,vars:0,consts:[[1,"cell"],[1,"pl","pl-hourglass"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Lb(1,"div",1),r.Mb())},styles:['.cell[_ngcontent-%COMP%]{flex-basis:50%}.pl[_ngcontent-%COMP%], .pl[_ngcontent-%COMP%]:after, .pl[_ngcontent-%COMP%]:before{animation-duration:2s;animation-timing-function:linear;animation-iteration-count:infinite}.pl[_ngcontent-%COMP%]{margin:0 auto;position:relative;width:1.2em;height:1.2em}.pl[_ngcontent-%COMP%]:after, .pl[_ngcontent-%COMP%]:before{background:currentColor;content:"";display:block;position:absolute;top:0;left:0;width:100%;height:50%;transform-origin:50% 100%;clip-path:polygon(0 0,100% 0,50% 100%);-webkit-clip-path:polygon(0 0,100% 0,50% 100%)}.pl-hourglass[_ngcontent-%COMP%]{animation-name:hourglassA;background:#a3a3a3;clip-path:polygon(0 0,100% 0,50% 50%,100% 100%,0 100%,50% 50%);-webkit-clip-path:polygon(0 0,100% 0,50% 50%,100% 100%,0 100%,50% 50%)}.pl-hourglass[_ngcontent-%COMP%]:after, .pl-hourglass[_ngcontent-%COMP%]:before{position:static;clip-path:none;-webkit-clip-path:none}.pl-hourglass[_ngcontent-%COMP%]:before{animation-name:hourglassB}.pl-hourglass[_ngcontent-%COMP%]:after{animation-name:hourglassC}@keyframes hourglassA{0%,75%{transform:rotate(0)}to{transform:rotate(180deg)}}@keyframes hourglassB{0%{transform:scaleY(1)}50%,to{transform:scaleY(0)}}@keyframes hourglassC{0%{transform:scaleY(0)}50%,to{transform:scaleY(1)}}']}),t})();function XS(t,e){if(1&t){const t=r.Ob();r.Nb(0,"button",44),r.Ub("click",function(){return r.ec(t),r.Wb().showInputMeth()}),r.jc(1,"Search Item"),r.Mb()}}function JS(t,e){1&t&&r.Lb(0,"input",45)}function tT(t,e){if(1&t){const t=r.Ob();r.Nb(0,"button",46),r.Ub("click",function(){return r.ec(t),r.Wb().showInput=!1}),r.Mb()}}function eT(t,e){1&t&&r.Lb(0,"div",47)}const nT=function(t){return{"background-image":t}};function rT(t,e){1&t&&r.Lb(0,"div",48),2&t&&r.Zb("ngStyle",r.bc(1,nT,"url("+e.$implicit+")"))}function iT(t,e){if(1&t){const t=r.Ob();r.Nb(0,"button",49),r.Ub("click",function(){r.ec(t);const e=r.Wb(),n=r.dc(24),i=r.dc(29),o=r.dc(34),s=r.dc(39),a=r.dc(44);return e.uplaodItem(n.value,i.value,o.value,s.value,a.value)}),r.jc(1,"Add item"),r.Mb()}}function oT(t,e){if(1&t){const t=r.Ob();r.Nb(0,"div",10),r.Lb(1,"div",11),r.Nb(2,"div",12),r.Nb(3,"header",13),r.Nb(4,"input",50,51),r.Ub("keyUp.enter",function(){r.ec(t);const e=r.dc(5);return r.Wb().editTitle(e.value)}),r.Mb(),r.Nb(6,"button",15),r.Ub("click",function(){return r.ec(t),r.Wb().showItemModal=!1}),r.Mb(),r.Mb(),r.Nb(7,"section",16),r.Lb(8,"app-inside-item",52),r.Mb(),r.Nb(9,"footer",33),r.Nb(10,"button",34),r.Ub("click",function(){return r.ec(t),r.Wb().showItemModal=!1}),r.jc(11,"Cancel"),r.Mb(),r.Nb(12,"button",53),r.Ub("click",function(){return r.ec(t),r.Wb().deleteItem()}),r.jc(13,"Delete This Item"),r.Mb(),r.Mb(),r.Mb(),r.Mb()}if(2&t){const t=r.Wb();r.Cb("is-active",1==t.showItemModal),r.Ab(4),r.Zb("ngModel",t.itemTitle),r.Ab(4),r.Zb("itemId",t.itemId)}}function sT(t,e){if(1&t&&(r.Nb(0,"div",54),r.Nb(1,"p",55),r.jc(2),r.Mb(),r.Lb(3,"app-loader"),r.Mb()),2&t){const t=r.Wb();r.Ab(2),r.lc("uploading ",t.uploadImageProgress,"%")}}function aT(t,e){1&t&&(r.Nb(0,"div",54),r.Nb(1,"p",56),r.jc(2,"Uploaded "),r.Mb(),r.Mb())}function uT(t,e){1&t&&(r.Nb(0,"div",57),r.Nb(1,"p",56),r.jc(2,"Deleted "),r.Mb(),r.Mb())}function cT(t,e){if(1&t){const t=r.Ob();r.Nb(0,"li",58),r.Ub("click",function(){r.ec(t);const n=e.$implicit;return r.Wb().itemModal(n.id,n.title)}),r.Lb(1,"div",59),r.Nb(2,"div",60),r.Nb(3,"p",61),r.jc(4),r.Mb(),r.Mb(),r.Nb(5,"div",62),r.Nb(6,"div",60),r.Nb(7,"p",63),r.jc(8,"Price"),r.Mb(),r.Nb(9,"p"),r.jc(10),r.Mb(),r.Mb(),r.Nb(11,"div",60),r.Nb(12,"p",63),r.jc(13,"Quantity"),r.Mb(),r.Nb(14,"p"),r.jc(15),r.Mb(),r.Mb(),r.Mb(),r.Mb()}if(2&t){const t=e.$implicit;r.Ab(1),r.Zb("ngStyle",r.bc(4,nT,"url("+t.url[0]+")")),r.Ab(3),r.kc(t.title),r.Ab(6),r.lc("$",t.price,""),r.Ab(5),r.kc(t.quantity)}}function lT(t,e){1&t&&(r.Nb(0,"div",64),r.Nb(1,"h4"),r.jc(2,"No items yet! Add Some"),r.Mb(),r.Mb())}function hT(t,e){1&t&&(r.Nb(0,"div",64),r.Lb(1,"app-loader"),r.Mb())}let dT=(()=>{class t{constructor(t,e){this.firestore=t,this.storage=e,this.showInput=!1,this.faPlus=vx,this.showInfo=!1,this.showAddItemModal=!1,this.showItemModal=!1,this.loading=!0,this.previewUrls=[],this.paths=[],this.uploading=!1,this.uploadImageProgress=.1,this.uploaded=!1,this.toUplaodURLS=[],this.itemdeleted=!1}ngOnInit(){this.firestore.collection("items").valueChanges().subscribe(t=>{this.items=t,this.loading=!1})}showInputMeth(){this.showInput=!this.showInput}additemModal(){this.showAddItemModal=!0}itemModal(t,e){this.itemId=t,this.showItemModal=!0,this.itemTitle=e}uploadImage(t){this.imagePath=t.target.files[0],this.paths.push(this.imagePath);const e=new FileReader;e.onload=()=>{this.imagePreiviewUrl=e.result,this.previewUrls.push(this.imagePreiviewUrl)},e.readAsDataURL(this.imagePath)}uplaodItem(t,e,n,r,i){return Object(Ge.b)(this,void 0,void 0,function*(){if(this.imagePath)if(""!=t&&0!=e&&0!=n&&""!=r&&""!=i){let o=this.firestore.createId();this.showAddItemModal=!1;for(let t=0;t<this.paths.length;t++)yield this.uploadIndividualImgae(o,this.paths[t]);const s={key:o,title:t,price:e,discount:0,quantity:n,category:r,description:i,url:this.toUplaodURLS};this.firestore.collection("items").doc(o).set(s).catch(t=>alert(t))}else alert("Empty field");else alert("You need to add an item image")})}uploadIndividualImgae(t,e){return new Promise((n,r)=>{var i=this.firestore.createId();const o=this.storage.upload(`/items/${t}/${i}`,e);o.then(t=>{t.ref.getDownloadURL().then(t=>{this.toUplaodURLS.push(t),n()})}).catch(t=>console.log("image not uploaded")),o.percentageChanges().subscribe(t=>{this.uploading=!0,this.uploadImageProgress=null==t?void 0:t.valueOf(),100==t&&(this.uploading=!1,this.uploaded=!0,setInterval(()=>{this.uploaded=!1},2e3))})})}editTitle(t){}deleteItem(){}filter(t){}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(fb),r.Kb(Cr))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-items"]],decls:73,vars:15,consts:[[1,"main-customers"],[1,"top-bar","primary"],["class","search-button",3,"click",4,"ngIf"],["type","text","class","search-input",4,"ngIf"],["class","delete","style","border-radius: 0.25rem;",3,"click",4,"ngIf"],[1,"toggle-details",3,"click"],[1,"showDetails"],[2,"font-size","26px","color","white"],["class","search-space",4,"ngIf"],[2,"margin-left","1%"],[1,"modal"],[1,"modal-background"],[1,"modal-card"],[1,"modal-card-head"],[1,"modal-card-title"],["aria-label","close",1,"delete",3,"click"],[1,"modal-card-body"],[1,"input-container"],[1,"add-item-modal-label"],["type","text",1,"add-item-modal-input"],["title",""],["type","number",1,"add-item-modal-input"],["price",""],["quantity",""],["category",""],["type","text",1,"add-item-modal-textarea"],["description",""],[1,"input-container","image-file-input"],[2,"display","flex","flex-direction","column","align-items","center","gap","0.5rem"],[1,"button","is-warning","is-small"],["type","file","accept","*.png.jpg",2,"display","none",3,"change"],[1,"prviewContainer"],["class","prviewImage",3,"ngStyle",4,"ngFor","ngForOf"],[1,"modal-card-foot"],[1,"button",3,"click"],["class","button","style","background-color: black;color: white;",3,"click",4,"ngIf"],["class","modal",3,"is-active",4,"ngIf"],["class","upload-progress-container",4,"ngIf"],["class","upload-progress-container","style","background-color: rgb(247, 42, 6);",4,"ngIf"],[1,"Top-Options"],[1,"mock-line"],[1,"items"],[3,"click",4,"ngFor","ngForOf"],["style","width: 95%;height: 60vh;display: flex;flex-direction: column;align-items: center;justify-content: center;",4,"ngIf"],[1,"search-button",3,"click"],["type","text",1,"search-input"],[1,"delete",2,"border-radius","0.25rem",3,"click"],[1,"search-space"],[1,"prviewImage",3,"ngStyle"],[1,"button",2,"background-color","black","color","white",3,"click"],["type","text",1,"modal-card-title",2,"font-weight","bold","font-size","22px",3,"ngModel","keyUp.enter"],["itemTit",""],[3,"itemId"],[1,"button","is-danger",3,"click"],[1,"upload-progress-container"],[2,"color","rgb(255, 255, 255)","font-size","14px"],[2,"color","rgb(255, 255, 255)","font-size","16px"],[1,"upload-progress-container",2,"background-color","rgb(247, 42, 6)"],[3,"click"],[1,"poster",3,"ngStyle"],[1,"info"],[2,"font-weight","bold","font-size","18px"],[1,"bottom-info"],[2,"font-weight","bold"],[2,"width","95%","height","60vh","display","flex","flex-direction","column","align-items","center","justify-content","center"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"div",1),r.ic(2,XS,2,0,"button",2),r.ic(3,JS,1,0,"input",3),r.ic(4,tT,1,0,"button",4),r.Nb(5,"div",5),r.Ub("click",function(){return e.additemModal()}),r.Nb(6,"p",6),r.jc(7,"Add new item"),r.Mb(),r.Nb(8,"p",7),r.jc(9,"+"),r.Mb(),r.Mb(),r.Mb(),r.ic(10,eT,1,0,"div",8),r.Nb(11,"div",9),r.Nb(12,"div",10),r.Lb(13,"div",11),r.Nb(14,"div",12),r.Nb(15,"header",13),r.Nb(16,"p",14),r.jc(17,"Adding a new item"),r.Mb(),r.Nb(18,"button",15),r.Ub("click",function(){return e.showAddItemModal=!1}),r.Mb(),r.Mb(),r.Nb(19,"section",16),r.Nb(20,"div",17),r.Nb(21,"label",18),r.jc(22,"Item Title"),r.Mb(),r.Lb(23,"input",19,20),r.Mb(),r.Nb(25,"div",17),r.Nb(26,"label",18),r.jc(27,"Item Price ($ - LBP)"),r.Mb(),r.Lb(28,"input",21,22),r.Mb(),r.Nb(30,"div",17),r.Nb(31,"label",18),r.jc(32,"Item Quantity"),r.Mb(),r.Lb(33,"input",21,23),r.Mb(),r.Nb(35,"div",17),r.Nb(36,"label",18),r.jc(37,"Item Category"),r.Mb(),r.Lb(38,"input",19,24),r.Mb(),r.Nb(40,"div",17),r.Nb(41,"label",18),r.jc(42,"Item Description"),r.Mb(),r.Lb(43,"textarea",25,26),r.Mb(),r.Nb(45,"div",27),r.Nb(46,"div",28),r.Nb(47,"h3"),r.jc(48,"You can add multiple images"),r.Mb(),r.Nb(49,"label",29),r.Nb(50,"input",30),r.Ub("change",function(t){return e.uploadImage(t)}),r.Mb(),r.jc(51," Add image "),r.Mb(),r.Mb(),r.Mb(),r.Nb(52,"div",31),r.ic(53,rT,1,3,"div",32),r.Mb(),r.Mb(),r.Nb(54,"footer",33),r.Nb(55,"button",34),r.Ub("click",function(){return e.showAddItemModal=!1}),r.jc(56,"Cancel"),r.Mb(),r.ic(57,iT,2,0,"button",35),r.Mb(),r.Mb(),r.Mb(),r.ic(58,oT,14,4,"div",36),r.ic(59,sT,4,1,"div",37),r.ic(60,aT,3,0,"div",37),r.ic(61,uT,3,0,"div",38),r.Nb(62,"div",39),r.Nb(63,"ul"),r.Nb(64,"li"),r.jc(65,"Most Recent"),r.Mb(),r.Nb(66,"li"),r.jc(67,"Most Relevant"),r.Mb(),r.Mb(),r.Mb(),r.Lb(68,"div",40),r.Nb(69,"ul",41),r.ic(70,cT,16,6,"li",42),r.ic(71,lT,3,0,"div",43),r.ic(72,hT,2,0,"div",43),r.Mb(),r.Mb(),r.Mb()),2&t&&(r.Ab(2),r.Zb("ngIf",0==e.showInput),r.Ab(1),r.Zb("ngIf",1==e.showInput),r.Ab(1),r.Zb("ngIf",1==e.showInput),r.Ab(6),r.Zb("ngIf",1==e.showInput),r.Ab(2),r.Cb("is-active",1==e.showAddItemModal),r.Ab(41),r.Zb("ngForOf",e.previewUrls),r.Ab(4),r.Zb("ngIf",0==e.uploading),r.Ab(1),r.Zb("ngIf",1==e.showItemModal),r.Ab(1),r.Zb("ngIf",1==e.uploading),r.Ab(1),r.Zb("ngIf",1==e.uploaded),r.Ab(1),r.Zb("ngIf",1==e.itemdeleted),r.Ab(9),r.Zb("ngForOf",e.items),r.Ab(1),r.Zb("ngIf",0==e.items.length&&0==e.loading),r.Ab(1),r.Zb("ngIf",1==e.loading))},directives:[A,N,R,Lx,rS,VS,YS,ZS],styles:[".main-customers[_ngcontent-%COMP%]{width:100%;height:100%}.mock-line[_ngcontent-%COMP%]{background-color:hsla(0,0%,50.2%,.425);width:92.5%;margin-left:1.25%;margin-top:.5rem;margin-bottom:.5rem;height:1px}ul[_ngcontent-%COMP%]{list-style-type:none;flex-direction:row;flex-wrap:wrap;overflow:hidden;padding:1rem;height:91.5vh}.top-bar[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{display:flex;width:100%}.top-bar[_ngcontent-%COMP%]{height:8.5vh;align-items:center;padding-left:1.5rem;padding-right:1.5rem}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:17rem;margin-right:1%;border-radius:.5rem;border:none;font-size:16px;padding:4px 4px 4px 10px;animation-name:input-anim;animation-duration:.5s;transition:ease-in-out}@keyframes input-anim{0%{width:1rem}to{width:17rem}}.search-button[_ngcontent-%COMP%]{border:none;margin-right:1%;cursor:pointer;padding:7px;border-radius:.2rem;transition:.2s ease-in-out;font-weight:700;background-color:#fff}.search-button[_ngcontent-%COMP%]:hover{transform:scale(105%);background-color:#3d8ed0;color:#fff}.search-space[_ngcontent-%COMP%]{position:absolute;width:21.5rem;top:8.5vh;background-color:#f3f3f3;animation-name:search-space-anim-in;animation-duration:.5s;transition:ease-in-out;height:91.5vh;box-shadow:2px 2px 3px hsla(0,.8%,49%,.373)}.search-input[_ngcontent-%COMP%]{border:1px solid grey}@keyframes search-space-anim-in{0%{height:0}to{height:100Vh}}@keyframes search-space-anim-out{0%{width:21.5rem}to{width:0}}h3[_ngcontent-%COMP%]{padding-left:1rem;font-weight:700}.toggle-details[_ngcontent-%COMP%], .toggle-details-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.toggle-details[_ngcontent-%COMP%]{gap:1rem;margin-right:2rem;cursor:pointer}.showDetails[_ngcontent-%COMP%]{margin-left:1rem;min-width:4rem;color:#fff;font-size:14px}.filter-dropdown[_ngcontent-%COMP%]{z-index:3}.filterBy-span[_ngcontent-%COMP%]{font-size:14px;text-align:center;font-weight:700;cursor:pointer}.drop-down-container[_ngcontent-%COMP%], .filterBy-span[_ngcontent-%COMP%]{width:5rem;padding:4px;background-color:#fff}.drop-down-container[_ngcontent-%COMP%]{display:flex;list-style-type:none;flex-direction:column;align-items:center;justify-content:center;position:absolute;max-height:5rem;animation-name:drop-down-anim-in;animation-duration:.2s;transition:ease-in-out;box-shadow:0 3px 3px 2px hsla(0,0%,50.2%,.445)}.drop-down-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;cursor:pointer;border-bottom:1px solid hsla(0,0%,50.2%,.37);width:100%;text-align:center}.drop-down-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.drop-down-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{opacity:.8}@keyframes drop-down-anim-in{0%{height:1rem}to{height:5rem}}.Top-Options[_ngcontent-%COMP%]{width:100%;height:2rem}.Top-Options[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-top:.5rem;max-height:3rem}.Top-Options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:1rem;cursor:pointer;color:grey;transition:.5s ease-in-out;max-height:3rem}.Top-Options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{font-weight:700}.items[_ngcontent-%COMP%]{overflow-y:scroll}.items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:2%;margin-bottom:2rem;padding-bottom:1rem;border-radius:1rem;box-shadow:0 4px 2px 2px rgba(90,89,89,.164);max-height:18rem}.items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .poster[_ngcontent-%COMP%]{transition:.3s ease-in-out}.poster[_ngcontent-%COMP%]{width:16rem;height:10rem;background-position:50%;background-repeat:no-repeat;background-size:cover;border-top-left-radius:.5rem;border-top-right-radius:.5rem;margin-bottom:.5rem}.items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{transform:scale(102%);cursor:pointer;background-color:rgba(178,218,250,.808)}.info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;padding-left:1rem;padding-right:1rem}@keyframes bottom-info-anim-in{0%{height:1rem}to{height:4rem}}.bottom-info[_ngcontent-%COMP%]{animation-name:bottom-info-anim-in;height:4rem}.bottom-info[_ngcontent-%COMP%], .is-active[_ngcontent-%COMP%]{animation-duration:.5s;transition:ease-in-out}.is-active[_ngcontent-%COMP%]{animation-name:add-item-modal-fade-in}@keyframes add-item-modal-fade-in{0%{opacity:0}to{opacity:1}}.input-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;align-items:center;justify-content:space-between;margin-top:1rem}.add-item-modal-input[_ngcontent-%COMP%]{border:1px solid grey}.add-item-modal-input-special[_ngcontent-%COMP%]{width:15.25rem;animation-name:input-anim-special;border:1px solid grey}@keyframes input-anim-special{0%{width:1rem}to{width:15.25rem}}.image-file-input[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;margin-top:2.5rem}.prviewContainer[_ngcontent-%COMP%]{width:100%;height:15rem;overflow-x:scroll;display:flex;flex-direction:row;flex-wrap:nowrap;scroll-snap-type:x mandatory;margin-top:2rem;margin-bottom:3rem;border:1px solid grey;border-radius:.5rem}.prviewImage[_ngcontent-%COMP%]{width:100%;height:100%;background-position:50%;background-size:cover;scroll-behavior:smooth;flex-grow:0;flex-shrink:0;scroll-snap-align:start}.add-item-modal-textarea[_ngcontent-%COMP%]{border:1px solid grey;min-height:6rem}.add-item-modal-label[_ngcontent-%COMP%]{font-weight:700}.add-modal-ingred-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-right:4px}.ingredients-container[_ngcontent-%COMP%]{width:100%;min-height:2rem;padding-top:5px}.tag[_ngcontent-%COMP%]{animation-name:ingredient-tag-in;animation-duration:.2s;transition:ease-in-out}@keyframes ingredient-tag-in{0%{width:1rem}to{width:4rem}}.upload-progress-container[_ngcontent-%COMP%]{width:10rem;height:2.5rem;background-color:#2f302f;position:fixed;bottom:4%;right:2.5%;border-radius:.5rem;animation-name:upload-progress-in;animation-duration:.7s;transition:ease-in-out;display:flex;flex-direction:row;align-items:center;justify-content:space-evenly;cursor:default;box-shadow:0 5px 4px 2px rgba(170,169,169,.288)}@keyframes upload-progress-in{0%{width:1rem}to{width:10rem}}"]}),t})();const fT=function(t){return{"is-loading":t}};let pT=(()=>{class t{constructor(t,e){this.auth=t,this.router=e,this.isLOading=!1}ngOnInit(){}login(t,e){return Object(Ge.b)(this,void 0,void 0,function*(){""!=t&&""!=e?(this.isLOading=!0,yield this.auth.signInWithEmailAndPassword(t,e).catch(t=>{alert(t)}).then(()=>{this.router.navigate(["dashboard"]),this.isLOading=!1})):alert("Empty Fields")})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(xe),r.Kb($O))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-login"]],decls:28,vars:3,consts:[[1,"main","is-info"],["id","font"],[1,"box"],[1,"field"],[1,"label"],[1,"control"],["type","email","placeholder","e.g. alex@example.com",1,"input"],["email1",""],["type","password","placeholder","********",1,"input"],["pass1",""],[1,"button",2,"background-color","#012970","color","white",3,"ngClass","click"]],template:function(t,e){if(1&t){const t=r.Ob();r.Nb(0,"div",0),r.Nb(1,"h1"),r.jc(2,"Go2Parts"),r.Mb(),r.Nb(3,"p",1),r.jc(4,"Login in with your Admin Account"),r.Mb(),r.Nb(5,"p"),r.jc(6,"Not signed in? "),r.Nb(7,"a"),r.jc(8,"register here"),r.Mb(),r.Mb(),r.Nb(9,"form",2),r.Nb(10,"div",3),r.Nb(11,"label",4),r.jc(12,"Email"),r.Mb(),r.Nb(13,"div",5),r.Lb(14,"input",6,7),r.Mb(),r.Mb(),r.Nb(16,"div",3),r.Nb(17,"label",4),r.jc(18,"Password"),r.Mb(),r.Nb(19,"div",5),r.Lb(20,"input",8,9),r.Mb(),r.Mb(),r.Nb(22,"button",10),r.Ub("click",function(){r.ec(t);const n=r.dc(15),i=r.dc(21);return e.login(n.value,i.value)}),r.jc(23,"Login"),r.Mb(),r.Mb(),r.Nb(24,"p"),r.jc(25,"For further help "),r.Nb(26,"a"),r.jc(27,"Reach Our Support"),r.Mb(),r.Mb(),r.Mb()}2&t&&(r.Ab(22),r.Zb("ngClass",r.bc(1,fT,!0===e.isLOading)))},directives:[qS,iS,LS,k],styles:[".main[_ngcontent-%COMP%]{position:absolute;left:0;width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:1rem;background-color:#f5f6f7}h1[_ngcontent-%COMP%]{font-weight:700;font-size:40px;padding-bottom:0}h1[_ngcontent-%COMP%], label[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#012970}"]}),t})();function gT(t,e){1&t&&r.Lb(0,"input",15)}function mT(t,e){if(1&t){const t=r.Ob();r.Nb(0,"button",16),r.Ub("click",function(){return r.ec(t),r.Wb(2).showInput=!1}),r.Mb()}}function yT(t,e){if(1&t&&(r.Nb(0,"div",10),r.Nb(1,"div",11),r.ic(2,gT,1,0,"input",12),r.ic(3,mT,1,0,"button",13),r.Mb(),r.Lb(4,"div",14),r.Mb()),2&t){const t=r.Wb();r.Ab(2),r.Zb("ngIf",1==t.showInput),r.Ab(1),r.Zb("ngIf",1==t.showInput)}}const bT=function(){return{color:"orange"}};function vT(t,e){if(1&t&&(r.Nb(0,"p",20),r.jc(1),r.Mb()),2&t){const t=r.Wb().$implicit;r.Zb("ngStyle",r.ac(2,bT)),r.Ab(1),r.lc(" ",t.orderstatus,"")}}function _T(t,e){if(1&t&&(r.Nb(0,"p",21),r.jc(1),r.Mb()),2&t){const t=r.Wb().$implicit;r.Ab(1),r.lc(" ",t.orderstatus,"")}}function wT(t,e){if(1&t&&(r.Nb(0,"p",22),r.jc(1),r.Mb()),2&t){const t=r.Wb().$implicit;r.Ab(1),r.lc(" ",t.orderstatus,"")}}function CT(t,e){if(1&t&&(r.Nb(0,"li"),r.Nb(1,"p",7),r.jc(2),r.Mb(),r.Nb(3,"p",7),r.jc(4),r.Mb(),r.Nb(5,"p",7),r.jc(6),r.Mb(),r.Nb(7,"p",7),r.jc(8),r.Mb(),r.ic(9,vT,2,3,"p",17),r.ic(10,_T,2,1,"p",18),r.ic(11,wT,2,1,"p",19),r.Nb(12,"p",7),r.jc(13),r.Mb(),r.Mb()),2&t){const t=e.$implicit;r.Ab(2),r.kc(t.orderid),r.Ab(2),r.kc(t.username),r.Ab(2),r.kc(t.phonenumber),r.Ab(2),r.kc(t.adress),r.Ab(1),r.Zb("ngIf","pending"==t.orderstatus),r.Ab(1),r.Zb("ngIf","canceled"==t.orderstatus),r.Ab(1),r.Zb("ngIf","started"==t.orderstatus),r.Ab(2),r.kc(t.totlaprice)}}function OT(t,e){1&t&&(r.Nb(0,"div",23),r.Nb(1,"p",24),r.jc(2,"You have no order yet!"),r.Mb(),r.Mb())}let xT=(()=>{class t{constructor(t,e){this.auth=t,this.firestore=e,this.showInput=!1,this.showInfo=!1,this.filterBy="category",this.dropDownOn1=!1,this.dropDownOn2=!1,this.chosenTopic="new",this.isCancelClicked=!1,this.isStartClicked=!1,this.orderToCancelId="",this.orderToStartId="",this.t=Date.now(),this.userid="",this.username="",this.shopname="",this.shopid="",this.loading=!0,this.destroy$=new zt.a,this.destroy1$=new zt.a,this.destroy2$=new zt.a}ngOnInit(){this.getUser().then(()=>{this.firestore.collection("orders",t=>t.orderBy("timestamp","desc")).valueChanges().pipe(HS(this.destroy2$)).subscribe(t=>{this.orders=t})})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.destroy1$.next(),this.destroy1$.complete(),this.destroy2$.next(),this.destroy2$.complete()}getUser(){return new Promise((t,e)=>{this.auth.authState.pipe(HS(this.destroy$)).subscribe(e=>{this.uid=e.uid,t()})})}showInputMeth(){this.showInput=!this.showInput}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(xe),r.Kb(fb))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-orders"]],decls:26,vars:4,consts:[[1,"main-customers"],[1,"top-bar","primary"],["class","search-space",4,"ngIf"],[1,"orders"],[2,"font-weight","bold","margin-top","1rem","margin-left","50%","size","50px"],[2,"font-weight","bold","margin-left","65%"],[1,"top-table"],[1,"order-individual"],[4,"ngFor","ngForOf"],["style","height: 5rem;display: flex;flex-direction:row;align-items:center;justify-content:center;",4,"ngIf"],[1,"search-space"],[1,"search-space-top"],["type","text","class","search-input",4,"ngIf"],["class","delete","style","border-radius: 0.25rem;",3,"click",4,"ngIf"],[1,"mock-line"],["type","text",1,"search-input"],[1,"delete",2,"border-radius","0.25rem",3,"click"],["class","order-individual",3,"ngStyle",4,"ngIf"],["class","order-individual","style","color: tomato;",4,"ngIf"],["class","order-individual","style","color: rgb(68, 172, 70);",4,"ngIf"],[1,"order-individual",3,"ngStyle"],[1,"order-individual",2,"color","tomato"],[1,"order-individual",2,"color","rgb(68, 172, 70)"],[2,"height","5rem","display","flex","flex-direction","row","align-items","center","justify-content","center"],[2,"text-align","center"]],template:function(t,e){1&t&&(r.Nb(0,"div",0),r.Nb(1,"div",1),r.Nb(2,"h3"),r.jc(3,"Orders"),r.Mb(),r.Mb(),r.ic(4,yT,5,2,"div",2),r.Nb(5,"div",3),r.Nb(6,"h3",4),r.jc(7,"Today's orders"),r.Mb(),r.Nb(8,"h1",5),r.jc(9),r.Mb(),r.Nb(10,"ul"),r.Nb(11,"div",6),r.Nb(12,"p",7),r.jc(13,"Id"),r.Mb(),r.Nb(14,"p",7),r.jc(15,"To name"),r.Mb(),r.Nb(16,"p",7),r.jc(17,"To phone number"),r.Mb(),r.Nb(18,"p",7),r.jc(19,"To Address"),r.Mb(),r.Nb(20,"p",7),r.jc(21,"Order status"),r.Mb(),r.Nb(22,"p",7),r.jc(23,"Total Price $"),r.Mb(),r.Mb(),r.ic(24,CT,14,8,"li",8),r.ic(25,OT,3,0,"div",9),r.Mb(),r.Mb(),r.Mb()),2&t&&(r.Ab(4),r.Zb("ngIf",1==e.showInput),r.Ab(5),r.lc("",e.orders.length," total Orders"),r.Ab(15),r.Zb("ngForOf",e.orders),r.Ab(1),r.Zb("ngIf",0==e.orders.length))},directives:[A,N,R],styles:[".main-customers[_ngcontent-%COMP%]{width:100%;height:100%}.mock-line[_ngcontent-%COMP%]{background-color:hsla(0,0%,50.2%,.425);width:100%;margin-top:5%;margin-bottom:5%;height:1px}.top-bar[_ngcontent-%COMP%]{width:100%;height:8.5vh;background-color:#ddf1c9;display:flex;align-items:center;justify-content:space-between;padding-left:1.5rem;padding-right:1.5rem}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:17rem;margin-right:1%;border-radius:.5rem;border:none;font-size:16px;padding:4px 4px 4px 10px;animation-name:input-anim;animation-duration:.5s;transition:ease-in-out}@keyframes input-anim{0%{width:1rem}to{width:17rem}}.search-button[_ngcontent-%COMP%]{border:none;margin-right:1%;cursor:pointer;padding:7px;border-radius:.5rem;transition:.2s ease-in-out;font-weight:700;background-color:#fff}.search-button[_ngcontent-%COMP%]:hover{transform:scale(105%);background-color:#038138;color:#fff}.search-space[_ngcontent-%COMP%]{position:absolute;width:21.5rem;top:0;right:0;background-color:#f4fdeb;height:100Vh;animation-name:search-space-anim-in;animation-duration:.5s;transition:ease-in-out;box-shadow:-3px 0 5px -2px grey;z-index:5}.search-space-top[_ngcontent-%COMP%]{width:90%;margin-left:7.5%;margin-top:5%;display:flex;flex-direction:row;align-items:center;gap:.5rem}.search-input[_ngcontent-%COMP%]{border:1px solid grey}@keyframes search-space-anim-in{0%{width:1rem}to{width:21.5rem}}@keyframes search-space-anim-out{0%{width:21.5rem}to{width:0}}h3[_ngcontent-%COMP%]{padding-left:1rem;font-weight:700}.toggle-details[_ngcontent-%COMP%], .toggle-details-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.toggle-details[_ngcontent-%COMP%]{gap:1rem;margin-right:2rem}.showDetails[_ngcontent-%COMP%]{margin-left:1rem;min-width:4rem}.filter-dropdown[_ngcontent-%COMP%]{z-index:3}.filterBy-span[_ngcontent-%COMP%]{font-size:14px;text-align:center;font-weight:700;cursor:pointer}.drop-down-container[_ngcontent-%COMP%], .filterBy-span[_ngcontent-%COMP%]{width:5rem;padding:4px;background-color:#fff}.drop-down-container[_ngcontent-%COMP%]{display:flex;list-style-type:none;flex-direction:column;align-items:center;justify-content:center;position:absolute;max-height:5rem;animation-name:drop-down-anim-in;animation-duration:.2s;transition:ease-in-out;box-shadow:0 3px 3px 2px hsla(0,0%,50.2%,.445)}.drop-down-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;cursor:pointer;border-bottom:1px solid hsla(0,0%,50.2%,.37);width:100%;text-align:center}.drop-down-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.drop-down-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{opacity:.8}@keyframes drop-down-anim-in{0%{height:1rem}to{height:5rem}}.top-table[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;align-items:center;gap:1rem;flex-wrap:nowrap;border-bottom:1px solid hsla(0,0%,50.2%,.848);padding-top:5px;padding-bottom:5px;font-weight:700;text-align:center;position:sticky;top:0;background-color:#f4fdeb}.orders[_ngcontent-%COMP%]{overflow-y:scroll;height:100vh;padding-bottom:10%}.orders[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;width:60%;margin:.5% 25% 25%;overflow:hidden;padding:1rem;height:56vh;overflow-y:scroll;background-color:#f4fdeb;border-radius:.5rem;box-shadow:2px 2px 5px 2px rgba(20,20,20,.096)}.orders[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;align-items:center;gap:1rem;flex-wrap:nowrap;border-bottom:1px solid rgba(77,76,76,.182);padding-top:5px;padding-bottom:5px;text-align:center;transition:.2s ease-in-out}.orders[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:rgba(204,202,202,.363)}.order-individual[_ngcontent-%COMP%]{width:10rem;overflow:hidden}.cancel[_ngcontent-%COMP%]{background-color:tomato;width:5rem;cursor:pointer;border-radius:.5rem;transition:.3s ease-in-out;color:bisque}.cancel[_ngcontent-%COMP%]:hover{background-color:brown;color:#fff}.canceled[_ngcontent-%COMP%]{background-color:tomato;width:5rem;cursor:default;border-radius:.5rem;color:bisque;opacity:.4}"]}),t})(),ST=(()=>{class t{constructor(t,e){this.auth=t,this.router=e}canActivate(t,e){return new Promise((t,e)=>{this.auth.authState.subscribe(e=>{e&&"zahernajib77@gmail.com"==e.email?t(!0):(this.router.navigate(["login"]),t(!1))})})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(xe),r.Rb($O))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const TT=["newIngredient"];let ET=(()=>{class t{constructor(t){this.firestore=t,this.shopname="",this.Arealocation="",this.address="",this.Description="",this.isverified=!1,this.myArray=[],this.destroy$=new zt.a}ngOnInit(){this.itemId&&this.firestore.collection("shopOwners").valueChanges().subscribe(t=>{t&&(this.item=t,console.log(t))})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}editname(t){this.shopname=t,console.log(t)}editQuantity(t){this.firestore.collection("items").doc(this.itemId).update({quantity:+t}).catch(t=>alert(t))}editCategory(t){this.firestore.collection("items").doc(this.itemId).update({category:t}).catch(t=>alert(t))}editTopic(t){this.firestore.collection("items").doc(this.itemId).update({topics:t}).catch(t=>alert(t))}editDescription(t){this.firestore.collection("items").doc(this.itemId).update({description:t}).catch(t=>alert(t))}submit(){this.firestore.collection("shopOwners").add({shopname:this.shopname,Arealocation:this.Arealocation,Description:this.Description,Adress:this.address,isverified:!0}).then(t=>{console.log(t)}).catch(t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(fb))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-addshopowner"]],viewQuery:function(t,e){if(1&t&&r.mc(TT,1),2&t){let t;r.cc(t=r.Vb())&&(e.ingredientHTML=t.first)}},inputs:{itemId:"itemId"},decls:31,vars:5,consts:[[2,"font-size","20px"],["type","text","id","shopname",3,"ngModel","keyUp"],["itemPrice",""],["type","text","id","address",3,"ngModel","keyUp.enter"],["itemQuantity",""],["type","text","id","arealocation",2,"width","10rem",3,"ngModel","keyUp.enter"],["itemCategory",""],["type","text","id","description",2,"width","10rem",3,"ngModel","keyUp.enter"],["itemTopics",""],[1,"modal-card-foot"],[1,"button"],[1,"button","is-danger",3,"click"]],template:function(t,e){if(1&t){const t=r.Ob();r.Nb(0,"div"),r.Nb(1,"p",0),r.Nb(2,"strong"),r.jc(3,"Shop Name"),r.Mb(),r.Mb(),r.Nb(4,"input",1,2),r.Ub("keyUp",function(){r.ec(t);const n=r.dc(5);return e.editname(n.value)}),r.Mb(),r.Mb(),r.Nb(6,"div"),r.Nb(7,"p",0),r.Nb(8,"strong"),r.jc(9,"Address"),r.Mb(),r.Mb(),r.Nb(10,"input",3,4),r.Ub("keyUp.enter",function(){r.ec(t);const n=r.dc(11);return e.editQuantity(n.value)}),r.Mb(),r.Mb(),r.Nb(12,"div"),r.Nb(13,"p",0),r.Nb(14,"strong"),r.jc(15,"Area Location"),r.Mb(),r.Mb(),r.Nb(16,"input",5,6),r.Ub("keyUp.enter",function(){r.ec(t);const n=r.dc(17);return e.editCategory(n.value)}),r.Mb(),r.Mb(),r.Nb(18,"div"),r.Nb(19,"p",0),r.Nb(20,"strong"),r.jc(21,"Description"),r.Mb(),r.Mb(),r.Nb(22,"input",7,8),r.Ub("keyUp.enter",function(){r.ec(t);const n=r.dc(23);return e.editTopic(n.value)}),r.Mb(),r.Mb(),r.Nb(24,"footer",9),r.Nb(25,"button",10),r.jc(26,"Cancel"),r.Mb(),r.Nb(27,"button",11),r.Ub("click",function(){return e.submit()}),r.jc(28,"Update"),r.Mb(),r.Mb(),r.Nb(29,"h2"),r.jc(30),r.Mb()}2&t&&(r.Ab(4),r.Zb("ngModel",e.shopname),r.Ab(6),r.Zb("ngModel",e.address),r.Ab(6),r.Zb("ngModel",e.Arealocation),r.Ab(6),r.Zb("ngModel",e.Description),r.Ab(8),r.kc(e.shopname))},directives:[Lx,rS,VS],styles:[".info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:4rem;margin-right:1%;border-radius:.5rem;border:1px solid grey;font-size:16px;padding:4px 4px 4px 10px;margin-top:.25rem;margin-bottom:.5rem}.tag[_ngcontent-%COMP%]{animation-name:ingredient-tag-in;animation-duration:.2s;transition:ease-in-out}@keyframes ingredient-tag-in{0%{width:1rem}to{width:4rem}}.prviewContainer[_ngcontent-%COMP%]{width:100%;height:20rem;overflow-x:scroll;display:flex;flex-direction:row;flex-wrap:nowrap;scroll-snap-type:x mandatory;margin-bottom:.7rem}.prviewImage[_ngcontent-%COMP%]{width:100%;height:100%;background-position:50%;background-size:cover;scroll-behavior:smooth;flex-grow:0;flex-shrink:0;scroll-snap-align:start}"]}),t})();function kT(t,e){if(1&t){const t=r.Ob();r.Nb(0,"div",12),r.Lb(1,"div",13),r.Nb(2,"div",14),r.Nb(3,"header",15),r.Nb(4,"input",16,17),r.Ub("keyUp.enter",function(){r.ec(t);const e=r.dc(5);return r.Wb().editTitle(e.value)}),r.Mb(),r.Nb(6,"button",18),r.Ub("click",function(){return r.ec(t),r.Wb().showItemModal=!1}),r.Mb(),r.Mb(),r.Nb(7,"section",19),r.Lb(8,"app-addshopowner"),r.Mb(),r.Mb(),r.Mb()}if(2&t){const t=r.Wb();r.Cb("is-active",1==t.showItemModal),r.Ab(4),r.Zb("ngModel",t.itemTitle)}}function IT(t,e){if(1&t){const t=r.Ob();r.Nb(0,"tr"),r.Lb(1,"th",20),r.Nb(2,"td"),r.jc(3),r.Mb(),r.Nb(4,"td"),r.jc(5),r.Mb(),r.Nb(6,"td"),r.jc(7),r.Mb(),r.Nb(8,"td"),r.jc(9),r.Mb(),r.Nb(10,"td"),r.Nb(11,"span",21),r.Ub("click",function(){r.ec(t);const n=e.$implicit;return r.Wb().Approve(n.uid)}),r.jc(12,"Approve"),r.Mb(),r.jc(13," \xa0 "),r.Nb(14,"span",22),r.Ub("click",function(){r.ec(t);const n=e.$implicit;return r.Wb().reject(n.uid)}),r.jc(15,"Reject"),r.Mb(),r.Mb(),r.Mb()}if(2&t){const t=e.$implicit;r.Ab(3),r.kc(t.shopname),r.Ab(2),r.kc(t.email),r.Ab(2),r.kc(t.phone),r.Ab(2),r.kc(t.Address)}}function NT(t,e){if(1&t&&(r.Nb(0,"tr"),r.Lb(1,"th",20),r.Nb(2,"td"),r.jc(3),r.Mb(),r.Nb(4,"td"),r.jc(5),r.Mb(),r.Nb(6,"td"),r.jc(7),r.Mb(),r.Nb(8,"td"),r.jc(9),r.Mb(),r.Mb()),2&t){const t=e.$implicit;r.Ab(3),r.kc(t.shopname),r.Ab(2),r.kc(t.Address),r.Ab(2),r.kc(t.areaLocation),r.Ab(2),r.kc(t.phone)}}const jT=[{path:"",component:Ex},{path:"login",component:pT},{path:"dashboard",component:Ex,canActivate:[ST]},{path:"customers",component:Tx,canActivate:[ST]},{path:"orders",component:xT,canActivate:[ST]},{path:"items",component:dT,canActivate:[ST]},{path:"shopowner",component:(()=>{class t{constructor(t){this.fbs=t,this.faArrowLeft=mx,this.myArray=[],this.myArray1=[],this.showItemModal=!1}ngOnInit(){this.getVerified(),this.getunverified()}getVerified(){this.fbs.collection("shopOwners",t=>t.where("isverified","==",!0)).valueChanges().subscribe(t=>{this.myArray=t,console.log(t)})}getunverified(){this.fbs.collection("shopOwners",t=>t.where("isverified","==",!1)).valueChanges().subscribe(t=>{this.myArray1=t,console.log(t)})}changeName(t){this.shopname=t}changeAddress(t){this.shopAdress=t}changeDescription(t){this.shopDescription=t}Approve(t){this.fbs.collection("shopOwners").doc(t).update({isverified:!0}).catch(t=>{alert(t)})}reject(t){this.fbs.collection("shopOwners").doc(t).delete().catch(t=>{alert(t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(fb))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-shopowner"]],decls:49,vars:3,consts:[["id","main",1,"main"],["class","modal",3,"is-active",4,"ngIf"],[1,"section"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[2,"display","flex","flex-direction","row","justify-content","space-between","align-items","center"],[1,"card-title"],[1,"table","datatable"],["scope","col"],[4,"ngFor","ngForOf"],[1,"modal"],[1,"modal-background"],[1,"modal-card"],[1,"modal-card-head"],["type","text",1,"modal-card-title",2,"font-weight","bold","font-size","22px",3,"ngModel","keyUp.enter"],["itemTit",""],["aria-label","close",1,"delete",3,"click"],[1,"modal-card-body"],["scope","row"],[1,"badge","bg-success",2,"cursor","pointer",3,"click"],[1,"badge","bg-danger",2,"cursor","pointer",3,"click"]],template:function(t,e){1&t&&(r.Nb(0,"main",0),r.ic(1,kT,9,3,"div",1),r.Nb(2,"section",2),r.Nb(3,"div",3),r.Nb(4,"div",4),r.Nb(5,"div",5),r.Nb(6,"div",6),r.Nb(7,"div",7),r.Nb(8,"h5",8),r.jc(9," Edit Shopowners "),r.Mb(),r.Mb(),r.Nb(10,"table",9),r.Nb(11,"thead"),r.Nb(12,"tr"),r.Nb(13,"th",10),r.jc(14,"#"),r.Mb(),r.Nb(15,"th",10),r.jc(16,"ShopName"),r.Mb(),r.Nb(17,"th",10),r.jc(18,"Email"),r.Mb(),r.Nb(19,"th",10),r.jc(20,"phone"),r.Mb(),r.Nb(21,"th",10),r.jc(22,"Address"),r.Mb(),r.Nb(23,"th",10),r.jc(24,"Status"),r.Mb(),r.Mb(),r.Mb(),r.Nb(25,"tbody"),r.ic(26,IT,16,4,"tr",11),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(27,"section",2),r.Nb(28,"div",3),r.Nb(29,"div",4),r.Nb(30,"div",5),r.Nb(31,"div",6),r.Nb(32,"h5",8),r.jc(33,"Shopowners"),r.Mb(),r.Nb(34,"table",9),r.Nb(35,"thead"),r.Nb(36,"tr"),r.Nb(37,"th",10),r.jc(38,"#"),r.Mb(),r.Nb(39,"th",10),r.jc(40,"ShopName"),r.Mb(),r.Nb(41,"th",10),r.jc(42,"Address"),r.Mb(),r.Nb(43,"th",10),r.jc(44,"Arealocation"),r.Mb(),r.Nb(45,"th",10),r.jc(46,"phone"),r.Mb(),r.Mb(),r.Mb(),r.Nb(47,"tbody"),r.ic(48,NT,10,4,"tr",11),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb()),2&t&&(r.Ab(1),r.Zb("ngIf",1==e.showItemModal),r.Ab(25),r.Zb("ngForOf",e.myArray1),r.Ab(22),r.Zb("ngForOf",e.myArray))},directives:[A,N,Lx,rS,VS,ET],styles:[".main-customers[_ngcontent-%COMP%]{width:100%;height:100%}.mock-line[_ngcontent-%COMP%]{background-color:hsla(0,0%,50.2%,.425);width:100%;margin-top:5%;margin-bottom:5%;height:1px}.top-bar[_ngcontent-%COMP%]{height:8.5vh;align-items:center;justify-content:space-between;padding-left:1.5rem;padding-right:1.5rem}.container[_ngcontent-%COMP%], .top-bar[_ngcontent-%COMP%]{width:100%;display:flex}.container[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:nowrap;padding-top:1rem}h1[_ngcontent-%COMP%]{font-weight:700;font-size:18px;margin-bottom:3rem;height:2rem;width:100%;text-align:center}.left[_ngcontent-%COMP%]{width:80%;height:91.5vh;border-right:2px solid hsla(0,0%,50.2%,.247);padding-top:1rem}form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center}label[_ngcontent-%COMP%]{font-weight:700;margin-top:1rem;margin-bottom:.5rem}input[_ngcontent-%COMP%]{border-radius:.3rem;background-color:rgba(206,211,214,.28627450980392155);border:none;padding:8px;width:30%}.right[_ngcontent-%COMP%]{width:30%;height:91.5vh;display:flex;flex-direction:column;align-items:center;padding-top:1rem}.mobile[_ngcontent-%COMP%]{width:15rem;height:28rem;border:1px solid grey;border-radius:1rem;padding:1.5%}.mobile-top-bar[_ngcontent-%COMP%]{width:100%;height:5%}.mobile-shop-title[_ngcontent-%COMP%]{padding:0;font-size:14px;margin-top:.3rem;font-weight:700}.moble-shop-address[_ngcontent-%COMP%]{font-size:10px}.mobile-shop-description[_ngcontent-%COMP%]{font-size:12px;font-weight:lighter;line-height:.85rem;margin-top:.3rem}.mobile-shop-news-image[_ngcontent-%COMP%]{width:100%;height:7rem;margin-top:.7rem;border-radius:.3rem;background-position:50%;background-size:cover;background-image:url(https://blog.businesswire.com/hubfs/Images/All%20Stock%20Images/AdobeStock_76425572-media.jpg)}"]}),t})(),canActivate:[ST]},{path:"editshop",component:Ix,canActivate:[ST]}];let AT=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[ax.forRoot(jT)],ax]}),t})();function MT(t,e){if(1&t){const t=r.Ob();r.Nb(0,"header",2),r.Nb(1,"div",3),r.Nb(2,"a",4),r.Lb(3,"img",5),r.Nb(4,"span",6),r.jc(5," Go2parts Admin "),r.Mb(),r.Mb(),r.Mb(),r.Nb(6,"nav",7),r.Nb(7,"ul",8),r.Nb(8,"li",9),r.Nb(9,"a",10),r.Lb(10,"i",11),r.Mb(),r.Mb(),r.Nb(11,"li",12),r.Nb(12,"a",13),r.Lb(13,"i",14),r.Nb(14,"span",15),r.jc(15,"4"),r.Mb(),r.Mb(),r.Nb(16,"ul",16),r.Nb(17,"li",17),r.jc(18," You have 4 new notifications "),r.Nb(19,"a",18),r.Nb(20,"span",19),r.jc(21,"View all"),r.Mb(),r.Mb(),r.Mb(),r.Nb(22,"li"),r.Lb(23,"hr",20),r.Mb(),r.Nb(24,"li",21),r.Lb(25,"i",22),r.Nb(26,"div"),r.Nb(27,"h4"),r.jc(28,"Lorem Ipsum"),r.Mb(),r.Nb(29,"p"),r.jc(30,"Quae dolorem earum veritatis oditseno"),r.Mb(),r.Nb(31,"p"),r.jc(32,"30 min. ago"),r.Mb(),r.Mb(),r.Mb(),r.Nb(33,"li"),r.Lb(34,"hr",20),r.Mb(),r.Nb(35,"li",21),r.Lb(36,"i",23),r.Nb(37,"div"),r.Nb(38,"h4"),r.jc(39,"Atque rerum nesciunt"),r.Mb(),r.Nb(40,"p"),r.jc(41,"Quae dolorem earum veritatis oditseno"),r.Mb(),r.Nb(42,"p"),r.jc(43,"1 hr. ago"),r.Mb(),r.Mb(),r.Mb(),r.Nb(44,"li"),r.Lb(45,"hr",20),r.Mb(),r.Nb(46,"li",21),r.Lb(47,"i",24),r.Nb(48,"div"),r.Nb(49,"h4"),r.jc(50,"Sit rerum fuga"),r.Mb(),r.Nb(51,"p"),r.jc(52,"Quae dolorem earum veritatis oditseno"),r.Mb(),r.Nb(53,"p"),r.jc(54,"2 hrs. ago"),r.Mb(),r.Mb(),r.Mb(),r.Nb(55,"li"),r.Lb(56,"hr",20),r.Mb(),r.Nb(57,"li",21),r.Lb(58,"i",25),r.Nb(59,"div"),r.Nb(60,"h4"),r.jc(61,"Dicta reprehenderit"),r.Mb(),r.Nb(62,"p"),r.jc(63,"Quae dolorem earum veritatis oditseno"),r.Mb(),r.Nb(64,"p"),r.jc(65,"4 hrs. ago"),r.Mb(),r.Mb(),r.Mb(),r.Nb(66,"li"),r.Lb(67,"hr",20),r.Mb(),r.Nb(68,"li",26),r.Nb(69,"a",18),r.jc(70,"Show all notifications"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(71,"li",27),r.Nb(72,"a",28),r.Lb(73,"img",29),r.Nb(74,"span",30),r.jc(75,"Admin"),r.Mb(),r.Mb(),r.Nb(76,"ul",31),r.Nb(77,"li",17),r.Nb(78,"span"),r.jc(79,"Admin"),r.Mb(),r.Mb(),r.Nb(80,"li"),r.Lb(81,"hr",20),r.Mb(),r.Nb(82,"li"),r.Nb(83,"a",32),r.Lb(84,"i",33),r.Nb(85,"span"),r.jc(86,"My Profile"),r.Mb(),r.Mb(),r.Mb(),r.Nb(87,"li"),r.Lb(88,"hr",20),r.Mb(),r.Nb(89,"li"),r.Nb(90,"a",32),r.Lb(91,"i",34),r.Nb(92,"span"),r.jc(93,"Account Settings"),r.Mb(),r.Mb(),r.Mb(),r.Nb(94,"li"),r.Lb(95,"hr",20),r.Mb(),r.Nb(96,"li"),r.Nb(97,"a",35),r.Lb(98,"i",36),r.Nb(99,"span"),r.jc(100,"Need Help?"),r.Mb(),r.Mb(),r.Mb(),r.Nb(101,"li"),r.Lb(102,"hr",20),r.Mb(),r.Nb(103,"li"),r.Nb(104,"a",37),r.Ub("click",function(){return r.ec(t),r.Wb().signOut()}),r.Lb(105,"i",38),r.Nb(106,"span"),r.jc(107,"Sign Out"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb()}}const PT=function(t){return{collapsed:t}};function RT(t,e){if(1&t){const t=r.Ob();r.Nb(0,"aside",39),r.Nb(1,"ul",40),r.Nb(2,"li",41),r.Nb(3,"a",42),r.Ub("click",function(){return r.ec(t),r.Wb().toDashboard()}),r.Lb(4,"i",43),r.Nb(5,"span"),r.jc(6,"Dashboard"),r.Mb(),r.Mb(),r.Mb(),r.Nb(7,"li",41),r.Nb(8,"a",42),r.Ub("click",function(){return r.ec(t),r.Wb().toCustomers()}),r.Lb(9,"i",44),r.Nb(10,"span"),r.jc(11,"Customers"),r.Mb(),r.Mb(),r.Mb(),r.Nb(12,"li",41),r.Nb(13,"a",42),r.Ub("click",function(){return r.ec(t),r.Wb().toShopowner()}),r.Lb(14,"i",44),r.Nb(15,"span"),r.jc(16,"Shopowners"),r.Mb(),r.Mb(),r.Mb(),r.Nb(17,"li",41),r.Nb(18,"a",42),r.Ub("click",function(){return r.ec(t),r.Wb().toOrders()}),r.Lb(19,"i",45),r.Nb(20,"span"),r.jc(21,"Orders"),r.Mb(),r.Mb(),r.Mb(),r.Nb(22,"li",41),r.Nb(23,"a",42),r.Ub("click",function(){return r.ec(t),r.Wb().toItems()}),r.Lb(24,"i",45),r.Nb(25,"span"),r.jc(26,"Items"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb()}if(2&t){const t=r.Wb();r.Ab(3),r.Zb("ngClass",r.bc(5,PT,"dashboard"!=t.chosen)),r.Ab(5),r.Zb("ngClass",r.bc(7,PT,"customers"!=t.chosen)),r.Ab(5),r.Zb("ngClass",r.bc(9,PT,"shopowner"!=t.chosen)),r.Ab(5),r.Zb("ngClass",r.bc(11,PT,"orders"!=t.chosen)),r.Ab(5),r.Zb("ngClass",r.bc(13,PT,"items"!=t.chosen))}}let DT=(()=>{class t{constructor(t,e,n){this.router=t,this.auth=e,this.firestore=n,this.title="rabi3AdminApp",this.faEdit=vx,this.faBell=yx,this.faHome=wx,this.faShoppingBasket=Ox,this.faHandHoldingHeart=_x,this.faCar=bx,this.faMagnet=Cx,this.faUserAlt=xx,this.isUserDropClickedd=!1,this.chosen="dashboard",this.getUser().then(()=>{this.getUserData()})}getUser(){return new Promise((t,e)=>{this.auth.authState.subscribe(e=>{e&&(this.user=e,t())})})}getUserData(){return new Promise((t,e)=>{this.firestore.collection("shopOwners").doc(this.user.uid).valueChanges().subscribe(t=>{this.userData=t})})}toDashboard(){this.chosen="dashboard",this.router.navigate(["dashboard"])}toCustomers(){this.chosen="customers",this.router.navigate(["customers"])}toShopowner(){this.chosen="shopowner",this.router.navigate(["shopowner"])}toItems(){this.chosen="items",this.router.navigate(["items"])}toOrders(){this.chosen="orders",this.router.navigate(["orders"])}toEditshop(){this.chosen="editshop",this.isUserDropClickedd=!1,this.router.navigate(["editshop"])}signOut(){this.chosen="logout",this.auth.signOut().catch(t=>alert(t)).then(()=>{window.location.reload()})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb($O),r.Kb(xe),r.Kb(fb))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-root"]],decls:3,vars:2,consts:[["id","header","class","header fixed-top d-flex align-items-center",4,"ngIf"],["id","sidebar","class","sidebar",4,"ngIf"],["id","header",1,"header","fixed-top","d-flex","align-items-center"],[1,"d-flex","align-items-center","justify-content-between"],["href","index.html",1,"logo","d-flex","align-items-center"],["src","assets/img/logo.png","alt",""],[1,"d-none","d-lg-block"],[1,"header-nav","ms-auto"],[1,"d-flex","align-items-center"],[1,"nav-item","d-block","d-lg-none"],["href","#",1,"nav-link","nav-icon","search-bar-toggle"],[1,"bi","bi-search"],[1,"nav-item","dropdown"],["href","#","data-bs-toggle","dropdown",1,"nav-link","nav-icon"],[1,"bi","bi-bell"],[1,"badge","bg-primary","badge-number"],[1,"dropdown-menu","dropdown-menu-end","dropdown-menu-arrow","notifications"],[1,"dropdown-header"],["href","#"],[1,"badge","rounded-pill","bg-primary","p-2","ms-2"],[1,"dropdown-divider"],[1,"notification-item"],[1,"bi","bi-exclamation-circle","text-warning"],[1,"bi","bi-x-circle","text-danger"],[1,"bi","bi-check-circle","text-success"],[1,"bi","bi-info-circle","text-primary"],[1,"dropdown-footer"],[1,"nav-item","dropdown","pe-3"],["href","#","data-bs-toggle","dropdown",1,"nav-link","nav-profile","d-flex","align-items-center","pe-0"],["src","assets/img/profile-img.jpg","alt","Profile",1,"rounded-circle"],[1,"d-none","d-md-block","dropdown-toggle","ps-2"],[1,"dropdown-menu","dropdown-menu-end","dropdown-menu-arrow","profile"],["href","users-profile.html",1,"dropdown-item","d-flex","align-items-center"],[1,"bi","bi-person"],[1,"bi","bi-gear"],["href","pages-faq.html",1,"dropdown-item","d-flex","align-items-center"],[1,"bi","bi-question-circle"],[1,"dropdown-item","d-flex","align-items-center",3,"click"],[1,"bi","bi-box-arrow-right"],["id","sidebar",1,"sidebar"],["id","sidebar-nav",1,"sidebar-nav"],[1,"nav-item"],[1,"nav-link",3,"ngClass","click"],[1,"bi","bi-grid"],[1,"bi","bi-box-arrow-in-right"],[1,"bi","bi-card-list"]],template:function(t,e){1&t&&(r.ic(0,MT,108,0,"header",0),r.ic(1,RT,27,15,"aside",1),r.Lb(2,"router-outlet")),2&t&&(r.Zb("ngIf",null!=e.user),r.Ab(1),r.Zb("ngIf",null!=e.user))},directives:[A,ZO,k],styles:[""]}),t})(),LT=(()=>{class t{}return t.\u0275mod=r.Ib({type:t,bootstrap:[DT]}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[],imports:[[gt,AT,zS,mt.a.initializeApp(gb),Se,pb,Be,xr,ow]]}),t})();Object(r.T)(),ft().bootstrapModule(LT).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.a)return t.subscribe(e);let n;try{n=Object(o.a)(t)(e)}catch(r){e.error(r)}return n}}},[[0,0]]]);